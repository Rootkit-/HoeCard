/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap=e(t.Popper)}(this,(function(t){"use strict";function e(t){if(t&&t.__esModule)return t;const e=Object.create(null);if(t)for(const i in t)if("default"!==i){const n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:()=>t[i]})}return e.default=t,Object.freeze(e)}const i=e(t),n="transitionend",o=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e},s=t=>{const e=o(t);return e&&document.querySelector(e)?e:null},a=t=>{const e=o(t);return e?document.querySelector(e):null},r=t=>{t.dispatchEvent(new Event(n))},l=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),c=t=>l(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,h=(t,e,i)=>{Object.keys(i).forEach((n=>{const o=i[n],s=e[n],a=s&&l(s)?"element":null==(r=s)?`${r}`:{}.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase();var r;if(!new RegExp(o).test(a))throw new TypeError(`${t.toUpperCase()}: Option "${n}" provided type "${a}" but expected type "${o}".`)}))},u=t=>!(!l(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),d=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),p=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?p(t.parentNode):null},f=()=>{},m=t=>{t.offsetHeight},_=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},g=[],v=()=>"rtl"===document.documentElement.dir,y=t=>{var e;e=()=>{const e=_();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}},"loading"===document.readyState?(g.length||document.addEventListener("DOMContentLoaded",(()=>{g.forEach((t=>t()))})),g.push(e)):e()},b=t=>{"function"==typeof t&&t()},w=(t,e,i=!0)=>{if(!i)return void b(t);const o=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),o=Number.parseFloat(i);return n||o?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(e)+5;let s=!1;const a=({target:i})=>{i===e&&(s=!0,e.removeEventListener(n,a),b(t))};e.addEventListener(n,a),setTimeout((()=>{s||r(e)}),o)},x=(t,e,i,n)=>{let o=t.indexOf(e);if(-1===o)return t[!i&&n?t.length-1:0];const s=t.length;return o+=i?1:-1,n&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))]},S=/[^.]*(?=\..*)\.|.*/,T=/\..*/,C=/::\d+$/,k={};let P=1;const L={mouseenter:"mouseover",mouseleave:"mouseout"},D=/^(mouseenter|mouseleave)/i,A=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function E(t,e){return e&&`${e}::${P++}`||t.uidEvent||P++}function I(t){const e=E(t);return t.uidEvent=e,k[e]=k[e]||{},k[e]}function M(t,e,i=null){const n=Object.keys(t);for(let o=0,s=n.length;o<s;o++){const s=t[n[o]];if(s.originalHandler===e&&s.delegationSelector===i)return s}return null}function $(t,e,i){const n="string"==typeof e,o=n?i:e;let s=B(t);return A.has(s)||(s=t),[n,o,s]}function O(t,e,i,n,o){if("string"!=typeof e||!t)return;if(i||(i=n,n=null),D.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};n?n=t(n):i=t(i)}const[s,a,r]=$(e,i,n),l=I(t),c=l[r]||(l[r]={}),h=M(c,a,s?i:null);if(h)return void(h.oneOff=h.oneOff&&o);const u=E(a,e.replace(S,"")),d=s?function(t,e,i){return function n(o){const s=t.querySelectorAll(e);for(let{target:a}=o;a&&a!==this;a=a.parentNode)for(let r=s.length;r--;)if(s[r]===a)return o.delegateTarget=a,n.oneOff&&j.off(t,o.type,e,i),i.apply(a,[o]);return null}}(t,i,n):function(t,e){return function i(n){return n.delegateTarget=t,i.oneOff&&j.off(t,n.type,e),e.apply(t,[n])}}(t,i);d.delegationSelector=s?i:null,d.originalHandler=a,d.oneOff=o,d.uidEvent=u,c[u]=d,t.addEventListener(r,d,s)}function N(t,e,i,n,o){const s=M(e[i],n,o);s&&(t.removeEventListener(i,s,Boolean(o)),delete e[i][s.uidEvent])}function B(t){return t=t.replace(T,""),L[t]||t}const j={on(t,e,i,n){O(t,e,i,n,!1)},one(t,e,i,n){O(t,e,i,n,!0)},off(t,e,i,n){if("string"!=typeof e||!t)return;const[o,s,a]=$(e,i,n),r=a!==e,l=I(t),c=e.startsWith(".");if(void 0!==s){if(!l||!l[a])return;return void N(t,l,a,s,o?i:null)}c&&Object.keys(l).forEach((i=>{!function(t,e,i,n){const o=e[i]||{};Object.keys(o).forEach((s=>{if(s.includes(n)){const n=o[s];N(t,e,i,n.originalHandler,n.delegationSelector)}}))}(t,l,i,e.slice(1))}));const h=l[a]||{};Object.keys(h).forEach((i=>{const n=i.replace(C,"");if(!r||e.includes(n)){const e=h[i];N(t,l,a,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,i){if("string"!=typeof e||!t)return null;const n=_(),o=B(e),s=e!==o,a=A.has(o);let r,l=!0,c=!0,h=!1,u=null;return s&&n&&(r=n.Event(e,i),n(t).trigger(r),l=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),h=r.isDefaultPrevented()),a?(u=document.createEvent("HTMLEvents"),u.initEvent(o,l,!0)):u=new CustomEvent(e,{bubbles:l,cancelable:!0}),void 0!==i&&Object.keys(i).forEach((t=>{Object.defineProperty(u,t,{get:()=>i[t]})})),h&&u.preventDefault(),c&&t.dispatchEvent(u),u.defaultPrevented&&void 0!==r&&r.preventDefault(),u}},z=new Map,R={set(t,e,i){z.has(t)||z.set(t,new Map);const n=z.get(t);n.has(e)||0===n.size?n.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(t,e)=>z.has(t)&&z.get(t).get(e)||null,remove(t,e){if(!z.has(t))return;const i=z.get(t);i.delete(e),0===i.size&&z.delete(t)}};class F{constructor(t){(t=c(t))&&(this._element=t,R.set(this._element,this.constructor.DATA_KEY,this))}dispose(){R.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((t=>{this[t]=null}))}_queueCallback(t,e,i=!0){w(t,e,i)}static getInstance(t){return R.get(c(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const H=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;j.on(document,i,`[data-bs-dismiss="${n}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),d(this))return;const o=a(this)||this.closest(`.${n}`);t.getOrCreateInstance(o)[e]()}))};class q extends F{static get NAME(){return"alert"}close(){if(j.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),j.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=q.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}H(q,"close"),y(q);const W='[data-bs-toggle="button"]';class Z extends F{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=Z.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}function U(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function K(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}j.on(document,"click.bs.button.data-api",W,(t=>{t.preventDefault();const e=t.target.closest(W);Z.getOrCreateInstance(e).toggle()})),y(Z);const V={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${K(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${K(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter((t=>t.startsWith("bs"))).forEach((i=>{let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),e[n]=U(t.dataset[i])})),e},getDataAttribute:(t,e)=>U(t.getAttribute(`data-bs-${K(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position:t=>({top:t.offsetTop,left:t.offsetLeft})},G={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let n=t.parentNode;for(;n&&n.nodeType===Node.ELEMENT_NODE&&3!==n.nodeType;)n.matches(e)&&i.push(n),n=n.parentNode;return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(", ");return this.find(e,t).filter((t=>!d(t)&&u(t)))}},X="carousel",Y={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},J={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Q="next",tt="prev",et="left",it="right",nt={ArrowLeft:it,ArrowRight:et},ot="slid.bs.carousel",st="active",at=".active.carousel-item";class rt extends F{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=G.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return Y}static get NAME(){return X}next(){this._slide(Q)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(tt)}pause(t){t||(this._isPaused=!0),G.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(r(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=G.findOne(at,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void j.one(this._element,ot,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const i=t>e?Q:tt;this._slide(i,this._items[t])}_getConfig(t){return t={...Y,...V.getDataAttributes(this._element),..."object"==typeof t?t:{}},h(X,t,J),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?it:et)}_addEventListeners(){this._config.keyboard&&j.on(this._element,"keydown.bs.carousel",(t=>this._keydown(t))),"hover"===this._config.pause&&(j.on(this._element,"mouseenter.bs.carousel",(t=>this.pause(t))),j.on(this._element,"mouseleave.bs.carousel",(t=>this.cycle(t)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&("pen"===t.pointerType||"touch"===t.pointerType),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},i=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},n=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((t=>this.cycle(t)),500+this._config.interval))};G.find(".carousel-item img",this._element).forEach((t=>{j.on(t,"dragstart.bs.carousel",(t=>t.preventDefault()))})),this._pointerEvent?(j.on(this._element,"pointerdown.bs.carousel",(t=>e(t))),j.on(this._element,"pointerup.bs.carousel",(t=>n(t))),this._element.classList.add("pointer-event")):(j.on(this._element,"touchstart.bs.carousel",(t=>e(t))),j.on(this._element,"touchmove.bs.carousel",(t=>i(t))),j.on(this._element,"touchend.bs.carousel",(t=>n(t))))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=nt[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?G.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const i=t===Q;return x(this._items,e,i,this._config.wrap)}_triggerSlideEvent(t,e){const i=this._getItemIndex(t),n=this._getItemIndex(G.findOne(at,this._element));return j.trigger(this._element,"slide.bs.carousel",{relatedTarget:t,direction:e,from:n,to:i})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=G.findOne(".active",this._indicatorsElement);e.classList.remove(st),e.removeAttribute("aria-current");const i=G.find("[data-bs-target]",this._indicatorsElement);for(let e=0;e<i.length;e++)if(Number.parseInt(i[e].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){i[e].classList.add(st),i[e].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||G.findOne(at,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const i=this._directionToOrder(t),n=G.findOne(at,this._element),o=this._getItemIndex(n),s=e||this._getItemByOrder(i,n),a=this._getItemIndex(s),r=Boolean(this._interval),l=i===Q,c=l?"carousel-item-start":"carousel-item-end",h=l?"carousel-item-next":"carousel-item-prev",u=this._orderToDirection(i);if(s&&s.classList.contains(st))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(s,u).defaultPrevented)return;if(!n||!s)return;this._isSliding=!0,r&&this.pause(),this._setActiveIndicatorElement(s),this._activeElement=s;const d=()=>{j.trigger(this._element,ot,{relatedTarget:s,direction:u,from:o,to:a})};if(this._element.classList.contains("slide")){s.classList.add(h),m(s),n.classList.add(c),s.classList.add(c);const t=()=>{s.classList.remove(c,h),s.classList.add(st),n.classList.remove(st,h,c),this._isSliding=!1,setTimeout(d,0)};this._queueCallback(t,n,!0)}else n.classList.remove(st),s.classList.add(st),this._isSliding=!1,d();r&&this.cycle()}_directionToOrder(t){return[it,et].includes(t)?v()?t===et?tt:Q:t===et?Q:tt:t}_orderToDirection(t){return[Q,tt].includes(t)?v()?t===tt?et:it:t===tt?it:et:t}static carouselInterface(t,e){const i=rt.getOrCreateInstance(t,e);let{_config:n}=i;"object"==typeof e&&(n={...n,...e});const o="string"==typeof e?e:n.slide;if("number"==typeof e)i.to(e);else if("string"==typeof o){if(void 0===i[o])throw new TypeError(`No method named "${o}"`);i[o]()}else n.interval&&n.ride&&(i.pause(),i.cycle())}static jQueryInterface(t){return this.each((function(){rt.carouselInterface(this,t)}))}static dataApiClickHandler(t){const e=a(this);if(!e||!e.classList.contains("carousel"))return;const i={...V.getDataAttributes(e),...V.getDataAttributes(this)},n=this.getAttribute("data-bs-slide-to");n&&(i.interval=!1),rt.carouselInterface(e,i),n&&rt.getInstance(e).to(n),t.preventDefault()}}j.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",rt.dataApiClickHandler),j.on(window,"load.bs.carousel.data-api",(()=>{const t=G.find('[data-bs-ride="carousel"]');for(let e=0,i=t.length;e<i;e++)rt.carouselInterface(t[e],rt.getInstance(t[e]))})),y(rt);const lt="collapse",ct="bs.collapse",ht={toggle:!0,parent:null},ut={toggle:"boolean",parent:"(null|element)"},dt="show",pt="collapse",ft="collapsing",mt="collapsed",_t=":scope .collapse .collapse",gt='[data-bs-toggle="collapse"]';class vt extends F{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const i=G.find(gt);for(let t=0,e=i.length;t<e;t++){const e=i[t],n=s(e),o=G.find(n).filter((t=>t===this._element));null!==n&&o.length&&(this._selector=n,this._triggerArray.push(e))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ht}static get NAME(){return lt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=G.find(_t,this._config.parent);e=G.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((e=>!t.includes(e)))}const i=G.findOne(this._selector);if(e.length){const n=e.find((t=>i!==t));if(t=n?vt.getInstance(n):null,t&&t._isTransitioning)return}if(j.trigger(this._element,"show.bs.collapse").defaultPrevented)return;e.forEach((e=>{i!==e&&vt.getOrCreateInstance(e,{toggle:!1}).hide(),t||R.set(e,ct,null)}));const n=this._getDimension();this._element.classList.remove(pt),this._element.classList.add(ft),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ft),this._element.classList.add(pt,dt),this._element.style[n]="",j.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(j.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,m(this._element),this._element.classList.add(ft),this._element.classList.remove(pt,dt);const e=this._triggerArray.length;for(let t=0;t<e;t++){const e=this._triggerArray[t],i=a(e);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ft),this._element.classList.add(pt),j.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(dt)}_getConfig(t){return(t={...ht,...V.getDataAttributes(this._element),...t}).toggle=Boolean(t.toggle),t.parent=c(t.parent),h(lt,t,ut),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=G.find(_t,this._config.parent);G.find(gt,this._config.parent).filter((e=>!t.includes(e))).forEach((t=>{const e=a(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}))}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach((t=>{e?t.classList.remove(mt):t.classList.add(mt),t.setAttribute("aria-expanded",e)}))}static jQueryInterface(t){return this.each((function(){const e={};"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const i=vt.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}))}}j.on(document,"click.bs.collapse.data-api",gt,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=s(this);G.find(e).forEach((t=>{vt.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),y(vt);const yt="dropdown",bt="Escape",wt="Space",xt="ArrowUp",St="ArrowDown",Tt=new RegExp("ArrowUp|ArrowDown|Escape"),Ct="click.bs.dropdown.data-api",kt="keydown.bs.dropdown.data-api",Pt="show",Lt='[data-bs-toggle="dropdown"]',Dt=".dropdown-menu",At=v()?"top-end":"top-start",Et=v()?"top-start":"top-end",It=v()?"bottom-end":"bottom-start",Mt=v()?"bottom-start":"bottom-end",$t=v()?"left-start":"right-start",Ot=v()?"right-start":"left-start",Nt={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Bt={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class jt extends F{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Nt}static get DefaultType(){return Bt}static get NAME(){return yt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element};if(j.trigger(this._element,"show.bs.dropdown",t).defaultPrevented)return;const e=jt.getParentFromElement(this._element);this._inNavbar?V.setDataAttribute(this._menu,"popper","none"):this._createPopper(e),"ontouchstart"in document.documentElement&&!e.closest(".navbar-nav")&&[].concat(...document.body.children).forEach((t=>j.on(t,"mouseover",f))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Pt),this._element.classList.add(Pt),j.trigger(this._element,"shown.bs.dropdown",t)}hide(){if(d(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){j.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>j.off(t,"mouseover",f))),this._popper&&this._popper.destroy(),this._menu.classList.remove(Pt),this._element.classList.remove(Pt),this._element.setAttribute("aria-expanded","false"),V.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,"hidden.bs.dropdown",t))}_getConfig(t){if(t={...this.constructor.Default,...V.getDataAttributes(this._element),...t},h(yt,t,this.constructor.DefaultType),"object"==typeof t.reference&&!l(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${yt.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if(void 0===i)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:l(this._config.reference)?e=c(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig(),o=n.modifiers.find((t=>"applyStyles"===t.name&&!1===t.enabled));this._popper=i.createPopper(e,this._menu,n),o&&V.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(Pt)}_getMenuElement(){return G.next(this._element,Dt)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return $t;if(t.classList.contains("dropstart"))return Ot;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Et:At:e?Mt:It}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const i=G.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(u);i.length&&x(i,e,t===St,!i.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=jt.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t&&(2===t.button||"keyup"===t.type&&"Tab"!==t.key))return;const e=G.find(Lt);for(let i=0,n=e.length;i<n;i++){const n=jt.getInstance(e[i]);if(!n||!1===n._config.autoClose)continue;if(!n._isShown())continue;const o={relatedTarget:n._element};if(t){const e=t.composedPath(),i=e.includes(n._menu);if(e.includes(n._element)||"inside"===n._config.autoClose&&!i||"outside"===n._config.autoClose&&i)continue;if(n._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(o.clickEvent=t)}n._completeHide(o)}}static getParentFromElement(t){return a(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.key===wt||t.key!==bt&&(t.key!==St&&t.key!==xt||t.target.closest(Dt)):!Tt.test(t.key))return;const e=this.classList.contains(Pt);if(!e&&t.key===bt)return;if(t.preventDefault(),t.stopPropagation(),d(this))return;const i=this.matches(Lt)?this:G.prev(this,Lt)[0],n=jt.getOrCreateInstance(i);if(t.key!==bt)return t.key===xt||t.key===St?(e||n.show(),void n._selectMenuItem(t)):void(e&&t.key!==wt||jt.clearMenus());n.hide()}}j.on(document,kt,Lt,jt.dataApiKeydownHandler),j.on(document,kt,Dt,jt.dataApiKeydownHandler),j.on(document,Ct,jt.clearMenus),j.on(document,"keyup.bs.dropdown.data-api",jt.clearMenus),j.on(document,Ct,Lt,(function(t){t.preventDefault(),jt.getOrCreateInstance(this).toggle()})),y(jt);const zt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Rt=".sticky-top";class Ft{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(e=>e+t)),this._setElementAttributes(zt,"paddingRight",(e=>e+t)),this._setElementAttributes(Rt,"marginRight",(e=>e-t))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const o=window.getComputedStyle(t)[e];t.style[e]=`${i(Number.parseFloat(o))}px`}))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(zt,"paddingRight"),this._resetElementAttributes(Rt,"marginRight")}_saveInitialAttribute(t,e){const i=t.style[e];i&&V.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const i=V.getDataAttribute(t,e);void 0===i?t.style.removeProperty(e):(V.removeDataAttribute(t,e),t.style[e]=i)}))}_applyManipulationCallback(t,e){l(t)?e(t):G.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const Ht={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},qt={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Wt="backdrop",Zt="show",Ut="mousedown.bs.backdrop";class Kt{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&m(this._getElement()),this._getElement().classList.add(Zt),this._emulateAnimation((()=>{b(t)}))):b(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(Zt),this._emulateAnimation((()=>{this.dispose(),b(t)}))):b(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){return(t={...Ht,..."object"==typeof t?t:{}}).rootElement=c(t.rootElement),h(Wt,t,qt),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),j.on(this._getElement(),Ut,(()=>{b(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(j.off(this._element,Ut),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){w(t,this._getElement(),this._config.isAnimated)}}const Vt={trapElement:null,autofocus:!0},Gt={trapElement:"element",autofocus:"boolean"},Xt=".bs.focustrap",Yt="backward";class Jt{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),j.off(document,Xt),j.on(document,"focusin.bs.focustrap",(t=>this._handleFocusin(t))),j.on(document,"keydown.tab.bs.focustrap",(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,Xt))}_handleFocusin(t){const{target:e}=t,{trapElement:i}=this._config;if(e===document||e===i||i.contains(e))return;const n=G.focusableChildren(i);0===n.length?i.focus():this._lastTabNavDirection===Yt?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?Yt:"forward")}_getConfig(t){return t={...Vt,..."object"==typeof t?t:{}},h("focustrap",t,Gt),t}}const Qt="modal",te=".bs.modal",ee="Escape",ie={backdrop:!0,keyboard:!0,focus:!0},ne={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},oe="hidden.bs.modal",se="show.bs.modal",ae="resize.bs.modal",re="click.dismiss.bs.modal",le="keydown.dismiss.bs.modal",ce="mousedown.dismiss.bs.modal",he="modal-open",ue="show",de="modal-static";class pe extends F{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=G.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new Ft}static get Default(){return ie}static get NAME(){return Qt}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;j.trigger(this._element,se,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(he),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),j.on(this._dialog,ce,(()=>{j.one(this._element,"mouseup.dismiss.bs.modal",(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;if(j.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(ue),j.off(this._element,re),j.off(this._dialog,ce),this._queueCallback((()=>this._hideModal()),this._element,t)}dispose(){[window,this._dialog].forEach((t=>j.off(t,te))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Kt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Jt({trapElement:this._element})}_getConfig(t){return t={...ie,...V.getDataAttributes(this._element),..."object"==typeof t?t:{}},h(Qt,t,ne),t}_showElement(t){const e=this._isAnimated(),i=G.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),e&&m(this._element),this._element.classList.add(ue);this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,"shown.bs.modal",{relatedTarget:t})}),this._dialog,e)}_setEscapeEvent(){this._isShown?j.on(this._element,le,(t=>{this._config.keyboard&&t.key===ee?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==ee||this._triggerBackdropTransition()})):j.off(this._element,le)}_setResizeEvent(){this._isShown?j.on(window,ae,(()=>this._adjustDialog())):j.off(window,ae)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(he),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,oe)}))}_showBackdrop(t){j.on(this._element,re,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(j.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:t,scrollHeight:e,style:i}=this._element,n=e>document.documentElement.clientHeight;!n&&"hidden"===i.overflowY||t.contains(de)||(n||(i.overflowY="hidden"),t.add(de),this._queueCallback((()=>{t.remove(de),n||this._queueCallback((()=>{i.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;(!i&&t&&!v()||i&&!t&&v())&&(this._element.style.paddingLeft=`${e}px`),(i&&!t&&!v()||!i&&t&&v())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const i=pe.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}}))}}j.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(t){const e=a(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),j.one(e,se,(t=>{t.defaultPrevented||j.one(e,oe,(()=>{u(this)&&this.focus()}))}));const i=G.findOne(".modal.show");i&&pe.getInstance(i).hide();pe.getOrCreateInstance(e).toggle(this)})),H(pe),y(pe);const fe="offcanvas",me={backdrop:!0,keyboard:!0,scroll:!1},_e={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},ge="show",ve=".offcanvas.show",ye="hidden.bs.offcanvas";class be extends F{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return fe}static get Default(){return me}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;if(j.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Ft).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ge);this._queueCallback((()=>{this._config.scroll||this._focustrap.activate(),j.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})}),this._element,!0)}hide(){if(!this._isShown)return;if(j.trigger(this._element,"hide.bs.offcanvas").defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(ge),this._backdrop.hide();this._queueCallback((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new Ft).reset(),j.trigger(this._element,ye)}),this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...me,...V.getDataAttributes(this._element),..."object"==typeof t?t:{}},h(fe,t,_e),t}_initializeBackDrop(){return new Kt({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Jt({trapElement:this._element})}_addEventListeners(){j.on(this._element,"keydown.dismiss.bs.offcanvas",(t=>{this._config.keyboard&&"Escape"===t.key&&this.hide()}))}static jQueryInterface(t){return this.each((function(){const e=be.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}j.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(t){const e=a(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),d(this))return;j.one(e,ye,(()=>{u(this)&&this.focus()}));const i=G.findOne(ve);i&&i!==e&&be.getInstance(i).hide();be.getOrCreateInstance(e).toggle(this)})),j.on(window,"load.bs.offcanvas.data-api",(()=>G.find(ve).forEach((t=>be.getOrCreateInstance(t).show())))),H(be),y(be);const we=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),xe=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Se=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Te=(t,e)=>{const i=t.nodeName.toLowerCase();if(e.includes(i))return!we.has(i)||Boolean(xe.test(t.nodeValue)||Se.test(t.nodeValue));const n=e.filter((t=>t instanceof RegExp));for(let t=0,e=n.length;t<e;t++)if(n[t].test(i))return!0;return!1},Ce={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function ke(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);const n=(new window.DOMParser).parseFromString(t,"text/html"),o=[].concat(...n.body.querySelectorAll("*"));for(let t=0,i=o.length;t<i;t++){const i=o[t],n=i.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){i.remove();continue}const s=[].concat(...i.attributes),a=[].concat(e["*"]||[],e[n]||[]);s.forEach((t=>{Te(t,a)||i.removeAttribute(t.nodeName)}))}return n.body.innerHTML}const Pe="tooltip",Le=new Set(["sanitize","allowList","sanitizeFn"]),De={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Ae={AUTO:"auto",TOP:"top",RIGHT:v()?"left":"right",BOTTOM:"bottom",LEFT:v()?"right":"left"},Ee={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Ce,popperConfig:null},Ie={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Me="fade",$e="show",Oe="show",Ne="out",Be=".tooltip-inner",je=".modal",ze="hide.bs.modal",Re="hover",Fe="focus";class He extends F{constructor(t,e){if(void 0===i)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return Ee}static get NAME(){return Pe}static get Event(){return Ie}static get DefaultType(){return De}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains($e))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(je),ze,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=j.trigger(this._element,this.constructor.Event.SHOW),e=p(this._element),n=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Be).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const o=this.getTipElement(),s=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME);o.setAttribute("id",s),this._element.setAttribute("aria-describedby",s),this._config.animation&&o.classList.add(Me);const a="function"==typeof this._config.placement?this._config.placement.call(this,o,this._element):this._config.placement,r=this._getAttachment(a);this._addAttachmentClass(r);const{container:l}=this._config;R.set(o,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(o),j.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=i.createPopper(this._element,o,this._getPopperConfig(r)),o.classList.add($e);const c=this._resolvePossibleFunction(this._config.customClass);c&&o.classList.add(...c.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>{j.on(t,"mouseover",f)}));const h=this.tip.classList.contains(Me);this._queueCallback((()=>{const t=this._hoverState;this._hoverState=null,j.trigger(this._element,this.constructor.Event.SHOWN),t===Ne&&this._leave(null,this)}),this.tip,h)}hide(){if(!this._popper)return;const t=this.getTipElement();if(j.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;t.classList.remove($e),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>j.off(t,"mouseover",f))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const e=this.tip.classList.contains(Me);this._queueCallback((()=>{this._isWithActiveTrigger()||(this._hoverState!==Oe&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())}),this.tip,e),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(Me,$e),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),Be)}_sanitizeAndSetContent(t,e,i){const n=G.findOne(i,t);e||!n?this.setElementContent(n,e):n.remove()}setElementContent(t,e){if(null!==t)return l(e)?(e=c(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=ke(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return Ae[t.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach((t=>{if("click"===t)j.on(this._element,this.constructor.Event.CLICK,this._config.selector,(t=>this.toggle(t)));else if("manual"!==t){const e=t===Re?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,i=t===Re?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;j.on(this._element,e,this._config.selector,(t=>this._enter(t))),j.on(this._element,i,this._config.selector,(t=>this._leave(t)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(je),ze,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?Fe:Re]=!0),e.getTipElement().classList.contains($e)||e._hoverState===Oe?e._hoverState=Oe:(clearTimeout(e._timeout),e._hoverState=Oe,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===Oe&&e.show()}),e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?Fe:Re]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=Ne,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===Ne&&e.hide()}),e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=V.getDataAttributes(this._element);return Object.keys(e).forEach((t=>{Le.has(t)&&delete e[t]})),(t={...this.constructor.Default,...e,..."object"==typeof t&&t?t:{}}).container=!1===t.container?document.body:c(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),h(Pe,t,this.constructor.DefaultType),t.sanitize&&(t.template=ke(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),i=t.getAttribute("class").match(e);null!==i&&i.length>0&&i.map((t=>t.trim())).forEach((e=>t.classList.remove(e)))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=He.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}y(He);const qe={...He.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},We={...He.DefaultType,content:"(string|element|function)"},Ze={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class Ue extends He{static get Default(){return qe}static get NAME(){return"popover"}static get Event(){return Ze}static get DefaultType(){return We}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(t){return this.each((function(){const e=Ue.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}y(Ue);const Ke="scrollspy",Ve=".bs.scrollspy",Ge={offset:10,method:"auto",target:""},Xe={offset:"number",method:"string",target:"(string|element)"},Ye="dropdown-item",Je="active",Qe=".nav-link",ti=".nav-link, .list-group-item, .dropdown-item",ei="position";class ii extends F{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,j.on(this._scrollElement,"scroll.bs.scrollspy",(()=>this._process())),this.refresh(),this._process()}static get Default(){return Ge}static get NAME(){return Ke}refresh(){const t=this._scrollElement===this._scrollElement.window?"offset":ei,e="auto"===this._config.method?t:this._config.method,i=e===ei?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();G.find(ti,this._config.target).map((t=>{const n=s(t),o=n?G.findOne(n):null;if(o){const t=o.getBoundingClientRect();if(t.width||t.height)return[V[e](o).top+i,n]}return null})).filter((t=>t)).sort(((t,e)=>t[0]-e[0])).forEach((t=>{this._offsets.push(t[0]),this._targets.push(t[1])}))}dispose(){j.off(this._scrollElement,Ve),super.dispose()}_getConfig(t){return(t={...Ge,...V.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}}).target=c(t.target)||document.documentElement,h(Ke,t,Xe),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=i){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;){this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&(void 0===this._offsets[e+1]||t<this._offsets[e+1])&&this._activate(this._targets[e])}}}_activate(t){this._activeTarget=t,this._clear();const e=ti.split(",").map((e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`)),i=G.findOne(e.join(","),this._config.target);i.classList.add(Je),i.classList.contains(Ye)?G.findOne(".dropdown-toggle",i.closest(".dropdown")).classList.add(Je):G.parents(i,".nav, .list-group").forEach((t=>{G.prev(t,".nav-link, .list-group-item").forEach((t=>t.classList.add(Je))),G.prev(t,".nav-item").forEach((t=>{G.children(t,Qe).forEach((t=>t.classList.add(Je)))}))})),j.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:t})}_clear(){G.find(ti,this._config.target).filter((t=>t.classList.contains(Je))).forEach((t=>t.classList.remove(Je)))}static jQueryInterface(t){return this.each((function(){const e=ii.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}j.on(window,"load.bs.scrollspy.data-api",(()=>{G.find('[data-bs-spy="scroll"]').forEach((t=>new ii(t)))})),y(ii);const ni="active",oi="fade",si="show",ai=".active",ri=":scope > li > .active";class li extends F{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(ni))return;let t;const e=a(this._element),i=this._element.closest(".nav, .list-group");if(i){const e="UL"===i.nodeName||"OL"===i.nodeName?ri:ai;t=G.find(e,i),t=t[t.length-1]}const n=t?j.trigger(t,"hide.bs.tab",{relatedTarget:this._element}):null;if(j.trigger(this._element,"show.bs.tab",{relatedTarget:t}).defaultPrevented||null!==n&&n.defaultPrevented)return;this._activate(this._element,i);const o=()=>{j.trigger(t,"hidden.bs.tab",{relatedTarget:this._element}),j.trigger(this._element,"shown.bs.tab",{relatedTarget:t})};e?this._activate(e,e.parentNode,o):o()}_activate(t,e,i){const n=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?G.children(e,ai):G.find(ri,e))[0],o=i&&n&&n.classList.contains(oi),s=()=>this._transitionComplete(t,n,i);n&&o?(n.classList.remove(si),this._queueCallback(s,t,!0)):s()}_transitionComplete(t,e,i){if(e){e.classList.remove(ni);const t=G.findOne(":scope > .dropdown-menu .active",e.parentNode);t&&t.classList.remove(ni),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(ni),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),m(t),t.classList.contains(oi)&&t.classList.add(si);let n=t.parentNode;if(n&&"LI"===n.nodeName&&(n=n.parentNode),n&&n.classList.contains("dropdown-menu")){const e=t.closest(".dropdown");e&&G.find(".dropdown-toggle",e).forEach((t=>t.classList.add(ni))),t.setAttribute("aria-expanded",!0)}i&&i()}static jQueryInterface(t){return this.each((function(){const e=li.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}j.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(t){if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),d(this))return;li.getOrCreateInstance(this).show()})),y(li);const ci="toast",hi="hide",ui="show",di="showing",pi={animation:"boolean",autohide:"boolean",delay:"number"},fi={animation:!0,autohide:!0,delay:5e3};class mi extends F{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return pi}static get Default(){return fi}static get NAME(){return ci}show(){if(j.trigger(this._element,"show.bs.toast").defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(hi),m(this._element),this._element.classList.add(ui),this._element.classList.add(di),this._queueCallback((()=>{this._element.classList.remove(di),j.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation)}hide(){if(!this._element.classList.contains(ui))return;if(j.trigger(this._element,"hide.bs.toast").defaultPrevented)return;this._element.classList.add(di),this._queueCallback((()=>{this._element.classList.add(hi),this._element.classList.remove(di),this._element.classList.remove(ui),j.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(ui)&&this._element.classList.remove(ui),super.dispose()}_getConfig(t){return t={...fi,...V.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}},h(ci,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,"mouseover.bs.toast",(t=>this._onInteraction(t,!0))),j.on(this._element,"mouseout.bs.toast",(t=>this._onInteraction(t,!1))),j.on(this._element,"focusin.bs.toast",(t=>this._onInteraction(t,!0))),j.on(this._element,"focusout.bs.toast",(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=mi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}H(mi),y(mi);return{Alert:q,Button:Z,Carousel:rt,Collapse:vt,Dropdown:jt,Modal:pe,Offcanvas:be,Popover:Ue,ScrollSpy:ii,Tab:li,Toast:mi,Tooltip:He}})),
/*!
 * SmartMenus jQuery Plugin - v1.1.0 - September 17, 2017
 * http://www.smartmenus.org/
 *
 * Copyright Vasil Dinkov, Vadikom Web Ltd.
 * http://vadikom.com
 *
 * Licensed MIT
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}((function($){var menuTrees=[],mouse=!1,touchEvents="ontouchstart"in window,mouseDetectionEnabled=!1,requestAnimationFrame=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||function(t){clearTimeout(t)},canAnimate=!!$.fn.animate;function initMouseDetection(t){var e=".smartmenus_mouse";if(mouseDetectionEnabled||t)mouseDetectionEnabled&&t&&($(document).off(e),mouseDetectionEnabled=!1);else{var i=!0,n=null,o={mousemove:function(t){var e={x:t.pageX,y:t.pageY,timeStamp:(new Date).getTime()};if(n){var o=Math.abs(n.x-e.x),s=Math.abs(n.y-e.y);if((o>0||s>0)&&o<=2&&s<=2&&e.timeStamp-n.timeStamp<=300&&(mouse=!0,i)){var a=$(t.target).closest("a");a.is("a")&&$.each(menuTrees,(function(){if($.contains(this.$root[0],a[0]))return this.itemEnter({currentTarget:a[0]}),!1})),i=!1}}n=e}};o[touchEvents?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut"]=function(t){isTouchEvent(t.originalEvent)&&(mouse=!1)},$(document).on(getEventsNS(o,e)),mouseDetectionEnabled=!0}}function isTouchEvent(t){return!/^(4|mouse)$/.test(t.pointerType)}function getEventsNS(t,e){e||(e="");var i={};for(var n in t)i[n.split(" ").join(e+" ")+e]=t[n];return i}return $.SmartMenus=function(t,e){this.$root=$(t),this.opts=e,this.rootId="",this.accessIdPrefix="",this.$subArrow=null,this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.idInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.$touchScrollingSub=null,this.cssTransforms3d="perspective"in t.style||"webkitPerspective"in t.style,this.wasCollapsible=!1,this.init()},$.extend($.SmartMenus,{hideAll:function(){$.each(menuTrees,(function(){this.menuHideAll()}))},destroy:function(){for(;menuTrees.length;)menuTrees[0].destroy();initMouseDetection(!0)},prototype:{init:function(t){var e=this;if(!t){menuTrees.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0);var i=".smartmenus";this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).on(getEventsNS({"mouseover focusin":$.proxy(this.rootOver,this),"mouseout focusout":$.proxy(this.rootOut,this),keydown:$.proxy(this.rootKeyDown,this)},i)).on(getEventsNS({mouseenter:$.proxy(this.itemEnter,this),mouseleave:$.proxy(this.itemLeave,this),mousedown:$.proxy(this.itemDown,this),focus:$.proxy(this.itemFocus,this),blur:$.proxy(this.itemBlur,this),click:$.proxy(this.itemClick,this)},i),"a"),i+=this.rootId,this.opts.hideOnClick&&$(document).on(getEventsNS({touchstart:$.proxy(this.docTouchStart,this),touchmove:$.proxy(this.docTouchMove,this),touchend:$.proxy(this.docTouchEnd,this),click:$.proxy(this.docClick,this)},i)),$(window).on(getEventsNS({"resize orientationchange":$.proxy(this.winResize,this)},i)),this.opts.subIndicators&&(this.$subArrow=$("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),initMouseDetection()}if(this.$firstSub=this.$root.find("ul").each((function(){e.menuInit($(this))})).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var n=/(index|default)\.[^#\?\/]*/i,o=window.location.href.replace(n,""),s=o.replace(/#.*/,"");this.$root.find("a").each((function(){var t=this.href.replace(n,""),i=$(this);t!=o&&t!=s||(i.addClass("current"),e.opts.markCurrentTree&&i.parentsUntil("[data-smartmenus-id]","ul").each((function(){$(this).dataSM("parent-a").addClass("current")})))}))}this.wasCollapsible=this.isCollapsible()},destroy:function(t){if(!t){var e=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").off(e),e+=this.rootId,$(document).off(e),$(window).off(e),this.opts.subIndicators&&(this.$subArrow=null)}this.menuHideAll();var i=this;this.$root.find("ul").each((function(){var t=$(this);t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove(),t.dataSM("shown-before")&&((i.opts.subMenusMinWidth||i.opts.subMenusMaxWidth)&&t.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove(),t.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})),0==(t.attr("id")||"").indexOf(i.accessIdPrefix)&&t.removeAttr("id")})).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded"),this.$root.find("a.has-submenu").each((function(){var t=$(this);0==t.attr("id").indexOf(i.accessIdPrefix)&&t.removeAttr("id")})).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),t||(this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),menuTrees.splice($.inArray(this,menuTrees),1))},disable:function(t){if(!this.disabled){if(this.menuHideAll(),!t&&!this.opts.isPopup&&this.$root.is(":visible")){var e=this.$root.offset();this.$disableOverlay=$('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:e.top,left:e.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(t){this.$touchScrollingSub?this.$touchScrollingSub=null:(this.visibleSubMenus.length&&!$.contains(this.$root[0],t.target)||$(t.target).closest("a").length)&&this.menuHideAll()},docTouchEnd:function(t){if(this.lastTouch){if(this.visibleSubMenus.length&&(void 0===this.lastTouch.x2||this.lastTouch.x1==this.lastTouch.x2)&&(void 0===this.lastTouch.y2||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!$.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout((function(){e.menuHideAll()}),350)}this.lastTouch=null}},docTouchMove:function(t){if(this.lastTouch){var e=t.originalEvent.touches[0];this.lastTouch.x2=e.pageX,this.lastTouch.y2=e.pageY}},docTouchStart:function(t){var e=t.originalEvent.touches[0];this.lastTouch={x1:e.pageX,y1:e.pageY,target:e.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(t){for(var e=$(t).closest("ul");e.dataSM("in-mega");)e=e.parent().closest("ul");return e[0]||null},getHeight:function(t){return this.getOffset(t,!0)},getOffset:function(t,e){var i;"none"==t.css("display")&&(i={position:t[0].style.position,visibility:t[0].style.visibility},t.css({position:"absolute",visibility:"hidden"}).show());var n=t[0].getBoundingClientRect&&t[0].getBoundingClientRect(),o=n&&(e?n.height||n.bottom-n.top:n.width||n.right-n.left);return o||0===o||(o=e?t[0].offsetHeight:t[0].offsetWidth),i&&t.hide().css(i),o},getStartZIndex:function(t){var e=parseInt(this[t?"$root":"$firstSub"].css("z-index"));return!t&&isNaN(e)&&(e=parseInt(this.$root.css("z-index"))),isNaN(e)?1:e},getTouchPoint:function(t){return t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t},getViewport:function(t){var e=t?"Height":"Width",i=document.documentElement["client"+e],n=window["inner"+e];return n&&(i=Math.min(i,n)),i},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(t){return this.getOffset(t)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(t){return this.handleEvents()&&!this.isLinkInMegaMenu(t)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"inline"!=this.$firstLink.css("display")},isFixed:function(){var t="fixed"==this.$root.css("position");return t||this.$root.parentsUntil("body").each((function(){if("fixed"==$(this).css("position"))return t=!0,!1})),t},isLinkInMegaMenu:function(t){return $(this.getClosestMenu(t[0])).hasClass("mega-menu")},isTouchMode:function(){return!mouse||this.opts.noMouseOver||this.isCollapsible()},itemActivate:function(t,e){var i=t.closest("ul"),n=i.dataSM("level");if(n>1&&(!this.activatedItems[n-2]||this.activatedItems[n-2][0]!=i.dataSM("parent-a")[0])){var o=this;$(i.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(i).each((function(){o.itemActivate($(this).dataSM("parent-a"))}))}if(this.isCollapsible()&&!e||this.menuHideSubMenus(this.activatedItems[n-1]&&this.activatedItems[n-1][0]==t[0]?n:n-1),this.activatedItems[n-1]=t,!1!==this.$root.triggerHandler("activate.smapi",t[0])){var s=t.dataSM("sub");s&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(s)}},itemBlur:function(t){var e=$(t.currentTarget);this.handleItemEvents(e)&&this.$root.triggerHandler("blur.smapi",e[0])},itemClick:function(t){var e=$(t.currentTarget);if(this.handleItemEvents(e)){if(this.$touchScrollingSub&&this.$touchScrollingSub[0]==e.closest("ul")[0])return this.$touchScrollingSub=null,t.stopPropagation(),!1;if(!1===this.$root.triggerHandler("click.smapi",e[0]))return!1;var i=$(t.target).is(".sub-arrow"),n=e.dataSM("sub"),o=!!n&&2==n.dataSM("level"),s=this.isCollapsible(),a=/toggle$/.test(this.opts.collapsibleBehavior),r=/link$/.test(this.opts.collapsibleBehavior),l=/^accordion/.test(this.opts.collapsibleBehavior);if(n&&!n.is(":visible")){if((!r||!s||i)&&(this.opts.showOnClick&&o&&(this.clickActivated=!0),this.itemActivate(e,l),n.is(":visible")))return this.focusActivated=!0,!1}else if(s&&(a||i))return this.itemActivate(e,l),this.menuHide(n),a&&(this.focusActivated=!1),!1;return!(this.opts.showOnClick&&o||e.hasClass("disabled")||!1===this.$root.triggerHandler("select.smapi",e[0]))&&void 0}},itemDown:function(t){var e=$(t.currentTarget);this.handleItemEvents(e)&&e.dataSM("mousedown",!0)},itemEnter:function(t){var e=$(t.currentTarget);if(this.handleItemEvents(e)){if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var i=this;this.showTimeout=setTimeout((function(){i.itemActivate(e)}),this.opts.showOnClick&&1==e.closest("ul").dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",e[0])}},itemFocus:function(t){var e=$(t.currentTarget);this.handleItemEvents(e)&&(!this.focusActivated||this.isTouchMode()&&e.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==e[0]||this.itemActivate(e,!0),this.$root.triggerHandler("focus.smapi",e[0]))},itemLeave:function(t){var e=$(t.currentTarget);this.handleItemEvents(e)&&(this.isTouchMode()||(e[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),e.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",e[0]))},menuHide:function(t){if(!1!==this.$root.triggerHandler("beforehide.smapi",t[0])&&(canAnimate&&t.stop(!0,!0),"none"!=t.css("display"))){var e=function(){t.css("z-index","")};this.isCollapsible()?canAnimate&&this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,t,e):t.hide(this.opts.collapsibleHideDuration,e):canAnimate&&this.opts.hideFunction?this.opts.hideFunction.call(this,t,e):t.hide(this.opts.hideDuration,e),t.dataSM("scroll")&&(this.menuScrollStop(t),t.css({"touch-action":"","-ms-touch-action":"","-webkit-transform":"",transform:""}).off(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()),t.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded","false"),t.attr({"aria-expanded":"false","aria-hidden":"true"});var i=t.dataSM("level");this.activatedItems.splice(i-1,1),this.visibleSubMenus.splice($.inArray(t,this.visibleSubMenus),1),this.$root.triggerHandler("hide.smapi",t[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var t=this.opts.isPopup?1:0,e=this.visibleSubMenus.length-1;e>=t;e--)this.menuHide(this.visibleSubMenus[e]);this.opts.isPopup&&(canAnimate&&this.$root.stop(!0,!0),this.$root.is(":visible")&&(canAnimate&&this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration))),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.$root.triggerHandler("hideAll.smapi")},menuHideSubMenus:function(t){for(var e=this.activatedItems.length-1;e>=t;e--){var i=this.activatedItems[e].dataSM("sub");i&&this.menuHide(i)}},menuInit:function(t){if(!t.dataSM("in-mega")){t.hasClass("mega-menu")&&t.find("ul").dataSM("in-mega",!0);for(var e=2,i=t[0];(i=i.parentNode.parentNode)!=this.$root[0];)e++;var n=t.prevAll("a").eq(-1);n.length||(n=t.prevAll().find("a").eq(-1)),n.addClass("has-submenu").dataSM("sub",t),t.dataSM("parent-a",n).dataSM("level",e).parent().dataSM("sub",t);var o=n.attr("id")||this.accessIdPrefix+ ++this.idInc,s=t.attr("id")||this.accessIdPrefix+ ++this.idInc;n.attr({id:o,"aria-haspopup":"true","aria-controls":s,"aria-expanded":"false"}),t.attr({id:s,role:"group","aria-hidden":"true","aria-labelledby":o,"aria-expanded":"false"}),this.opts.subIndicators&&n[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(t){var e,i,n=t.dataSM("parent-a"),o=n.closest("li"),s=o.parent(),a=t.dataSM("level"),r=this.getWidth(t),l=this.getHeight(t),c=n.offset(),h=c.left,u=c.top,d=this.getWidth(n),p=this.getHeight(n),f=$(window),m=f.scrollLeft(),_=f.scrollTop(),g=this.getViewportWidth(),v=this.getViewportHeight(),y=s.parent().is("[data-sm-horizontal-sub]")||2==a&&!s.hasClass("sm-vertical"),b=this.opts.rightToLeftSubMenus&&!o.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&o.is("[data-sm-reverse]"),w=2==a?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,x=2==a?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;if(y?(e=b?d-r-w:w,i=this.opts.bottomToTopSubMenus?-l-x:p+x):(e=b?w-r:d-w,i=this.opts.bottomToTopSubMenus?p-x-l:x),this.opts.keepInViewport){var S=h+e,T=u+i;if(b&&S<m?e=y?m-S+e:d-w:!b&&S+r>m+g&&(e=y?m+g-r-S+e:w-r),y||(l<v&&T+l>_+v?i+=_+v-l-T:(l>=v||T<_)&&(i+=_-T)),y&&(T+l>_+v+.49||T<_)||!y&&l>v+.49){var C=this;t.dataSM("scroll-arrows")||t.dataSM("scroll-arrows",$([$('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],$('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).on({mouseenter:function(){t.dataSM("scroll").up=$(this).hasClass("scroll-up"),C.menuScroll(t)},mouseleave:function(e){C.menuScrollStop(t),C.menuScrollOut(t,e)},"mousewheel DOMMouseScroll":function(t){t.preventDefault()}}).insertAfter(t));var k=".smartmenus_scroll";if(t.dataSM("scroll",{y:this.cssTransforms3d?0:i-p,step:1,itemH:p,subH:l,arrowDownH:this.getHeight(t.dataSM("scroll-arrows").eq(1))}).on(getEventsNS({mouseover:function(e){C.menuScrollOver(t,e)},mouseout:function(e){C.menuScrollOut(t,e)},"mousewheel DOMMouseScroll":function(e){C.menuScrollMousewheel(t,e)}},k)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:e+(parseInt(t.css("border-left-width"))||0),width:r-(parseInt(t.css("border-left-width"))||0)-(parseInt(t.css("border-right-width"))||0),zIndex:t.css("z-index")}).eq(y&&this.opts.bottomToTopSubMenus?0:1).show(),this.isFixed()){var P={};P[touchEvents?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp"]=function(e){C.menuScrollTouch(t,e)},t.css({"touch-action":"none","-ms-touch-action":"none"}).on(getEventsNS(P,k))}}}t.css({top:"auto",left:"0",marginLeft:e,marginTop:i-p})},menuScroll:function(t,e,i){var n,o=t.dataSM("scroll"),s=t.dataSM("scroll-arrows"),a=o.up?o.upEnd:o.downEnd;if(!e&&o.momentum){if(o.momentum*=.92,(n=o.momentum)<.5)return void this.menuScrollStop(t)}else n=i||(e||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(o.step));var r=t.dataSM("level");if(this.activatedItems[r-1]&&this.activatedItems[r-1].dataSM("sub")&&this.activatedItems[r-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(r-1),o.y=o.up&&a<=o.y||!o.up&&a>=o.y?o.y:Math.abs(a-o.y)>n?o.y+(o.up?n:-n):a,t.css(this.cssTransforms3d?{"-webkit-transform":"translate3d(0, "+o.y+"px, 0)",transform:"translate3d(0, "+o.y+"px, 0)"}:{marginTop:o.y}),mouse&&(o.up&&o.y>o.downEnd||!o.up&&o.y<o.upEnd)&&s.eq(o.up?1:0).show(),o.y==a)mouse&&s.eq(o.up?0:1).hide(),this.menuScrollStop(t);else if(!e){this.opts.scrollAccelerate&&o.step<this.opts.scrollStep&&(o.step+=.2);var l=this;this.scrollTimeout=requestAnimationFrame((function(){l.menuScroll(t)}))}},menuScrollMousewheel:function(t,e){if(this.getClosestMenu(e.target)==t[0]){var i=((e=e.originalEvent).wheelDelta||-e.detail)>0;t.dataSM("scroll-arrows").eq(i?0:1).is(":visible")&&(t.dataSM("scroll").up=i,this.menuScroll(t,!0))}e.preventDefault()},menuScrollOut:function(t,e){mouse&&(/^scroll-(up|down)/.test((e.relatedTarget||"").className)||(t[0]==e.relatedTarget||$.contains(t[0],e.relatedTarget))&&this.getClosestMenu(e.relatedTarget)==t[0]||t.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(t,e){if(mouse&&!/^scroll-(up|down)/.test(e.target.className)&&this.getClosestMenu(e.target)==t[0]){this.menuScrollRefreshData(t);var i=t.dataSM("scroll"),n=$(window).scrollTop()-t.dataSM("parent-a").offset().top-i.itemH;t.dataSM("scroll-arrows").eq(0).css("margin-top",n).end().eq(1).css("margin-top",n+this.getViewportHeight()-i.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(t){var e=t.dataSM("scroll"),i=$(window).scrollTop()-t.dataSM("parent-a").offset().top-e.itemH;this.cssTransforms3d&&(i=-(parseFloat(t.css("margin-top"))-i)),$.extend(e,{upEnd:i,downEnd:i+this.getViewportHeight()-e.subH})},menuScrollStop:function(t){if(this.scrollTimeout)return cancelAnimationFrame(this.scrollTimeout),this.scrollTimeout=0,t.dataSM("scroll").step=1,!0},menuScrollTouch:function(t,e){if(isTouchEvent(e=e.originalEvent)){var i=this.getTouchPoint(e);if(this.getClosestMenu(i.target)==t[0]){var n=t.dataSM("scroll");if(/(start|down)$/i.test(e.type))this.menuScrollStop(t)?(e.preventDefault(),this.$touchScrollingSub=t):this.$touchScrollingSub=null,this.menuScrollRefreshData(t),$.extend(n,{touchStartY:i.pageY,touchStartTime:e.timeStamp});else if(/move$/i.test(e.type)){var o=void 0!==n.touchY?n.touchY:n.touchStartY;if(void 0!==o&&o!=i.pageY){this.$touchScrollingSub=t;var s=o<i.pageY;void 0!==n.up&&n.up!=s&&$.extend(n,{touchStartY:i.pageY,touchStartTime:e.timeStamp}),$.extend(n,{up:s,touchY:i.pageY}),this.menuScroll(t,!0,Math.abs(i.pageY-o))}e.preventDefault()}else void 0!==n.touchY&&((n.momentum=15*Math.pow(Math.abs(i.pageY-n.touchStartY)/(e.timeStamp-n.touchStartTime),2))&&(this.menuScrollStop(t),this.menuScroll(t),e.preventDefault()),delete n.touchY)}}},menuShow:function(t){if((t.dataSM("beforefirstshowfired")||(t.dataSM("beforefirstshowfired",!0),!1!==this.$root.triggerHandler("beforefirstshow.smapi",t[0])))&&!1!==this.$root.triggerHandler("beforeshow.smapi",t[0])&&(t.dataSM("shown-before",!0),canAnimate&&t.stop(!0,!0),!t.is(":visible"))){var e=t.dataSM("parent-a"),i=this.isCollapsible();if((this.opts.keepHighlighted||i)&&e.addClass("highlighted"),i)t.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""});else{if(t.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(t.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&t.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth)){var n=this.getWidth(t);t.css("max-width",this.opts.subMenusMaxWidth),n>this.getWidth(t)&&t.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(t)}var o=function(){t.css("overflow","")};i?canAnimate&&this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,t,o):t.show(this.opts.collapsibleShowDuration,o):canAnimate&&this.opts.showFunction?this.opts.showFunction.call(this,t,o):t.show(this.opts.showDuration,o),e.attr("aria-expanded","true"),t.attr({"aria-expanded":"true","aria-hidden":"false"}),this.visibleSubMenus.push(t),this.$root.triggerHandler("show.smapi",t[0])}},popupHide:function(t){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout((function(){e.menuHideAll()}),t?1:this.opts.hideTimeout)},popupShow:function(t,e){if(this.opts.isPopup){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.$root.dataSM("shown-before",!0),canAnimate&&this.$root.stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:t,top:e});var i=this,n=function(){i.$root.css("overflow","")};canAnimate&&this.opts.showFunction?this.opts.showFunction.call(this,this.$root,n):this.$root.show(this.opts.showDuration,n),this.visibleSubMenus[0]=this.$root}}else alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.')},refresh:function(){this.destroy(!0),this.init(!0)},rootKeyDown:function(t){if(this.handleEvents())switch(t.keyCode){case 27:var e=this.activatedItems[0];if(e)this.menuHideAll(),e[0].focus(),(i=e.dataSM("sub"))&&this.menuHide(i);break;case 32:var i,n=$(t.target);if(n.is("a")&&this.handleItemEvents(n))(i=n.dataSM("sub"))&&!i.is(":visible")&&(this.itemClick({currentTarget:t.target}),t.preventDefault())}},rootOut:function(t){if(this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var e=this;this.hideTimeout=setTimeout((function(){e.menuHideAll()}),this.opts.hideTimeout)}},rootOver:function(t){this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(t){if(this.handleEvents()){if(!("onorientationchange"in window)||"orientationchange"==t.type){var e=this.isCollapsible();this.wasCollapsible&&e||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=e}}else if(this.$disableOverlay){var i=this.$root.offset();this.$disableOverlay.css({top:i.top,left:i.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}}}}),$.fn.dataSM=function(t,e){return e?this.data(t+"_smartmenus",e):this.data(t+"_smartmenus")},$.fn.removeDataSM=function(t){return this.removeData(t+"_smartmenus")},$.fn.smartmenus=function(options){if("string"==typeof options){var args=arguments,method=options;return Array.prototype.shift.call(args),this.each((function(){var t=$(this).data("smartmenus");t&&t[method]&&t[method].apply(t,args)}))}return this.each((function(){var dataOpts=$(this).data("sm-options")||null;if(dataOpts)try{dataOpts=eval("("+dataOpts+")")}catch(t){dataOpts=null,alert('ERROR\n\nSmartMenus jQuery init:\nInvalid "data-sm-options" attribute value syntax.')}new $.SmartMenus(this,$.extend({},$.fn.smartmenus.defaults,options,dataOpts))}))},$.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"30em",subIndicators:!0,subIndicatorsPos:"append",subIndicatorsText:"",scrollStep:30,scrollAccelerate:!0,showTimeout:0,hideTimeout:400,showDuration:0,showFunction:function(t,e){t.fadeIn(100,e)},hideDuration:0,hideFunction:function(t,e){t.fadeOut(200,e)},collapsibleShowDuration:0,collapsibleShowFunction:function(t,e){t.slideDown(200,e)},collapsibleHideDuration:0,collapsibleHideFunction:function(t,e){t.slideUp(200,e)},showOnClick:!1,hideOnClick:!0,noMouseOver:!1,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,collapsibleBehavior:"accordion"},$})),function(t){"function"==typeof define&&define.amd?define(["jquery","smartmenus"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){return t.extend(t.SmartMenus.Bootstrap={},{keydownFix:!1,init:function(){var e=t("ul.navbar-nav:not([data-sm-skip])");e.each((function(){var e=t(this),i=e.data("smartmenus");if(!i){var n,o=e.is("[data-sm-skip-collapsible-behavior]"),s=e.hasClass("ml-auto")||e.prevAll(".mr-auto").length>0;function a(){e.find("a.current").each((function(){var e=t(this);(e.hasClass("dropdown-item")?e:e.parent()).addClass("active")})),e.find("a.has-submenu").each((function(){var e=t(this);e.is('[data-toggle="dropdown"]')&&e.dataSM("bs-data-toggle-dropdown",!0).removeAttr("data-toggle"),!o&&e.hasClass("dropdown-toggle")&&e.dataSM("bs-dropdown-toggle",!0).removeClass("dropdown-toggle")}))}function r(t){var o=i.getViewportWidth();(o!=n||t)&&(i.isCollapsible()?e.addClass("sm-collapsible"):e.removeClass("sm-collapsible"),n=o)}e.smartmenus({subMenusSubOffsetX:2,subMenusSubOffsetY:-9,subIndicators:!o,collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:s,bottomToTopSubMenus:e.closest(".fixed-bottom").length>0,bootstrapHighlightClasses:"bg-light"}).on({"show.smapi":function(e,n){var o=t(n),s=o.dataSM("scroll-arrows");s&&s.css("background-color",o.css("background-color")),o.parent().addClass("show"),i.opts.keepHighlighted&&o.dataSM("level")>2&&o.prevAll("a").addClass(i.opts.bootstrapHighlightClasses)},"hide.smapi":function(e,n){var o=t(n);o.parent().removeClass("show"),i.opts.keepHighlighted&&o.dataSM("level")>2&&o.prevAll("a").removeClass(i.opts.bootstrapHighlightClasses)}}),i=e.data("smartmenus"),a(),i.refresh=function(){t.SmartMenus.prototype.refresh.call(this),a(),r(!0)},i.destroy=function(i){e.find("a.current").each((function(){var e=t(this);(e.hasClass("active")?e:e.parent()).removeClass("active")})),e.find("a.has-submenu").each((function(){var e=t(this);e.dataSM("bs-dropdown-toggle")&&e.addClass("dropdown-toggle").removeDataSM("bs-dropdown-toggle"),e.dataSM("bs-data-toggle-dropdown")&&e.attr("data-toggle","dropdown").removeDataSM("bs-data-toggle-dropdown")})),t.SmartMenus.prototype.destroy.call(this,i)},o&&(i.opts.collapsibleBehavior="toggle"),r(),t(window).on("resize.smartmenus"+i.rootId,r)}})),e.length&&!t.SmartMenus.Bootstrap.keydownFix&&(t(document).off("keydown.bs.dropdown.data-api",".dropdown-menu"),t.fn.dropdown&&t.fn.dropdown.Constructor&&"function"==typeof t.fn.dropdown.Constructor._dataApiKeydownHandler&&t(document).on("keydown.bs.dropdown.data-api",".dropdown-menu.show",t.fn.dropdown.Constructor._dataApiKeydownHandler),t.SmartMenus.Bootstrap.keydownFix=!0)}}),t(t.SmartMenus.Bootstrap.init),t})),
/*! DataTables 1.11.3
 * 2008-2021 SpryMedia Ltd - datatables.net/license
 */
/**
 * @summary     DataTables
 * @description Paginate, search and order HTML tables
 * @version     1.11.3
 * @file        jquery.dataTables.js
 * @author      SpryMedia Ltd
 * @contact     www.datatables.net
 * @copyright   Copyright 2008-2021 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i,e,e.document)}:window.DataTable=t(jQuery,window,document)}((function(t,e,i,n){"use strict";var o,s,a,r,l=function(e,i){if(this instanceof l)return t(e).DataTable(i);i=e,this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new s(t?le(this[o.iApiIndex]):this)},this.fnAddData=function(e,i){var o=this.api(!0),s=Array.isArray(e)&&(Array.isArray(e[0])||t.isPlainObject(e[0]))?o.rows.add(e):o.row.add(e);return(i===n||i)&&o.draw(),s.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],o=i.oScroll;t===n||t?e.draw(!1):""===o.sX&&""===o.sY||qt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var o=this.api(!0),s=o.rows(t),a=s.settings()[0],r=a.aoData[s[0][0]];return s.remove(),e&&e.call(this,a,r),(i===n||i)&&o.draw(),r},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,o,s,a){var r=this.api(!0);null===e||e===n?r.search(t,i,o,a):r.column(e).search(t,i,o,a),r.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var o=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==o||"th"==o?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();if("TR"==i)return e.row(t).index();if("TD"==i||"TH"==i){var n=e.cell(t).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){var o=this.api(!0).column(t).visible(e);(i===n||i)&&o.columns.adjust().draw()},this.fnSettings=function(){return le(this[o.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,o,s){var a=this.api(!0);return i===n||null===i?a.row(e).data(t):a.cell(e,i).data(t),(s===n||s)&&a.columns.adjust(),(o===n||o)&&a.draw(),0},this.fnVersionCheck=o.fnVersionCheck;var a=this,r=i===n,c=this.length;for(var h in r&&(i={}),this.oApi=this.internal=o.internal,l.ext.internal)h&&(this[h]=Be(h));return this.each((function(){var e,o=c>1?ue({},i,!0):i,s=0,h=this.getAttribute("id"),u=!1,d=l.defaults,p=t(this);if("table"==this.nodeName.toLowerCase()){I(d),M(d.column),D(d,d,!0),D(d.column,d.column,!0),D(d,t.extend(o,p.data()),!0);var f=l.settings;for(s=0,e=f.length;s<e;s++){var m=f[s];if(m.nTable==this||m.nTHead&&m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){var _=o.bRetrieve!==n?o.bRetrieve:d.bRetrieve,g=o.bDestroy!==n?o.bDestroy:d.bDestroy;if(r||_)return m.oInstance;if(g){m.oInstance.fnDestroy();break}return void ce(m,0,"Cannot reinitialise DataTable",3)}if(m.sTableId==this.id){f.splice(s,1);break}}null!==h&&""!==h||(h="DataTables_Table_"+l.ext._unique++,this.id=h);var v=t.extend(!0,{},l.models.oSettings,{sDestroyWidth:p[0].style.width,sInstance:h,sTableId:h});v.nTable=this,v.oApi=a.internal,v.oInit=o,f.push(v),v.oInstance=1===a.length?a:p.dataTable(),I(o),A(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=Array.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=ue(t.extend(!0,{},d),o),he(v.oFeatures,o,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),he(v,o,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),he(v.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),he(v.oLanguage,o,"fnInfoCallback"),pe(v,"aoDrawCallback",o.fnDrawCallback,"user"),pe(v,"aoServerParams",o.fnServerParams,"user"),pe(v,"aoStateSaveParams",o.fnStateSaveParams,"user"),pe(v,"aoStateLoadParams",o.fnStateLoadParams,"user"),pe(v,"aoStateLoaded",o.fnStateLoaded,"user"),pe(v,"aoRowCallback",o.fnRowCallback,"user"),pe(v,"aoRowCreatedCallback",o.fnCreatedRow,"user"),pe(v,"aoHeaderCallback",o.fnHeaderCallback,"user"),pe(v,"aoFooterCallback",o.fnFooterCallback,"user"),pe(v,"aoInitComplete",o.fnInitComplete,"user"),pe(v,"aoPreDrawCallback",o.fnPreDrawCallback,"user"),v.rowIdFn=J(o.rowId),$(v);var y=v.oClasses;if(t.extend(y,l.ext.classes,o.oClasses),p.addClass(y.sTable),v.iInitDisplayStart===n&&(v.iInitDisplayStart=o.iDisplayStart,v._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading){v.bDeferLoading=!0;var b=Array.isArray(o.iDeferLoading);v._iRecordsDisplay=b?o.iDeferLoading[0]:o.iDeferLoading,v._iRecordsTotal=b?o.iDeferLoading[1]:o.iDeferLoading}var w=v.oLanguage;t.extend(!0,w,o.oLanguage),w.sUrl?(t.ajax({dataType:"json",url:w.sUrl,success:function(e){D(d.oLanguage,e),A(e),t.extend(!0,w,e),fe(v,null,"i18n",[v]),$t(v)},error:function(){$t(v)}}),u=!0):fe(v,null,"i18n",[v]),null===o.asStripeClasses&&(v.asStripeClasses=[y.sStripeOdd,y.sStripeEven]);var x=v.asStripeClasses,S=p.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(x,(function(t,e){return S.hasClass(t)})))&&(t("tbody tr",this).removeClass(x.join(" ")),v.asDestroyStripes=x.slice());var T,C=[],k=this.getElementsByTagName("thead");if(0!==k.length&&(dt(v.aoHeader,k[0]),C=pt(v)),null===o.aoColumns)for(T=[],s=0,e=C.length;s<e;s++)T.push(null);else T=o.aoColumns;for(s=0,e=T.length;s<e;s++)N(v,C?C[s]:null);if(W(v,o.aoColumnDefs,T,(function(t,e){B(v,t,e)})),S.length){var P=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(S[0]).children("th, td").each((function(t,e){var i=v.aoColumns[t];if(i.mData===t){var o=P(e,"sort")||P(e,"order"),s=P(e,"filter")||P(e,"search");null===o&&null===s||(i.mData={_:t+".display",sort:null!==o?t+".@data-"+o:n,type:null!==o?t+".@data-"+o:n,filter:null!==s?t+".@data-"+s:n},B(v,t))}}))}var L=v.oFeatures,E=function(){if(o.aaSorting===n){var i=v.aaSorting;for(s=0,e=i.length;s<e;s++)i[s][1]=v.aoColumns[s].asSorting[0]}ne(v),L.bSort&&pe(v,"aoDrawCallback",(function(){if(v.bSorted){var e=Jt(v),i={};t.each(e,(function(t,e){i[e.src]=e.dir})),fe(v,null,"order",[v,e,i]),te(v)}})),pe(v,"aoDrawCallback",(function(){(v.bSorted||"ssp"===ge(v)||L.bDeferRender)&&ne(v)}),"sc");var a=p.children("caption").each((function(){this._captionSide=t(this).css("caption-side")})),r=p.children("thead");0===r.length&&(r=t("<thead/>").appendTo(p)),v.nTHead=r[0];var l=p.children("tbody");0===l.length&&(l=t("<tbody/>").insertAfter(r)),v.nTBody=l[0];var c=p.children("tfoot");if(0===c.length&&a.length>0&&(""!==v.oScroll.sX||""!==v.oScroll.sY)&&(c=t("<tfoot/>").appendTo(p)),0===c.length||0===c.children().length?p.addClass(y.sNoFooter):c.length>0&&(v.nTFoot=c[0],dt(v.aoFooter,v.nTFoot)),o.aaData)for(s=0;s<o.aaData.length;s++)Z(v,o.aaData[s]);else(v.bDeferLoading||"dom"==ge(v))&&U(v,t(v.nTBody).children("tr"));v.aiDisplay=v.aiDisplayMaster.slice(),v.bInitialised=!0,!1===u&&$t(v)};pe(v,"aoDrawCallback",se,"state_save"),o.bStateSave?(L.bStateSave=!0,ae(v,o,E)):E()}else ce(null,0,"Non-table node initialisation ("+this.nodeName+")",2)})),a=null,this},c={},h=/[\r\n\u2028]/g,u=/<.*?>/g,d=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,p=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),f=/['\u00A0,$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,m=function(t){return!t||!0===t||"-"===t},_=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},g=function(t,e){return c[e]||(c[e]=new RegExp(Ct(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(c[e],"."):t},v=function(t,e,i){var n="string"==typeof t;return!!m(t)||(e&&n&&(t=g(t,e)),i&&n&&(t=t.replace(f,"")),!isNaN(parseFloat(t))&&isFinite(t))},y=function(t,e,i){if(m(t))return!0;var n=function(t){return m(t)||"string"==typeof t}(t);return n&&!!v(T(t),e,i)||null},b=function(t,e,i){var o=[],s=0,a=t.length;if(i!==n)for(;s<a;s++)t[s]&&t[s][e]&&o.push(t[s][e][i]);else for(;s<a;s++)t[s]&&o.push(t[s][e]);return o},w=function(t,e,i,o){var s=[],a=0,r=e.length;if(o!==n)for(;a<r;a++)t[e[a]][i]&&s.push(t[e[a]][i][o]);else for(;a<r;a++)s.push(t[e[a]][i]);return s},x=function(t,e){var i,o=[];e===n?(e=0,i=t):(i=e,e=t);for(var s=e;s<i;s++)o.push(s);return o},S=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},T=function(t){return t.replace(u,"")},C=function(t){if(function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),i=e[0],n=1,o=e.length;n<o;n++){if(e[n]===i)return!1;i=e[n]}return!0}(t))return t.slice();var e,i,n,o=[],s=t.length,a=0;t:for(i=0;i<s;i++){for(e=t[i],n=0;n<a;n++)if(o[n]===e)continue t;o.push(e),a++}return o},k=function(t,e){if(Array.isArray(e))for(var i=0;i<e.length;i++)k(t,e[i]);else t.push(e);return t},P=function(t,e){return e===n&&(e=0),-1!==this.indexOf(t,e)};function L(e){var i,n,o={};t.each(e,(function(t,s){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(n=t.replace(i[0],i[2].toLowerCase()),o[n]=t,"o"===i[1]&&L(e[t]))})),e._hungarianMap=o}function D(e,i,o){var s;e._hungarianMap||L(e),t.each(i,(function(a,r){(s=e._hungarianMap[a])===n||!o&&i[s]!==n||("o"===s.charAt(0)?(i[s]||(i[s]={}),t.extend(!0,i[s],i[a]),D(e[s],i[s],o)):i[s]=i[a])}))}function A(t){var e=l.defaults.oLanguage,i=e.sDecimal;if(i&&Oe(i),t){var n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&he(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&he(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var o=t.sDecimal;o&&i!==o&&Oe(o)}}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.includes||(Array.prototype.includes=P),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=P),l.util={throttle:function(t,e){var i,o,s=e!==n?e:200;return function(){var e=this,a=+new Date,r=arguments;i&&a<i+s?(clearTimeout(o),o=setTimeout((function(){i=n,t.apply(e,r)}),s)):(i=a,t.apply(e,r))}},escapeRegex:function(t){return t.replace(p,"\\$1")},set:function(e){if(t.isPlainObject(e))return l.util.set(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){t[e]=i};var i=function(t,e,o){for(var s,a,r,l,c,h=Y(o),u=h[h.length-1],d=0,p=h.length-1;d<p;d++){if("__proto__"===h[d]||"constructor"===h[d])throw new Error("Cannot set prototype values");if(a=h[d].match(G),r=h[d].match(X),a){if(h[d]=h[d].replace(G,""),t[h[d]]=[],(s=h.slice()).splice(0,d+1),c=s.join("."),Array.isArray(e))for(var f=0,m=e.length;f<m;f++)i(l={},e[f],c),t[h[d]].push(l);else t[h[d]]=e;return}r&&(h[d]=h[d].replace(X,""),t=t[h[d]](e)),null!==t[h[d]]&&t[h[d]]!==n||(t[h[d]]={}),t=t[h[d]]}u.match(X)?t=t[u.replace(X,"")](e):t[u.replace(G,"")]=e};return function(t,n){return i(t,n,e)}},get:function(e){if(t.isPlainObject(e)){var i={};return t.each(e,(function(t,e){e&&(i[t]=l.util.get(e))})),function(t,e,o,s){var a=i[e]||i._;return a!==n?a(t,e,o,s):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,i,n,o){return e(t,i,n,o)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){return t[e]};var o=function(t,e,i){var s,a,r,l;if(""!==i)for(var c=Y(i),h=0,u=c.length;h<u;h++){if(s=c[h].match(G),a=c[h].match(X),s){if(c[h]=c[h].replace(G,""),""!==c[h]&&(t=t[c[h]]),r=[],c.splice(0,h+1),l=c.join("."),Array.isArray(t))for(var d=0,p=t.length;d<p;d++)r.push(o(t[d],e,l));var f=s[0].substring(1,s[0].length-1);t=""===f?r:r.join(f);break}if(a)c[h]=c[h].replace(X,""),t=t[c[h]]();else{if(null===t||t[c[h]]===n)return n;t=t[c[h]]}}return t};return function(t,i){return o(t,i,e)}}};var E=function(t,e,i){t[e]!==n&&(t[i]=t[e])};function I(t){E(t,"ordering","bSort"),E(t,"orderMulti","bSortMulti"),E(t,"orderClasses","bSortClasses"),E(t,"orderCellsTop","bSortCellsTop"),E(t,"order","aaSorting"),E(t,"orderFixed","aaSortingFixed"),E(t,"paging","bPaginate"),E(t,"pagingType","sPaginationType"),E(t,"pageLength","iDisplayLength"),E(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var i=0,n=e.length;i<n;i++)e[i]&&D(l.models.oSearch,e[i])}function M(t){E(t,"orderable","bSortable"),E(t,"orderData","aDataSort"),E(t,"orderSequence","asSorting"),E(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"!=typeof e||Array.isArray(e)||(t.aDataSort=[e])}function $(i){if(!l.__browser){var n={};l.__browser=n;var o=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),s=o.children(),a=s.children();n.barWidth=s[0].offsetWidth-s[0].clientWidth,n.bScrollOversize=100===a[0].offsetWidth&&100!==s[0].clientWidth,n.bScrollbarLeft=1!==Math.round(a.offset().left),n.bBounding=!!o[0].getBoundingClientRect().width,o.remove()}t.extend(i.oBrowser,l.__browser),i.oScroll.iBarWidth=l.__browser.barWidth}function O(t,e,i,o,s,a){var r,l=o,c=!1;for(i!==n&&(r=i,c=!0);l!==s;)t.hasOwnProperty(l)&&(r=c?e(r,t[l],l,t):t[l],c=!0,l+=a);return r}function N(e,n){var o=l.defaults.column,s=e.aoColumns.length,a=t.extend({},l.models.oColumn,o,{nTh:n||i.createElement("th"),sTitle:o.sTitle?o.sTitle:n?n.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[s],mData:o.mData?o.mData:s,idx:s});e.aoColumns.push(a);var r=e.aoPreSearchCols;r[s]=t.extend({},l.models.oSearch,r[s]),B(e,s,t(n).data())}function B(e,i,o){var s=e.aoColumns[i],a=e.oClasses,r=t(s.nTh);if(!s.sWidthOrig){s.sWidthOrig=r.attr("width")||null;var c=(r.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(s.sWidthOrig=c[1])}o!==n&&null!==o&&(M(o),D(l.defaults.column,o,!0),o.mDataProp===n||o.mData||(o.mData=o.mDataProp),o.sType&&(s._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),o.sClass&&r.addClass(o.sClass),t.extend(s,o),he(s,o,"sWidth","sWidthOrig"),o.iDataSort!==n&&(s.aDataSort=[o.iDataSort]),he(s,o,"aDataSort"));var h=s.mData,u=J(h),d=s.mRender?J(s.mRender):null,p=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};s._bAttrSrc=t.isPlainObject(h)&&(p(h.sort)||p(h.type)||p(h.filter)),s._setter=null,s.fnGetData=function(t,e,i){var o=u(t,e,n,i);return d&&e?d(o,e,t,i):o},s.fnSetData=function(t,e,i){return Q(h)(t,e,i)},"number"!=typeof h&&(e._rowReadObject=!0),e.oFeatures.bSort||(s.bSortable=!1,r.addClass(a.sSortableNone));var f=-1!==t.inArray("asc",s.asSorting),m=-1!==t.inArray("desc",s.asSorting);s.bSortable&&(f||m)?f&&!m?(s.sSortingClass=a.sSortableAsc,s.sSortingClassJUI=a.sSortJUIAscAllowed):!f&&m?(s.sSortingClass=a.sSortableDesc,s.sSortingClassJUI=a.sSortJUIDescAllowed):(s.sSortingClass=a.sSortable,s.sSortingClassJUI=a.sSortJUI):(s.sSortingClass=a.sSortableNone,s.sSortingClassJUI="")}function j(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;Ut(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}var o=t.oScroll;""===o.sY&&""===o.sX||qt(t),fe(t,null,"column-sizing",[t])}function z(t,e){var i=H(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function R(e,i){var n=H(e,"bVisible"),o=t.inArray(i,n);return-1!==o?o:null}function F(e){var i=0;return t.each(e.aoColumns,(function(e,n){n.bVisible&&"none"!==t(n.nTh).css("display")&&i++})),i}function H(e,i){var n=[];return t.map(e.aoColumns,(function(t,e){t[i]&&n.push(e)})),n}function q(t){var e,i,o,s,a,r,c,h,u,d=t.aoColumns,p=t.aoData,f=l.ext.type.detect;for(e=0,i=d.length;e<i;e++)if(u=[],!(c=d[e]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(o=0,s=f.length;o<s;o++){for(a=0,r=p.length;a<r&&(u[a]===n&&(u[a]=K(t,a,e,"type")),(h=f[o](u[a],t))||o===f.length-1)&&("html"!==h||m(u[a]));a++);if(h){c.sType=h;break}}c.sType||(c.sType="string")}}function W(e,i,o,s){var a,r,l,c,h,u,d,p=e.aoColumns;if(i)for(a=i.length-1;a>=0;a--){var f=(d=i[a]).targets!==n?d.targets:d.aTargets;for(Array.isArray(f)||(f=[f]),l=0,c=f.length;l<c;l++)if("number"==typeof f[l]&&f[l]>=0){for(;p.length<=f[l];)N(e);s(f[l],d)}else if("number"==typeof f[l]&&f[l]<0)s(p.length+f[l],d);else if("string"==typeof f[l])for(h=0,u=p.length;h<u;h++)("_all"==f[l]||t(p[h].nTh).hasClass(f[l]))&&s(h,d)}if(o)for(a=0,r=o.length;a<r;a++)s(a,o[a])}function Z(e,i,o,s){var a=e.aoData.length,r=t.extend(!0,{},l.models.oRow,{src:o?"dom":"data",idx:a});r._aData=i,e.aoData.push(r);for(var c=e.aoColumns,h=0,u=c.length;h<u;h++)c[h].sType=null;e.aiDisplayMaster.push(a);var d=e.rowIdFn(i);return d!==n&&(e.aIds[d]=r),!o&&e.oFeatures.bDeferRender||st(e,a,o,s),a}function U(e,i){var n;return i instanceof t||(i=t(i)),i.map((function(t,i){return n=ot(e,i),Z(e,n.data,i,n.cells)}))}function K(t,e,i,o){"search"===o?o="filter":"order"===o&&(o="sort");var s=t.iDraw,a=t.aoColumns[i],r=t.aoData[e]._aData,c=a.sDefaultContent,h=a.fnGetData(r,o,{settings:t,row:e,col:i});if(h===n)return t.iDrawError!=s&&null===c&&(ce(t,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=s),c;if(h!==r&&null!==h||null===c||o===n){if("function"==typeof h)return h.call(r)}else h=c;if(null===h&&"display"===o)return"";if("filter"===o){var u=l.ext.type.search;u[a.sType]&&(h=u[a.sType](h))}return h}function V(t,e,i,n){var o=t.aoColumns[i],s=t.aoData[e]._aData;o.fnSetData(s,n,{settings:t,row:e,col:i})}var G=/\[.*?\]$/,X=/\(\)$/;function Y(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],(function(t){return t.replace(/\\\./g,".")}))}var J=l.util.get,Q=l.util.set;function tt(t){return b(t.aoData,"_aData")}function et(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function it(t,e,i){for(var o=-1,s=0,a=t.length;s<a;s++)t[s]==e?o=s:t[s]>e&&t[s]--;-1!=o&&i===n&&t.splice(o,1)}function nt(t,e,i,o){var s,a,r=t.aoData[e],l=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=K(t,e,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==r.src)){var c=r.anCells;if(c)if(o!==n)l(c[o],o);else for(s=0,a=c.length;s<a;s++)l(c[s],s)}else r._aData=ot(t,r,o,o===n?n:r._aData).data;r._aSortData=null,r._aFilterData=null;var h=t.aoColumns;if(o!==n)h[o].sType=null;else{for(s=0,a=h.length;s<a;s++)h[s].sType=null;at(t,r)}}function ot(t,e,i,o){var s,a,r,l=[],c=e.firstChild,h=0,u=t.aoColumns,d=t._rowReadObject;o=o!==n?o:d?{}:[];var p=function(t,e){if("string"==typeof t){var i=t.indexOf("@");if(-1!==i){var n=t.substring(i+1);Q(t)(o,e.getAttribute(n))}}},f=function(t){i!==n&&i!==h||(a=u[h],r=t.innerHTML.trim(),a&&a._bAttrSrc?(Q(a.mData._)(o,r),p(a.mData.sort,t),p(a.mData.type,t),p(a.mData.filter,t)):d?(a._setter||(a._setter=Q(a.mData)),a._setter(o,r)):o[h]=r);h++};if(c)for(;c;)"TD"!=(s=c.nodeName.toUpperCase())&&"TH"!=s||(f(c),l.push(c)),c=c.nextSibling;else for(var m=0,_=(l=e.anCells).length;m<_;m++)f(l[m]);var g=e.firstChild?e:e.nTr;if(g){var v=g.getAttribute("id");v&&Q(t.rowId)(o,v)}return{data:o,cells:l}}function st(e,n,o,s){var a,r,l,c,h,u,d=e.aoData[n],p=d._aData,f=[];if(null===d.nTr){for(a=o||i.createElement("tr"),d.nTr=a,d.anCells=f,a._DT_RowIndex=n,at(e,d),c=0,h=e.aoColumns.length;c<h;c++)l=e.aoColumns[c],(r=(u=!o)?i.createElement(l.sCellType):s[c])._DT_CellIndex={row:n,column:c},f.push(r),!u&&(!l.mRender&&l.mData===c||t.isPlainObject(l.mData)&&l.mData._===c+".display")||(r.innerHTML=K(e,n,c,"display")),l.sClass&&(r.className+=" "+l.sClass),l.bVisible&&!o?a.appendChild(r):!l.bVisible&&o&&r.parentNode.removeChild(r),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,r,K(e,n,c),p,n,c);fe(e,"aoRowCreatedCallback",null,[a,p,n,f])}}function at(e,i){var n=i.nTr,o=i._aData;if(n){var s=e.rowIdFn(o);if(s&&(n.id=s),o.DT_RowClass){var a=o.DT_RowClass.split(" ");i.__rowc=i.__rowc?C(i.__rowc.concat(a)):a,t(n).removeClass(i.__rowc.join(" ")).addClass(o.DT_RowClass)}o.DT_RowAttr&&t(n).attr(o.DT_RowAttr),o.DT_RowData&&t(n).data(o.DT_RowData)}}function rt(e){var i,n,o,s,a,r=e.nTHead,l=e.nTFoot,c=0===t("th, td",r).length,h=e.oClasses,u=e.aoColumns;for(c&&(s=t("<tr/>").appendTo(r)),i=0,n=u.length;i<n;i++)a=u[i],o=t(a.nTh).addClass(a.sClass),c&&o.appendTo(s),e.oFeatures.bSort&&(o.addClass(a.sSortingClass),!1!==a.bSortable&&(o.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),ie(e,a.nTh,i))),a.sTitle!=o[0].innerHTML&&o.html(a.sTitle),_e(e,"header")(e,o,a,h);if(c&&dt(e.aoHeader,r),t(r).children("tr").children("th, td").addClass(h.sHeaderTH),t(l).children("tr").children("th, td").addClass(h.sFooterTH),null!==l){var d=e.aoFooter[0];for(i=0,n=d.length;i<n;i++)(a=u[i]).nTf=d[i].cell,a.sClass&&t(a.nTf).addClass(a.sClass)}}function lt(e,i,o){var s,a,r,l,c,h,u,d,p,f=[],m=[],_=e.aoColumns.length;if(i){for(o===n&&(o=!1),s=0,a=i.length;s<a;s++){for(f[s]=i[s].slice(),f[s].nTr=i[s].nTr,r=_-1;r>=0;r--)e.aoColumns[r].bVisible||o||f[s].splice(r,1);m.push([])}for(s=0,a=f.length;s<a;s++){if(u=f[s].nTr)for(;h=u.firstChild;)u.removeChild(h);for(r=0,l=f[s].length;r<l;r++)if(d=1,p=1,m[s][r]===n){for(u.appendChild(f[s][r].cell),m[s][r]=1;f[s+d]!==n&&f[s][r].cell==f[s+d][r].cell;)m[s+d][r]=1,d++;for(;f[s][r+p]!==n&&f[s][r].cell==f[s][r+p].cell;){for(c=0;c<d;c++)m[s+c][r+p]=1;p++}t(f[s][r].cell).attr("rowspan",d).attr("colspan",p)}}}}function ct(e,i){var o=fe(e,"aoPreDrawCallback","preDraw",[e]);if(-1===t.inArray(!1,o)){var s=[],a=0,r=e.asStripeClasses,l=r.length,c=(e.aoOpenRows.length,e.oLanguage),h=e.iInitDisplayStart,u="ssp"==ge(e),d=e.aiDisplay;e.bDrawing=!0,h!==n&&-1!==h&&(e._iDisplayStart=u?h:h>=e.fnRecordsDisplay()?0:h,e.iInitDisplayStart=-1);var p=e._iDisplayStart,f=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,Ft(e,!1);else if(u){if(!e.bDestroying&&!i)return void mt(e)}else e.iDraw++;if(0!==d.length)for(var m=u?0:p,_=u?e.aoData.length:f,g=m;g<_;g++){var v=d[g],y=e.aoData[v];null===y.nTr&&st(e,v);var b=y.nTr;if(0!==l){var w=r[a%l];y._sRowStripe!=w&&(t(b).removeClass(y._sRowStripe).addClass(w),y._sRowStripe=w)}fe(e,"aoRowCallback",null,[b,y._aData,a,g,v]),s.push(b),a++}else{var x=c.sZeroRecords;1==e.iDraw&&"ajax"==ge(e)?x=c.sLoadingRecords:c.sEmptyTable&&0===e.fnRecordsTotal()&&(x=c.sEmptyTable),s[0]=t("<tr/>",{class:l?r[0]:""}).append(t("<td />",{valign:"top",colSpan:F(e),class:e.oClasses.sRowEmpty}).html(x))[0]}fe(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],tt(e),p,f,d]),fe(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],tt(e),p,f,d]);var S=t(e.nTBody);S.children().detach(),S.append(t(s)),fe(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else Ft(e,!1)}function ht(t,e){var i=t.oFeatures,n=i.bSort,o=i.bFilter;n&&Qt(t),o?bt(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,ct(t),t._drawHold=!1}function ut(e){var i=e.oClasses,n=t(e.nTable),o=t("<div/>").insertBefore(n),s=e.oFeatures,a=t("<div/>",{id:e.sTableId+"_wrapper",class:i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=o[0],e.nTableWrapper=a[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var r,c,h,u,d,p,f=e.sDom.split(""),m=0;m<f.length;m++){if(r=null,"<"==(c=f[m])){if(h=t("<div/>")[0],"'"==(u=f[m+1])||'"'==u){for(d="",p=2;f[m+p]!=u;)d+=f[m+p],p++;if("H"==d?d=i.sJUIHeader:"F"==d&&(d=i.sJUIFooter),-1!=d.indexOf(".")){var _=d.split(".");h.id=_[0].substr(1,_[0].length-1),h.className=_[1]}else"#"==d.charAt(0)?h.id=d.substr(1,d.length-1):h.className=d;m+=p}a.append(h),a=t(h)}else if(">"==c)a=a.parent();else if("l"==c&&s.bPaginate&&s.bLengthChange)r=Bt(e);else if("f"==c&&s.bFilter)r=yt(e);else if("r"==c&&s.bProcessing)r=Rt(e);else if("t"==c)r=Ht(e);else if("i"==c&&s.bInfo)r=Et(e);else if("p"==c&&s.bPaginate)r=jt(e);else if(0!==l.ext.feature.length)for(var g=l.ext.feature,v=0,y=g.length;v<y;v++)if(c==g[v].cFeature){r=g[v].fnInit(e);break}if(r){var b=e.aanFeatures;b[c]||(b[c]=[]),b[c].push(r),a.append(r)}}o.replaceWith(a),e.nHolding=null}function dt(e,i){var n,o,s,a,r,l,c,h,u,d,p=t(i).children("tr"),f=function(t,e,i){for(var n=t[e];n[i];)i++;return i};for(e.splice(0,e.length),s=0,l=p.length;s<l;s++)e.push([]);for(s=0,l=p.length;s<l;s++)for(0,o=(n=p[s]).firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase())for(h=(h=1*o.getAttribute("colspan"))&&0!==h&&1!==h?h:1,u=(u=1*o.getAttribute("rowspan"))&&0!==u&&1!==u?u:1,c=f(e,s,0),d=1===h,r=0;r<h;r++)for(a=0;a<u;a++)e[s+a][c+r]={cell:o,unique:d},e[s+a].nTr=n;o=o.nextSibling}}function pt(t,e,i){var n=[];i||(i=t.aoHeader,e&&dt(i=[],e));for(var o=0,s=i.length;o<s;o++)for(var a=0,r=i[o].length;a<r;a++)!i[o][a].unique||n[a]&&t.bSortCellsTop||(n[a]=i[o][a].cell);return n}function ft(e,i,n){if(fe(e,"aoServerParams","serverParams",[i]),i&&Array.isArray(i)){var o={},s=/(.*?)\[\]$/;t.each(i,(function(t,e){var i=e.name.match(s);if(i){var n=i[0];o[n]||(o[n]=[]),o[n].push(e.value)}else o[e.name]=e.value})),i=o}var a,r=e.ajax,l=e.oInstance,c=function(t){var i=e.jqXhr?e.jqXhr.status:null;(null===t||"number"==typeof i&&204==i)&&vt(e,t={},[]);var o=t.error||t.sError;o&&ce(e,0,o),e.json=t,fe(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(t.isPlainObject(r)&&r.data){var h="function"==typeof(a=r.data)?a(i,e):a;i="function"==typeof a&&h?h:t.extend(!0,i,h),delete r.data}var u={data:i,success:c,dataType:"json",cache:!1,type:e.sServerMethod,error:function(i,n,o){var s=fe(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,s)&&("parsererror"==n?ce(e,0,"Invalid JSON response",1):4===i.readyState&&ce(e,0,"Ajax error",7)),Ft(e,!1)}};e.oAjaxData=i,fe(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(i,(function(t,e){return{name:e,value:t}})),c,e):e.sAjaxSource||"string"==typeof r?e.jqXHR=t.ajax(t.extend(u,{url:r||e.sAjaxSource})):"function"==typeof r?e.jqXHR=r.call(l,i,c,e):(e.jqXHR=t.ajax(t.extend(u,r)),r.data=a)}function mt(t){t.iDraw++,Ft(t,!0),ft(t,_t(t),(function(e){gt(t,e)}))}function _t(e){var i,n,o,s,a=e.aoColumns,r=a.length,c=e.oFeatures,h=e.oPreviousSearch,u=e.aoPreSearchCols,d=[],p=Jt(e),f=e._iDisplayStart,m=!1!==c.bPaginate?e._iDisplayLength:-1,_=function(t,e){d.push({name:t,value:e})};_("sEcho",e.iDraw),_("iColumns",r),_("sColumns",b(a,"sName").join(",")),_("iDisplayStart",f),_("iDisplayLength",m);var g={draw:e.iDraw,columns:[],order:[],start:f,length:m,search:{value:h.sSearch,regex:h.bRegex}};for(i=0;i<r;i++)o=a[i],s=u[i],n="function"==typeof o.mData?"function":o.mData,g.columns.push({data:n,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:s.sSearch,regex:s.bRegex}}),_("mDataProp_"+i,n),c.bFilter&&(_("sSearch_"+i,s.sSearch),_("bRegex_"+i,s.bRegex),_("bSearchable_"+i,o.bSearchable)),c.bSort&&_("bSortable_"+i,o.bSortable);c.bFilter&&(_("sSearch",h.sSearch),_("bRegex",h.bRegex)),c.bSort&&(t.each(p,(function(t,e){g.order.push({column:e.col,dir:e.dir}),_("iSortCol_"+t,e.col),_("sSortDir_"+t,e.dir)})),_("iSortingCols",p.length));var v=l.ext.legacy.ajax;return null===v?e.sAjaxSource?d:g:v?d:g}function gt(t,e){var i=function(t,i){return e[t]!==n?e[t]:e[i]},o=vt(t,e),s=i("sEcho","draw"),a=i("iTotalRecords","recordsTotal"),r=i("iTotalDisplayRecords","recordsFiltered");if(s!==n){if(1*s<t.iDraw)return;t.iDraw=1*s}o||(o=[]),et(t),t._iRecordsTotal=parseInt(a,10),t._iRecordsDisplay=parseInt(r,10);for(var l=0,c=o.length;l<c;l++)Z(t,o[l]);t.aiDisplay=t.aiDisplayMaster.slice(),ct(t,!0),t._bInitComplete||Ot(t,e),Ft(t,!1)}function vt(e,i,o){var s=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;if(!o)return"data"===s?i.aaData||i[s]:""!==s?J(s)(i):i;Q(s)(i,o)}function yt(e){var n=e.oClasses,o=e.sTableId,s=e.oLanguage,a=e.oPreviousSearch,r=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=s.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var h=t("<div/>",{id:r.f?null:o+"_filter",class:n.sFilter}).append(t("<label/>").append(c)),u=function(t){r.f;var i=this.value?this.value:"";a.return&&"Enter"!==t.key||i!=a.sSearch&&(bt(e,{sSearch:i,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive,return:a.return}),e._iDisplayStart=0,ct(e))},d=null!==e.searchDelay?e.searchDelay:"ssp"===ge(e)?400:0,p=t("input",h).val(a.sSearch).attr("placeholder",s.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",d?Kt(u,d):u).on("mouseup",(function(t){setTimeout((function(){u.call(p[0],t)}),10)})).on("keypress.DT",(function(t){if(13==t.keyCode)return!1})).attr("aria-controls",o);return t(e.nTable).on("search.dt.DT",(function(t,n){if(e===n)try{p[0]!==i.activeElement&&p.val(a.sSearch)}catch(t){}})),h[0]}function bt(t,e,i){var o=t.oPreviousSearch,s=t.aoPreSearchCols,a=function(t){o.sSearch=t.sSearch,o.bRegex=t.bRegex,o.bSmart=t.bSmart,o.bCaseInsensitive=t.bCaseInsensitive,o.return=t.return},r=function(t){return t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex};if(q(t),"ssp"!=ge(t)){St(t,e.sSearch,i,r(e),e.bSmart,e.bCaseInsensitive,e.return),a(e);for(var l=0;l<s.length;l++)xt(t,s[l].sSearch,l,r(s[l]),s[l].bSmart,s[l].bCaseInsensitive);wt(t)}else a(e);t.bFiltered=!0,fe(t,null,"search",[t])}function wt(e){for(var i,n,o=l.ext.search,s=e.aiDisplay,a=0,r=o.length;a<r;a++){for(var c=[],h=0,u=s.length;h<u;h++)n=s[h],i=e.aoData[n],o[a](e,i._aFilterData,n,i._aData,h)&&c.push(n);s.length=0,t.merge(s,c)}}function xt(t,e,i,n,o,s){if(""!==e){for(var a,r=[],l=t.aiDisplay,c=Tt(e,n,o,s),h=0;h<l.length;h++)a=t.aoData[l[h]]._aFilterData[i],c.test(a)&&r.push(l[h]);t.aiDisplay=r}}function St(t,e,i,n,o,s){var a,r,c,h=Tt(e,n,o,s),u=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster,p=[];if(0!==l.ext.search.length&&(i=!0),r=Lt(t),e.length<=0)t.aiDisplay=d.slice();else{for((r||i||n||u.length>e.length||0!==e.indexOf(u)||t.bSorted)&&(t.aiDisplay=d.slice()),a=t.aiDisplay,c=0;c<a.length;c++)h.test(t.aoData[a[c]]._sFilterRow)&&p.push(a[c]);t.aiDisplay=p}}function Tt(e,i,n,o){if(e=i?e:Ct(e),n){var s=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],(function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}));e="^(?=.*?"+s.join(")(?=.*?")+").*$"}return new RegExp(e,o?"i":"")}var Ct=l.util.escapeRegex,kt=t("<div>")[0],Pt=kt.textContent!==n;function Lt(t){var e,i,n,o,s,a,r,l=t.aoColumns,c=!1;for(e=0,n=t.aoData.length;e<n;e++)if(!(r=t.aoData[e])._aFilterData){for(s=[],i=0,o=l.length;i<o;i++)l[i].bSearchable?(null===(a=K(t,e,i,"filter"))&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(kt.innerHTML=a,a=Pt?kt.textContent:kt.innerText),a.replace&&(a=a.replace(/[\r\n\u2028]/g,"")),s.push(a);r._aFilterData=s,r._sFilterRow=s.join("  "),c=!0}return c}function Dt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function At(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function Et(e){var i=e.sTableId,n=e.aanFeatures.i,o=t("<div/>",{class:e.oClasses.sInfo,id:n?null:i+"_info"});return n||(e.aoDrawCallback.push({fn:It,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",i+"_info")),o[0]}function It(e){var i=e.aanFeatures.i;if(0!==i.length){var n=e.oLanguage,o=e._iDisplayStart+1,s=e.fnDisplayEnd(),a=e.fnRecordsTotal(),r=e.fnRecordsDisplay(),l=r?n.sInfo:n.sInfoEmpty;r!==a&&(l+=" "+n.sInfoFiltered),l=Mt(e,l+=n.sInfoPostFix);var c=n.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,o,s,a,r,l)),t(i).html(l)}}function Mt(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,o=t._iDisplayLength,s=t.fnRecordsDisplay(),a=-1===o;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,s)).replace(/_PAGE_/g,i.call(t,a?1:Math.ceil(n/o))).replace(/_PAGES_/g,i.call(t,a?1:Math.ceil(s/o)))}function $t(t){var e,i,n,o=t.iInitDisplayStart,s=t.aoColumns,a=t.oFeatures,r=t.bDeferLoading;if(t.bInitialised){for(ut(t),rt(t),lt(t,t.aoHeader),lt(t,t.aoFooter),Ft(t,!0),a.bAutoWidth&&Ut(t),e=0,i=s.length;e<i;e++)(n=s[e]).sWidth&&(n.nTh.style.width=Yt(n.sWidth));fe(t,null,"preInit",[t]),ht(t);var l=ge(t);("ssp"!=l||r)&&("ajax"==l?ft(t,[],(function(i){var n=vt(t,i);for(e=0;e<n.length;e++)Z(t,n[e]);t.iInitDisplayStart=o,ht(t),Ft(t,!1),Ot(t,i)})):(Ft(t,!1),Ot(t)))}else setTimeout((function(){$t(t)}),200)}function Ot(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&j(t),fe(t,null,"plugin-init",[t,e]),fe(t,"aoInitComplete","init",[t,e])}function Nt(t,e){var i=parseInt(e,10);t._iDisplayLength=i,me(t),fe(t,null,"length",[t,i])}function Bt(e){for(var i=e.oClasses,n=e.sTableId,o=e.aLengthMenu,s=Array.isArray(o[0]),a=s?o[0]:o,r=s?o[1]:o,l=t("<select/>",{name:n+"_length","aria-controls":n,class:i.sLengthSelect}),c=0,h=a.length;c<h;c++)l[0][c]=new Option("number"==typeof r[c]?e.fnFormatNumber(r[c]):r[c],a[c]);var u=t("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(u[0].id=n+"_length"),u.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",u).val(e._iDisplayLength).on("change.DT",(function(i){Nt(e,t(this).val()),ct(e)})),t(e.nTable).on("length.dt.DT",(function(i,n,o){e===n&&t("select",u).val(o)})),u[0]}function jt(e){var i=e.sPaginationType,n=l.ext.pager[i],o="function"==typeof n,s=function(t){ct(t)},a=t("<div/>").addClass(e.oClasses.sPaging+i)[0],r=e.aanFeatures;return o||n.fnInit(e,a,s),r.p||(a.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(o){var e,i,a=t._iDisplayStart,l=t._iDisplayLength,c=t.fnRecordsDisplay(),h=-1===l,u=h?0:Math.ceil(a/l),d=h?1:Math.ceil(c/l),p=n(u,d);for(e=0,i=r.p.length;e<i;e++)_e(t,"pageButton")(t,r.p[e],e,p,u,d)}else n.fnUpdate(t,s)},sName:"pagination"})),a}function zt(t,e,i){var n=t._iDisplayStart,o=t._iDisplayLength,s=t.fnRecordsDisplay();0===s||-1===o?n=0:"number"==typeof e?(n=e*o)>s&&(n=0):"first"==e?n=0:"previous"==e?(n=o>=0?n-o:0)<0&&(n=0):"next"==e?n+o<s&&(n+=o):"last"==e?n=Math.floor((s-1)/o)*o:ce(t,0,"Unknown paging action: "+e,5);var a=t._iDisplayStart!==n;return t._iDisplayStart=n,a&&(fe(t,null,"page",[t]),i&&ct(t)),a}function Rt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function Ft(e,i){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",i?"block":"none"),fe(e,null,"processing",[e,i])}function Ht(e){var i=t(e.nTable),n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var o=n.sX,s=n.sY,a=e.oClasses,r=i.children("caption"),l=r.length?r[0]._captionSide:null,c=t(i[0].cloneNode(!1)),h=t(i[0].cloneNode(!1)),u=i.children("tfoot"),d="<div/>",p=function(t){return t?Yt(t):null};u.length||(u=null);var f=t(d,{class:a.sScrollWrapper}).append(t(d,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?p(o):"100%"}).append(t(d,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?r:null).append(i.children("thead"))))).append(t(d,{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:p(o)}).append(i));u&&f.append(t(d,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:o?p(o):"100%"}).append(t(d,{class:a.sScrollFootInner}).append(h.removeAttr("id").css("margin-left",0).append("bottom"===l?r:null).append(i.children("tfoot")))));var m=f.children(),_=m[0],g=m[1],v=u?m[2]:null;return o&&t(g).on("scroll.DT",(function(t){var e=this.scrollLeft;_.scrollLeft=e,u&&(v.scrollLeft=e)})),t(g).css("max-height",s),n.bCollapse||t(g).css("height",s),e.nScrollHead=_,e.nScrollBody=g,e.nScrollFoot=v,e.aoDrawCallback.push({fn:qt,sName:"scrolling"}),f[0]}function qt(i){var o,s,a,r,l,c,h,u,d,p=i.oScroll,f=p.sX,m=p.sXInner,_=p.sY,g=p.iBarWidth,v=t(i.nScrollHead),y=v[0].style,w=v.children("div"),x=w[0].style,S=w.children("table"),T=i.nScrollBody,C=t(T),k=T.style,P=t(i.nScrollFoot).children("div"),L=P.children("table"),D=t(i.nTHead),A=t(i.nTable),E=A[0],I=E.style,M=i.nTFoot?t(i.nTFoot):null,$=i.oBrowser,O=$.bScrollOversize,N=(b(i.aoColumns,"nTh"),[]),B=[],R=[],F=[],H=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},q=T.scrollHeight>T.clientHeight;if(i.scrollBarVis!==q&&i.scrollBarVis!==n)return i.scrollBarVis=q,void j(i);i.scrollBarVis=q,A.children("thead, tfoot").remove(),M&&(c=M.clone().prependTo(A),s=M.find("tr"),r=c.find("tr")),l=D.clone().prependTo(A),o=D.find("tr"),a=l.find("tr"),l.find("th, td").removeAttr("tabindex"),f||(k.width="100%",v[0].style.width="100%"),t.each(pt(i,l),(function(t,e){h=z(i,t),e.style.width=i.aoColumns[h].sWidth})),M&&Wt((function(t){t.style.width=""}),r),d=A.outerWidth(),""===f?(I.width="100%",O&&(A.find("tbody").height()>T.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=Yt(A.outerWidth()-g)),d=A.outerWidth()):""!==m&&(I.width=Yt(m),d=A.outerWidth()),Wt(H,a),Wt((function(i){var n=e.getComputedStyle?e.getComputedStyle(i).width:Yt(t(i).width());R.push(i.innerHTML),N.push(n)}),a),Wt((function(t,e){t.style.width=N[e]}),o),t(a).height(0),M&&(Wt(H,r),Wt((function(e){F.push(e.innerHTML),B.push(Yt(t(e).css("width")))}),r),Wt((function(t,e){t.style.width=B[e]}),s),t(r).height(0)),Wt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+R[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=N[e]}),a),M&&Wt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+F[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=B[e]}),r),A.outerWidth()<d?(u=T.scrollHeight>T.offsetHeight||"scroll"==C.css("overflow-y")?d+g:d,O&&(T.scrollHeight>T.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=Yt(u-g)),""!==f&&""===m||ce(i,1,"Possible column misalignment",6)):u="100%",k.width=Yt(u),y.width=Yt(u),M&&(i.nScrollFoot.style.width=Yt(u)),_||O&&(k.height=Yt(E.offsetHeight+g));var W=A.outerWidth();S[0].style.width=Yt(W),x.width=Yt(W);var Z=A.height()>T.clientHeight||"scroll"==C.css("overflow-y"),U="padding"+($.bScrollbarLeft?"Left":"Right");x[U]=Z?g+"px":"0px",M&&(L[0].style.width=Yt(W),P[0].style.width=Yt(W),P[0].style[U]=Z?g+"px":"0px"),A.children("colgroup").insertBefore(A.children("thead")),C.trigger("scroll"),!i.bSorted&&!i.bFiltered||i._drawHold||(T.scrollTop=0)}function Wt(t,e,i){for(var n,o,s=0,a=0,r=e.length;a<r;){for(n=e[a].firstChild,o=i?i[a].firstChild:null;n;)1===n.nodeType&&(i?t(n,o,s):t(n,s),s++),n=n.nextSibling,o=i?o.nextSibling:null;a++}}var Zt=/<.*?>/g;function Ut(i){var n,o,s,a=i.nTable,r=i.aoColumns,l=i.oScroll,c=l.sY,h=l.sX,u=l.sXInner,d=r.length,p=H(i,"bVisible"),f=t("th",i.nTHead),m=a.getAttribute("width"),_=a.parentNode,g=!1,v=i.oBrowser,y=v.bScrollOversize,b=a.style.width;for(b&&-1!==b.indexOf("%")&&(m=b),n=0;n<p.length;n++)null!==(o=r[p[n]]).sWidth&&(o.sWidth=Vt(o.sWidthOrig,_),g=!0);if(y||!g&&!h&&!c&&d==F(i)&&d==f.length)for(n=0;n<d;n++){var w=z(i,n);null!==w&&(r[w].sWidth=Yt(f.eq(n).width()))}else{var x=t(a).clone().css("visibility","hidden").removeAttr("id");x.find("tbody tr").remove();var S=t("<tr/>").appendTo(x.find("tbody"));for(x.find("thead, tfoot").remove(),x.append(t(i.nTHead).clone()).append(t(i.nTFoot).clone()),x.find("tfoot th, tfoot td").css("width",""),f=pt(i,x.find("thead")[0]),n=0;n<p.length;n++)o=r[p[n]],f[n].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?Yt(o.sWidthOrig):"",o.sWidthOrig&&h&&t(f[n]).append(t("<div/>").css({width:o.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<p.length;n++)o=r[s=p[n]],t(Gt(i,s)).clone(!1).append(o.sContentPadding).appendTo(S);t("[name]",x).removeAttr("name");var T=t("<div/>").css(h||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(x).appendTo(_);h&&u?x.width(u):h?(x.css("width","auto"),x.removeAttr("width"),x.width()<_.clientWidth&&m&&x.width(_.clientWidth)):c?x.width(_.clientWidth):m&&x.width(m);var C=0;for(n=0;n<p.length;n++){var k=t(f[n]),P=k.outerWidth()-k.width(),L=v.bBounding?Math.ceil(f[n].getBoundingClientRect().width):k.outerWidth();C+=L,r[p[n]].sWidth=Yt(L-P)}a.style.width=Yt(C),T.remove()}if(m&&(a.style.width=Yt(m)),(m||h)&&!i._reszEvt){var D=function(){t(e).on("resize.DT-"+i.sInstance,Kt((function(){j(i)})))};y?setTimeout(D,1e3):D(),i._reszEvt=!0}}var Kt=l.util.throttle;function Vt(e,n){if(!e)return 0;var o=t("<div/>").css("width",Yt(e)).appendTo(n||i.body),s=o[0].offsetWidth;return o.remove(),s}function Gt(e,i){var n=Xt(e,i);if(n<0)return null;var o=e.aoData[n];return o.nTr?o.anCells[i]:t("<td/>").html(K(e,n,i,"display"))[0]}function Xt(t,e){for(var i,n=-1,o=-1,s=0,a=t.aoData.length;s<a;s++)(i=(i=(i=K(t,s,e,"display")+"").replace(Zt,"")).replace(/&nbsp;/g," ")).length>n&&(n=i.length,o=s);return o}function Yt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Jt(e){var i,o,s,a,r,c,h,u=[],d=e.aoColumns,p=e.aaSortingFixed,f=t.isPlainObject(p),m=[],_=function(e){e.length&&!Array.isArray(e[0])?m.push(e):t.merge(m,e)};for(Array.isArray(p)&&_(p),f&&p.pre&&_(p.pre),_(e.aaSorting),f&&p.post&&_(p.post),i=0;i<m.length;i++)for(o=0,s=(a=d[h=m[i][0]].aDataSort).length;o<s;o++)c=d[r=a[o]].sType||"string",m[i]._idx===n&&(m[i]._idx=t.inArray(m[i][1],d[r].asSorting)),u.push({src:h,col:r,dir:m[i][1],index:m[i]._idx,type:c,formatter:l.ext.type.order[c+"-pre"]});return u}function Qt(t){var e,i,n,o,s,a=[],r=l.ext.type.order,c=t.aoData,h=(t.aoColumns,0),u=t.aiDisplayMaster;for(q(t),e=0,i=(s=Jt(t)).length;e<i;e++)(o=s[e]).formatter&&h++,oe(t,o.col);if("ssp"!=ge(t)&&0!==s.length){for(e=0,n=u.length;e<n;e++)a[u[e]]=e;h===s.length?u.sort((function(t,e){var i,n,o,r,l,h=s.length,u=c[t]._aSortData,d=c[e]._aSortData;for(o=0;o<h;o++)if(0!==(r=(i=u[(l=s[o]).col])<(n=d[l.col])?-1:i>n?1:0))return"asc"===l.dir?r:-r;return(i=a[t])<(n=a[e])?-1:i>n?1:0})):u.sort((function(t,e){var i,n,o,l,h,u=s.length,d=c[t]._aSortData,p=c[e]._aSortData;for(o=0;o<u;o++)if(i=d[(h=s[o]).col],n=p[h.col],0!==(l=(r[h.type+"-"+h.dir]||r["string-"+h.dir])(i,n)))return l;return(i=a[t])<(n=a[e])?-1:i>n?1:0}))}t.bSorted=!0}function te(t){for(var e,i,n=t.aoColumns,o=Jt(t),s=t.oLanguage.oAria,a=0,r=n.length;a<r;a++){var l=n[a],c=l.asSorting,h=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(o.length>0&&o[0].col==a?(u.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),i=c[o[0].index+1]||c[0]):i=c[0],e=h+("asc"===i?s.sSortAscending:s.sSortDescending)):e=h,u.setAttribute("aria-label",e)}}function ee(e,i,o,s){var a,r=e.aoColumns[i],l=e.aaSorting,c=r.asSorting,h=function(e,i){var o=e._idx;return o===n&&(o=t.inArray(e[1],c)),o+1<c.length?o+1:i?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),o&&e.oFeatures.bSortMulti){var u=t.inArray(i,b(l,"0"));-1!==u?(null===(a=h(l[u],!0))&&1===l.length&&(a=0),null===a?l.splice(u,1):(l[u][1]=c[a],l[u]._idx=a)):(l.push([i,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==i?(a=h(l[0]),l.length=1,l[0][1]=c[a],l[0]._idx=a):(l.length=0,l.push([i,c[0]]),l[0]._idx=0);ht(e),"function"==typeof s&&s(e)}function ie(t,e,i,n){var o=t.aoColumns[i];de(e,{},(function(e){!1!==o.bSortable&&(t.oFeatures.bProcessing?(Ft(t,!0),setTimeout((function(){ee(t,i,e.shiftKey,n),"ssp"!==ge(t)&&Ft(t,!1)}),0)):ee(t,i,e.shiftKey,n))}))}function ne(e){var i,n,o,s=e.aLastSort,a=e.oClasses.sSortColumn,r=Jt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(i=0,n=s.length;i<n;i++)o=s[i].src,t(b(e.aoData,"anCells",o)).removeClass(a+(i<2?i+1:3));for(i=0,n=r.length;i<n;i++)o=r[i].src,t(b(e.aoData,"anCells",o)).addClass(a+(i<2?i+1:3))}e.aLastSort=r}function oe(t,e){var i,n,o,s=t.aoColumns[e],a=l.ext.order[s.sSortDataType];a&&(i=a.call(t.oInstance,t,e,R(t,e)));for(var r=l.ext.type.order[s.sType+"-pre"],c=0,h=t.aoData.length;c<h;c++)(n=t.aoData[c])._aSortData||(n._aSortData=[]),n._aSortData[e]&&!a||(o=a?i[c]:K(t,c,e,"sort"),n._aSortData[e]=r?r(o):o)}function se(e){if(!e._bLoadingState){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:Dt(e.oPreviousSearch),columns:t.map(e.aoColumns,(function(t,i){return{visible:t.bVisible,search:Dt(e.aoPreSearchCols[i])}}))};e.oSavedState=i,fe(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oFeatures.bStateSave&&!e.bDestroying&&e.fnStateSaveCallback.call(e.oInstance,e,i)}}function ae(t,e,i){if(t.oFeatures.bStateSave){var o=t.fnStateLoadCallback.call(t.oInstance,t,(function(e){re(t,e,i)}));return o!==n&&re(t,o,i),!0}i()}function re(e,i,o){var s,a,r=e.aoColumns;e._bLoadingState=!0;var c=e._bInitComplete?new l.Api(e):null;if(!i||!i.time)return e._bLoadingState=!1,void o();var h=fe(e,"aoStateLoadParams","stateLoadParams",[e,i]);if(-1!==t.inArray(!1,h))return e._bLoadingState=!1,void o();var u=e.iStateDuration;if(u>0&&i.time<+new Date-1e3*u)return e._bLoadingState=!1,void o();if(i.columns&&r.length!==i.columns.length)return e._bLoadingState=!1,void o();if(e.oLoadedState=t.extend(!0,{},i),i.start!==n&&(e._iDisplayStart=i.start,null===c&&(e.iInitDisplayStart=i.start)),i.length!==n&&(e._iDisplayLength=i.length),i.order!==n&&(e.aaSorting=[],t.each(i.order,(function(t,i){e.aaSorting.push(i[0]>=r.length?[0,i[1]]:i)}))),i.search!==n&&t.extend(e.oPreviousSearch,At(i.search)),i.columns){for(s=0,a=i.columns.length;s<a;s++){var d=i.columns[s];d.visible!==n&&(c?c.column(s).visible(d.visible,!1):r[s].bVisible=d.visible),d.search!==n&&t.extend(e.aoPreSearchCols[s],At(d.search))}c&&c.columns.adjust()}e._bLoadingState=!1,fe(e,"aoStateLoaded","stateLoaded",[e,i]),o()}function le(e){var i=l.settings,n=t.inArray(e,b(i,"nTable"));return-1!==n?i[n]:null}function ce(t,i,n,o){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,o&&(n+=". For more information about this error, please see http://datatables.net/tn/"+o),i)e.console&&console.log&&console.log(n);else{var s=l.ext,a=s.sErrMode||s.errMode;if(t&&fe(t,null,"error",[t,o,n]),"alert"==a)alert(n);else{if("throw"==a)throw new Error(n);"function"==typeof a&&a(t,o,n)}}}function he(e,i,o,s){Array.isArray(o)?t.each(o,(function(t,n){Array.isArray(n)?he(e,i,n[0],n[1]):he(e,i,n)})):(s===n&&(s=o),i[o]!==n&&(e[s]=i[o]))}function ue(e,i,n){var o;for(var s in i)i.hasOwnProperty(s)&&(o=i[s],t.isPlainObject(o)?(t.isPlainObject(e[s])||(e[s]={}),t.extend(!0,e[s],o)):n&&"data"!==s&&"aaData"!==s&&Array.isArray(o)?e[s]=o.slice():e[s]=o);return e}function de(e,i,n){t(e).on("click.DT",i,(function(i){t(e).trigger("blur"),n(i)})).on("keypress.DT",i,(function(t){13===t.which&&(t.preventDefault(),n(t))})).on("selectstart.DT",(function(){return!1}))}function pe(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function fe(e,i,n,o){var s=[];if(i&&(s=t.map(e[i].slice().reverse(),(function(t,i){return t.fn.apply(e.oInstance,o)}))),null!==n){var a=t.Event(n+".dt");t(e.nTable).trigger(a,o),s.push(a.result)}return s}function me(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(-1===n||e<0)&&(e=0),t._iDisplayStart=e}function _e(e,i){var n=e.renderer,o=l.ext.renderer[i];return t.isPlainObject(n)&&n[i]?o[n[i]]||o._:"string"==typeof n&&o[n]||o._}function ge(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}var ve=[],ye=Array.prototype;s=function(e,i){if(!(this instanceof s))return new s(e,i);var n=[],o=function(e){var i=function(e){var i,n,o=l.settings,s=t.map(o,(function(t,e){return t.nTable}));return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(i=t.inArray(e,s))?[o[i]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=t(e):e instanceof t&&(n=e),n?n.map((function(e){return-1!==(i=t.inArray(this,s))?o[i]:null})).toArray():void 0):[]}(e);i&&n.push.apply(n,i)};if(Array.isArray(e))for(var a=0,r=e.length;a<r;a++)o(e[a]);else o(e);this.context=C(n),i&&t.merge(this,i),this.selector={rows:null,cols:null,opts:null},s.extend(this,this,ve)},l.Api=s,t.extend(s.prototype,{any:function(){return 0!==this.count()},concat:ye.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new s(e[t],this[t]):null},filter:function(t){var e=[];if(ye.filter)e=ye.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new s(this.context,e)},flatten:function(){var t=[];return new s(this.context,t.concat.apply(t,this.toArray()))},join:ye.join,indexOf:ye.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,o){var a,r,l,c,h,u,d,p,f=[],m=this.context,_=this.selector;for("string"==typeof t&&(o=i,i=e,e=t,t=!1),r=0,l=m.length;r<l;r++){var g=new s(m[r]);if("table"===e)(a=i.call(g,m[r],r))!==n&&f.push(a);else if("columns"===e||"rows"===e)(a=i.call(g,m[r],this[r],r))!==n&&f.push(a);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(d=this[r],"column-rows"===e&&(u=Ce(m[r],_.opts)),c=0,h=d.length;c<h;c++)p=d[c],(a="cell"===e?i.call(g,m[r],p.row,p.column,r,c):i.call(g,m[r],p,r,c,u))!==n&&f.push(a)}if(f.length||o){var v=new s(m,t?f.concat.apply([],f):f),y=v.selector;return y.rows=_.rows,y.cols=_.cols,y.opts=_.opts,v}return this},lastIndexOf:ye.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ye.map)e=ye.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new s(this.context,e)},pluck:function(t){return this.map((function(e){return e[t]}))},pop:ye.pop,push:ye.push,reduce:ye.reduce||function(t,e){return O(this,t,e,0,this.length,1)},reduceRight:ye.reduceRight||function(t,e){return O(this,t,e,this.length-1,-1,-1)},reverse:ye.reverse,selector:null,shift:ye.shift,slice:function(){return new s(this.context,this)},sort:ye.sort,splice:ye.splice,toArray:function(){return ye.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new s(this.context,C(this))},unshift:ye.unshift}),s.extend=function(t,e,i){if(i.length&&e&&(e instanceof s||e.__dt_wrapper)){var n,o,a,r=function(t,e,i){return function(){var n=e.apply(t,arguments);return s.extend(n,n,i.methodExt),n}};for(n=0,o=i.length;n<o;n++)e[(a=i[n]).name]="function"===a.type?r(t,a.val,a):"object"===a.type?{}:a.val,e[a.name].__dt_wrapper=!0,s.extend(t,e[a.name],a.propExt)}},s.register=a=function(e,i){if(Array.isArray(e))for(var n=0,o=e.length;n<o;n++)s.register(e[n],i);else{var a,r,l,c,h=e.split("."),u=ve,d=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].name===e)return t[i];return null};for(a=0,r=h.length;a<r;a++){var p=d(u,l=(c=-1!==h[a].indexOf("()"))?h[a].replace("()",""):h[a]);p||(p={name:l,val:{},methodExt:[],propExt:[],type:"object"},u.push(p)),a===r-1?(p.val=i,p.type="function"==typeof i?"function":t.isPlainObject(i)?"object":"other"):u=c?p.methodExt:p.propExt}}},s.registerPlural=r=function(t,e,i){s.register(t,i),s.register(e,(function(){var t=i.apply(this,arguments);return t===this?this:t instanceof s?t.length?Array.isArray(t[0])?new s(t.context,t[0]):t[0]:n:t}))};var be=function(e,i){if(Array.isArray(e))return t.map(e,(function(t){return be(t,i)}));if("number"==typeof e)return[i[e]];var n=t.map(i,(function(t,e){return t.nTable}));return t(n).filter(e).map((function(e){var o=t.inArray(this,n);return i[o]})).toArray()};a("tables()",(function(t){return t!==n&&null!==t?new s(be(t,this.context)):this})),a("table()",(function(t){var e=this.tables(t),i=e.context;return i.length?new s(i[0]):e})),r("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(t){return t.nTable}),1)})),r("tables().body()","table().body()",(function(){return this.iterator("table",(function(t){return t.nTBody}),1)})),r("tables().header()","table().header()",(function(){return this.iterator("table",(function(t){return t.nTHead}),1)})),r("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(t){return t.nTFoot}),1)})),r("tables().containers()","table().container()",(function(){return this.iterator("table",(function(t){return t.nTableWrapper}),1)})),a("draw()",(function(t){return this.iterator("table",(function(e){"page"===t?ct(e):("string"==typeof t&&(t="full-hold"!==t),ht(e,!1===t))}))})),a("page()",(function(t){return t===n?this.page.info().page:this.iterator("table",(function(e){zt(e,t)}))})),a("page.info()",(function(t){if(0===this.context.length)return n;var e=this.context[0],i=e._iDisplayStart,o=e.oFeatures.bPaginate?e._iDisplayLength:-1,s=e.fnRecordsDisplay(),a=-1===o;return{page:a?0:Math.floor(i/o),pages:a?1:Math.ceil(s/o),start:i,end:e.fnDisplayEnd(),length:o,recordsTotal:e.fnRecordsTotal(),recordsDisplay:s,serverSide:"ssp"===ge(e)}})),a("page.len()",(function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",(function(e){Nt(e,t)}))}));var we=function(t,e,i){if(i){var n=new s(t);n.one("draw",(function(){i(n.ajax.json())}))}if("ssp"==ge(t))ht(t,e);else{Ft(t,!0);var o=t.jqXHR;o&&4!==o.readyState&&o.abort(),ft(t,[],(function(i){et(t);for(var n=vt(t,i),o=0,s=n.length;o<s;o++)Z(t,n[o]);ht(t,e),Ft(t,!1)}))}};a("ajax.json()",(function(){var t=this.context;if(t.length>0)return t[0].json})),a("ajax.params()",(function(){var t=this.context;if(t.length>0)return t[0].oAjaxData})),a("ajax.reload()",(function(t,e){return this.iterator("table",(function(i){we(i,!1===e,t)}))})),a("ajax.url()",(function(e){var i=this.context;return e===n?0===i.length?n:(i=i[0]).ajax?t.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource:this.iterator("table",(function(i){t.isPlainObject(i.ajax)?i.ajax.url=e:i.ajax=e}))})),a("ajax.url().load()",(function(t,e){return this.iterator("table",(function(i){we(i,!1===e,t)}))}));var xe=function(t,e,i,s,a){var r,l,c,h,u,d,p=[],f=typeof e;for(e&&"string"!==f&&"function"!==f&&e.length!==n||(e=[e]),c=0,h=e.length;c<h;c++)for(u=0,d=(l=e[c]&&e[c].split&&!e[c].match(/[\[\(:]/)?e[c].split(","):[e[c]]).length;u<d;u++)(r=i("string"==typeof l[u]?l[u].trim():l[u]))&&r.length&&(p=p.concat(r));var m=o.selector[t];if(m.length)for(c=0,h=m.length;c<h;c++)p=m[c](s,a,p);return C(p)},Se=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Te=function(t){for(var e=0,i=t.length;e<i;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Ce=function(e,i){var n,o=[],s=e.aiDisplay,a=e.aiDisplayMaster,r=i.search,l=i.order,c=i.page;if("ssp"==ge(e))return"removed"===r?[]:x(0,a.length);if("current"==c)for(u=e._iDisplayStart,d=e.fnDisplayEnd();u<d;u++)o.push(s[u]);else if("current"==l||"applied"==l){if("none"==r)o=a.slice();else if("applied"==r)o=s.slice();else if("removed"==r){for(var h={},u=0,d=s.length;u<d;u++)h[s[u]]=null;o=t.map(a,(function(t){return h.hasOwnProperty(t)?null:t}))}}else if("index"==l||"original"==l)for(u=0,d=e.aoData.length;u<d;u++)("none"==r||-1===(n=t.inArray(u,s))&&"removed"==r||n>=0&&"applied"==r)&&o.push(u);return o};a("rows()",(function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=Se(i);var o=this.iterator("table",(function(o){return function(e,i,o){var s;return xe("row",i,(function(i){var a=_(i),r=e.aoData;if(null!==a&&!o)return[a];if(s||(s=Ce(e,o)),null!==a&&-1!==t.inArray(a,s))return[a];if(null===i||i===n||""===i)return s;if("function"==typeof i)return t.map(s,(function(t){var e=r[t];return i(t,e._aData,e.nTr)?t:null}));if(i.nodeName){var l=i._DT_RowIndex,c=i._DT_CellIndex;if(l!==n)return r[l]&&r[l].nTr===i?[l]:[];if(c)return r[c.row]&&r[c.row].nTr===i.parentNode?[c.row]:[];var h=t(i).closest("*[data-dt-row]");return h.length?[h.data("dt-row")]:[]}if("string"==typeof i&&"#"===i.charAt(0)){var u=e.aIds[i.replace(/^#/,"")];if(u!==n)return[u.idx]}var d=S(w(e.aoData,s,"nTr"));return t(d).filter(i).map((function(){return this._DT_RowIndex})).toArray()}),e,o)}(o,e,i)}),1);return o.selector.rows=e,o.selector.opts=i,o})),a("rows().nodes()",(function(){return this.iterator("row",(function(t,e){return t.aoData[e].nTr||n}),1)})),a("rows().data()",(function(){return this.iterator(!0,"rows",(function(t,e){return w(t.aoData,e,"_aData")}),1)})),r("rows().cache()","row().cache()",(function(t){return this.iterator("row",(function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData}),1)})),r("rows().invalidate()","row().invalidate()",(function(t){return this.iterator("row",(function(e,i){nt(e,i,t)}))})),r("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(t,e){return e}),1)})),r("rows().ids()","row().id()",(function(t){for(var e=[],i=this.context,n=0,o=i.length;n<o;n++)for(var a=0,r=this[n].length;a<r;a++){var l=i[n].rowIdFn(i[n].aoData[this[n][a]]._aData);e.push((!0===t?"#":"")+l)}return new s(i,e)})),r("rows().remove()","row().remove()",(function(){var t=this;return this.iterator("row",(function(e,i,o){var s,a,r,l,c,h,u=e.aoData,d=u[i];for(u.splice(i,1),s=0,a=u.length;s<a;s++)if(h=(c=u[s]).anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=s),null!==h)for(r=0,l=h.length;r<l;r++)h[r]._DT_CellIndex.row=s;it(e.aiDisplayMaster,i),it(e.aiDisplay,i),it(t[o],i,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,me(e);var p=e.rowIdFn(d._aData);p!==n&&delete e.aIds[p]})),this.iterator("table",(function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e})),this})),a("rows.add()",(function(e){var i=this.iterator("table",(function(t){var i,n,o,s=[];for(n=0,o=e.length;n<o;n++)(i=e[n]).nodeName&&"TR"===i.nodeName.toUpperCase()?s.push(U(t,i)[0]):s.push(Z(t,i));return s}),1),n=this.rows(-1);return n.pop(),t.merge(n,i),n})),a("row()",(function(t,e){return Te(this.rows(t,e))})),a("row().data()",(function(t){var e=this.context;if(t===n)return e.length&&this.length?e[0].aoData[this[0]]._aData:n;var i=e[0].aoData[this[0]];return i._aData=t,Array.isArray(t)&&i.nTr&&i.nTr.id&&Q(e[0].rowId)(t,i.nTr.id),nt(e[0],this[0],"data"),this})),a("row().node()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null})),a("row.add()",(function(e){e instanceof t&&e.length&&(e=e[0]);var i=this.iterator("table",(function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?U(t,e)[0]:Z(t,e)}));return this.row(i[0])})),t(i).on("plugin-init.dt",(function(t,e){var i=new s(e);i.on("stateSaveParams",(function(t,e,o){var s=i.rows().iterator("row",(function(t,e){return t.aoData[e]._detailsShow?e:n}));o.childRows=i.rows(s).ids(!0).toArray()}));var o=i.state.loaded();o&&o.childRows&&i.rows(o.childRows).every((function(){fe(e,null,"requestChild",[this])}))}));var ke=function(e,i){var o=e.context;if(o.length){var s=o[0].aoData[i!==n?i:e[0]];s&&s._details&&(s._details.remove(),s._detailsShow=n,s._details=n,t(s.nTr).removeClass("dt-hasChild"),se(o[0]))}},Pe=function(e,i){var n=e.context;if(n.length&&e.length){var o=n[0].aoData[e[0]];o._details&&(o._detailsShow=i,i?(o._details.insertAfter(o.nTr),t(o.nTr).addClass("dt-hasChild")):(o._details.detach(),t(o.nTr).removeClass("dt-hasChild")),fe(n[0],null,"childRow",[i,e.row(e[0])]),Le(n[0]),se(n[0]))}},Le=function(t){var e=new s(t),i=".dt.DT_details",n="draw"+i,o="column-visibility"+i,a="destroy"+i,r=t.aoData;e.off(n+" "+o+" "+a),b(r,"_details").length>0&&(e.on(n,(function(i,n){t===n&&e.rows({page:"current"}).eq(0).each((function(t){var e=r[t];e._detailsShow&&e._details.insertAfter(e.nTr)}))})),e.on(o,(function(e,i,n,o){if(t===i)for(var s,a=F(i),l=0,c=r.length;l<c;l++)(s=r[l])._details&&s._details.children("td[colspan]").attr("colspan",a)})),e.on(a,(function(i,n){if(t===n)for(var o=0,s=r.length;o<s;o++)r[o]._details&&ke(e,o)})))},De="row().child()";a(De,(function(e,i){var o=this.context;return e===n?o.length&&this.length?o[0].aoData[this[0]]._details:n:(!0===e?this.child.show():!1===e?ke(this):o.length&&this.length&&function(e,i,n,o){var s=[],a=function(i,n){if(Array.isArray(i)||i instanceof t)for(var o=0,r=i.length;o<r;o++)a(i[o],n);else if(i.nodeName&&"tr"===i.nodeName.toLowerCase())s.push(i);else{var l=t("<tr><td></td></tr>").addClass(n);t("td",l).addClass(n).html(i)[0].colSpan=F(e),s.push(l[0])}};a(n,o),i._details&&i._details.detach(),i._details=t(s),i._detailsShow&&i._details.insertAfter(i.nTr)}(o[0],o[0].aoData[this[0]],e,i),this)})),a(["row().child.show()",De+".show()"],(function(t){return Pe(this,!0),this})),a(["row().child.hide()",De+".hide()"],(function(){return Pe(this,!1),this})),a(["row().child.remove()",De+".remove()"],(function(){return ke(this),this})),a("row().child.isShown()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1}));var Ae=/^([^:]+):(name|visIdx|visible)$/,Ee=function(t,e,i,n,o){for(var s=[],a=0,r=o.length;a<r;a++)s.push(K(t,o[a],e));return s};a("columns()",(function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e=""),i=Se(i);var o=this.iterator("table",(function(n){return function(e,i,n){var o=e.aoColumns,s=b(o,"sName"),a=b(o,"nTh");return xe("column",i,(function(i){var r=_(i);if(""===i)return x(o.length);if(null!==r)return[r>=0?r:o.length+r];if("function"==typeof i){var l=Ce(e,n);return t.map(o,(function(t,n){return i(n,Ee(e,n,0,0,l),a[n])?n:null}))}var c="string"==typeof i?i.match(Ae):"";if(c)switch(c[2]){case"visIdx":case"visible":var h=parseInt(c[1],10);if(h<0){var u=t.map(o,(function(t,e){return t.bVisible?e:null}));return[u[u.length+h]]}return[z(e,h)];case"name":return t.map(s,(function(t,e){return t===c[1]?e:null}));default:return[]}if(i.nodeName&&i._DT_CellIndex)return[i._DT_CellIndex.column];var d=t(a).filter(i).map((function(){return t.inArray(this,a)})).toArray();if(d.length||!i.nodeName)return d;var p=t(i).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]}),e,n)}(n,e,i)}),1);return o.selector.cols=e,o.selector.opts=i,o})),r("columns().header()","column().header()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTh}),1)})),r("columns().footer()","column().footer()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTf}),1)})),r("columns().data()","column().data()",(function(){return this.iterator("column-rows",Ee,1)})),r("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(t,e){return t.aoColumns[e].mData}),1)})),r("columns().cache()","column().cache()",(function(t){return this.iterator("column-rows",(function(e,i,n,o,s){return w(e.aoData,s,"search"===t?"_aFilterData":"_aSortData",i)}),1)})),r("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(t,e,i,n,o){return w(t.aoData,o,"anCells",e)}),1)})),r("columns().visible()","column().visible()",(function(e,i){var o=this,s=this.iterator("column",(function(i,o){if(e===n)return i.aoColumns[o].bVisible;!function(e,i,o){var s,a,r,l,c=e.aoColumns,h=c[i],u=e.aoData;if(o===n)return h.bVisible;if(h.bVisible!==o){if(o){var d=t.inArray(!0,b(c,"bVisible"),i+1);for(a=0,r=u.length;a<r;a++)l=u[a].nTr,s=u[a].anCells,l&&l.insertBefore(s[i],s[d]||null)}else t(b(e.aoData,"anCells",i)).detach();h.bVisible=o}}(i,o,e)}));return e!==n&&this.iterator("table",(function(s){lt(s,s.aoHeader),lt(s,s.aoFooter),s.aiDisplay.length||t(s.nTBody).find("td[colspan]").attr("colspan",F(s)),se(s),o.iterator("column",(function(t,n){fe(t,null,"column-visibility",[t,n,e,i])})),(i===n||i)&&o.columns.adjust()})),s})),r("columns().indexes()","column().index()",(function(t){return this.iterator("column",(function(e,i){return"visible"===t?R(e,i):i}),1)})),a("columns.adjust()",(function(){return this.iterator("table",(function(t){j(t)}),1)})),a("column.index()",(function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return z(i,e);if("fromData"===t||"toVisible"===t)return R(i,e)}})),a("column()",(function(t,e){return Te(this.columns(t,e))}));a("cells()",(function(e,i,o){if(t.isPlainObject(e)&&(e.row===n?(o=e,e=null):(o=i,i=null)),t.isPlainObject(i)&&(o=i,i=null),null===i||i===n)return this.iterator("table",(function(i){return function(e,i,o){var s,a,r,l,c,h,u,d=e.aoData,p=Ce(e,o),f=S(w(d,p,"anCells")),m=t(k([],f)),_=e.aoColumns.length;return xe("cell",i,(function(i){var o="function"==typeof i;if(null===i||i===n||o){for(a=[],r=0,l=p.length;r<l;r++)for(s=p[r],c=0;c<_;c++)h={row:s,column:c},o?(u=d[s],i(h,K(e,s,c),u.anCells?u.anCells[c]:null)&&a.push(h)):a.push(h);return a}if(t.isPlainObject(i))return i.column!==n&&i.row!==n&&-1!==t.inArray(i.row,p)?[i]:[];var f=m.filter(i).map((function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}})).toArray();return f.length||!i.nodeName?f:(u=t(i).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]}),e,o)}(i,e,Se(o))}));var s,a,r,l,c=o?{page:o.page,order:o.order,search:o.search}:{},h=this.columns(i,c),u=this.rows(e,c),d=this.iterator("table",(function(t,e){var i=[];for(s=0,a=u[e].length;s<a;s++)for(r=0,l=h[e].length;r<l;r++)i.push({row:u[e][s],column:h[e][r]});return i}),1),p=o&&o.selected?this.cells(d,o):d;return t.extend(p.selector,{cols:i,rows:e,opts:o}),p})),r("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(t,e,i){var o=t.aoData[e];return o&&o.anCells?o.anCells[i]:n}),1)})),a("cells().data()",(function(){return this.iterator("cell",(function(t,e,i){return K(t,e,i)}),1)})),r("cells().cache()","cell().cache()",(function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",(function(e,i,n){return e.aoData[i][t][n]}),1)})),r("cells().render()","cell().render()",(function(t){return this.iterator("cell",(function(e,i,n){return K(e,i,n,t)}),1)})),r("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(t,e,i){return{row:e,column:i,columnVisible:R(t,i)}}),1)})),r("cells().invalidate()","cell().invalidate()",(function(t){return this.iterator("cell",(function(e,i,n){nt(e,i,t,n)}))})),a("cell()",(function(t,e,i){return Te(this.cells(t,e,i))})),a("cell().data()",(function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?K(e[0],i[0].row,i[0].column):n:(V(e[0],i[0].row,i[0].column,t),nt(e[0],i[0].row,"data",i[0].column),this)})),a("order()",(function(t,e){var i=this.context;return t===n?0!==i.length?i[0].aaSorting:n:("number"==typeof t?t=[[t,e]]:t.length&&!Array.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",(function(e){e.aaSorting=t.slice()})))})),a("order.listener()",(function(t,e,i){return this.iterator("table",(function(n){ie(n,t,e,i)}))})),a("order.fixed()",(function(e){if(!e){var i=this.context,o=i.length?i[0].aaSortingFixed:n;return Array.isArray(o)?{pre:o}:o}return this.iterator("table",(function(i){i.aaSortingFixed=t.extend(!0,{},e)}))})),a(["columns().order()","column().order()"],(function(e){var i=this;return this.iterator("table",(function(n,o){var s=[];t.each(i[o],(function(t,i){s.push([i,e])})),n.aaSorting=s}))})),a("search()",(function(e,i,o,s){var a=this.context;return e===n?0!==a.length?a[0].oPreviousSearch.sSearch:n:this.iterator("table",(function(n){n.oFeatures.bFilter&&bt(n,t.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===o||o,bCaseInsensitive:null===s||s}),1)}))})),r("columns().search()","column().search()",(function(e,i,o,s){return this.iterator("column",(function(a,r){var l=a.aoPreSearchCols;if(e===n)return l[r].sSearch;a.oFeatures.bFilter&&(t.extend(l[r],{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===o||o,bCaseInsensitive:null===s||s}),bt(a,a.oPreviousSearch,1))}))})),a("state()",(function(){return this.context.length?this.context[0].oSavedState:null})),a("state.clear()",(function(){return this.iterator("table",(function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})}))})),a("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),a("state.save()",(function(){return this.iterator("table",(function(t){se(t)}))})),l.versionCheck=l.fnVersionCheck=function(t){for(var e,i,n=l.version.split("."),o=t.split("."),s=0,a=o.length;s<a;s++)if((e=parseInt(n[s],10)||0)!==(i=parseInt(o[s],10)||0))return e>i;return!0},l.isDataTable=l.fnIsDataTable=function(e){var i=t(e).get(0),n=!1;return e instanceof l.Api||(t.each(l.settings,(function(e,o){var s=o.nScrollHead?t("table",o.nScrollHead)[0]:null,a=o.nScrollFoot?t("table",o.nScrollFoot)[0]:null;o.nTable!==i&&s!==i&&a!==i||(n=!0)})),n)},l.tables=l.fnTables=function(e){var i=!1;t.isPlainObject(e)&&(i=e.api,e=e.visible);var n=t.map(l.settings,(function(i){if(!e||e&&t(i.nTable).is(":visible"))return i.nTable}));return i?new s(n):n},l.camelToHungarian=D,a("$()",(function(e,i){var n=this.rows(i).nodes(),o=t(n);return t([].concat(o.filter(e).toArray(),o.find(e).toArray()))})),t.each(["on","one","off"],(function(e,i){a(i+"()",(function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),(function(t){return t.match(/\.dt\b/)?t:t+".dt"})).join(" ");var n=t(this.tables().nodes());return n[i].apply(n,e),this}))})),a("clear()",(function(){return this.iterator("table",(function(t){et(t)}))})),a("settings()",(function(){return new s(this.context,this.context)})),a("init()",(function(){var t=this.context;return t.length?t[0].oInit:null})),a("data()",(function(){return this.iterator("table",(function(t){return b(t.aoData,"_aData")})).flatten()})),a("destroy()",(function(i){return i=i||!1,this.iterator("table",(function(n){var o,a=n.nTableWrapper.parentNode,r=n.oClasses,c=n.nTable,h=n.nTBody,u=n.nTHead,d=n.nTFoot,p=t(c),f=t(h),m=t(n.nTableWrapper),_=t.map(n.aoData,(function(t){return t.nTr}));n.bDestroying=!0,fe(n,"aoDestroyCallback","destroy",[n]),i||new s(n).columns().visible(!0),m.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+n.sInstance),c!=u.parentNode&&(p.children("thead").detach(),p.append(u)),d&&c!=d.parentNode&&(p.children("tfoot").detach(),p.append(d)),n.aaSorting=[],n.aaSortingFixed=[],ne(n),t(_).removeClass(n.asStripeClasses.join(" ")),t("th, td",u).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),f.children().detach(),f.append(_);var g=i?"remove":"detach";p[g](),m[g](),!i&&a&&(a.insertBefore(c,n.nTableReinsertBefore),p.css("width",n.sDestroyWidth).removeClass(r.sTable),(o=n.asDestroyStripes.length)&&f.children().each((function(e){t(this).addClass(n.asDestroyStripes[e%o])})));var v=t.inArray(n,l.settings);-1!==v&&l.settings.splice(v,1)}))})),t.each(["column","row","cell"],(function(t,e){a(e+"s().every()",(function(t){var i=this.selector.opts,o=this;return this.iterator(e,(function(s,a,r,l,c){t.call(o[e](a,"cell"===e?r:i,"cell"===e?i:n),a,r,l,c)}))}))})),a("i18n()",(function(e,i,o){var s=this.context[0],a=J(e)(s.oLanguage);return a===n&&(a=i),o!==n&&t.isPlainObject(a)&&(a=a[o]!==n?a[o]:a._),a.replace("%d",o)})),l.version="1.11.3",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},L(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},L(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ge(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ge(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,o=this.oFeatures,s=o.bPaginate;return o.bServerSide?!1===s||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!s||i>n||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=o={buttons:{},classes:{},build:"bs5/dt-1.11.3/b-2.0.1",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},t.extend(o,{afnFiltering:o.search,aTypes:o.type.detect,ofnSearch:o.type.search,oSort:o.type.order,afnSortData:o.order,aoFeatures:o.feature,oApi:o.internal,oStdClasses:o.classes,oPagination:o.pager}),t.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ie=l.ext.pager;function Me(t,e){var i=[],n=Ie.numbers_length,o=Math.floor(n/2);return e<=n?i=x(0,e):t<=o?((i=x(0,n-2)).push("ellipsis"),i.push(e-1)):t>=e-1-o?((i=x(e-(n-2),e)).splice(0,0,"ellipsis"),i.splice(0,0,0)):((i=x(t-o+2,t+o-1)).push("ellipsis"),i.push(e-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}t.extend(Ie,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Me(t,e)]},simple_numbers:function(t,e){return["previous",Me(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Me(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Me(t,e),"last"]},_numbers:Me,numbers_length:7}),t.extend(!0,l.ext.renderer,{pageButton:{_:function(e,o,s,a,r,l){var c,h,u,d=e.oClasses,p=e.oLanguage.oPaginate,f=e.oLanguage.oAria.paginate||{},m=0,_=function(i,n){var o,a,u,g,v=d.sPageButtonDisabled,y=function(t){zt(e,t.data.action,!0)};for(o=0,a=n.length;o<a;o++)if(u=n[o],Array.isArray(u)){var b=t("<"+(u.DT_el||"div")+"/>").appendTo(i);_(b,u)}else{switch(c=null,h=u,g=e.iTabIndex,u){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=p.sFirst,0===r&&(g=-1,h+=" "+v);break;case"previous":c=p.sPrevious,0===r&&(g=-1,h+=" "+v);break;case"next":c=p.sNext,0!==l&&r!==l-1||(g=-1,h+=" "+v);break;case"last":c=p.sLast,0!==l&&r!==l-1||(g=-1,h+=" "+v);break;default:c=e.fnFormatNumber(u+1),h=r===u?d.sPageButtonActive:""}null!==c&&(de(t("<a>",{class:d.sPageButton+" "+h,"aria-controls":e.sTableId,"aria-label":f[u],"data-dt-idx":m,tabindex:g,id:0===s&&"string"==typeof u?e.sTableId+"_"+u:null}).html(c).appendTo(i),{action:u},y),m++)}};try{u=t(o).find(i.activeElement).data("dt-idx")}catch(t){}_(t(o).empty(),a),u!==n&&t(o).find("[data-dt-idx="+u+"]").trigger("focus")}}}),t.extend(l.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return v(t,i)?"num"+i:null},function(t,e){if(t&&!(t instanceof Date)&&!d.test(t))return null;var i=Date.parse(t);return null!==i&&!isNaN(i)||m(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return v(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return y(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return y(t,i,!0)?"html-num-fmt"+i:null},function(t,e){return m(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(l.ext.type.search,{html:function(t){return m(t)?t:"string"==typeof t?t.replace(h," ").replace(u,""):""},string:function(t){return m(t)?t:"string"==typeof t?t.replace(h," "):t}});var $e=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=g(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-1/0};function Oe(e){t.each({num:function(t){return $e(t,e)},"num-fmt":function(t){return $e(t,e,f)},"html-num":function(t){return $e(t,e,u)},"html-num-fmt":function(t){return $e(t,e,u,f)}},(function(t,i){o.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(o.type.search[t+e]=o.type.search.html)}))}t.extend(o.type.order,{"date-pre":function(t){var e=Date.parse(t);return isNaN(e)?-1/0:e},"html-pre":function(t){return m(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return m(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Oe(""),t.extend(!0,l.ext.renderer,{header:{_:function(e,i,n,o){t(e.nTable).on("order.dt.DT",(function(t,s,a,r){if(e===s){var l=n.idx;i.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==r[l]?o.sSortAsc:"desc"==r[l]?o.sSortDesc:n.sSortingClass)}}))},jqueryui:function(e,i,n,o){t("<div/>").addClass(o.sSortJUIWrapper).append(i.contents()).append(t("<span/>").addClass(o.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),t(e.nTable).on("order.dt.DT",(function(t,s,a,r){if(e===s){var l=n.idx;i.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==r[l]?o.sSortAsc:"desc"==r[l]?o.sSortDesc:n.sSortingClass),i.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==r[l]?o.sSortJUIAsc:"desc"==r[l]?o.sSortJUIDesc:n.sSortingClassJUI)}}))}}});var Ne=function(t){return Array.isArray(t)&&(t=t.join(",")),"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};function Be(t){return function(){var e=[le(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[t].apply(this,e)}}return l.render={number:function(t,e,i,n,o){return{display:function(s){if("number"!=typeof s&&"string"!=typeof s)return s;var a=s<0?"-":"",r=parseFloat(s);if(isNaN(r))return Ne(s);r=r.toFixed(i),s=Math.abs(r);var l=parseInt(s,10),c=i?e+(s-l).toFixed(i).substring(2):"";return 0===l&&0===parseFloat(c)&&(a=""),a+(n||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+c+(o||"")}}},text:function(){return{display:Ne,filter:Ne}}},t.extend(l.ext.internal,{_fnExternApiFunc:Be,_fnBuildAjax:ft,_fnAjaxUpdate:mt,_fnAjaxParameters:_t,_fnAjaxUpdateDraw:gt,_fnAjaxDataSrc:vt,_fnAddColumn:N,_fnColumnOptions:B,_fnAdjustColumnSizing:j,_fnVisibleToColumnIndex:z,_fnColumnIndexToVisible:R,_fnVisbleColumns:F,_fnGetColumns:H,_fnColumnTypes:q,_fnApplyColumnDefs:W,_fnHungarianMap:L,_fnCamelToHungarian:D,_fnLanguageCompat:A,_fnBrowserDetect:$,_fnAddData:Z,_fnAddTr:U,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,i,n){return t.inArray(n,e.aoData[i].anCells)},_fnGetCellData:K,_fnSetCellData:V,_fnSplitObjNotation:Y,_fnGetObjectDataFn:J,_fnSetObjectDataFn:Q,_fnGetDataMaster:tt,_fnClearTable:et,_fnDeleteIndex:it,_fnInvalidate:nt,_fnGetRowElements:ot,_fnCreateTr:st,_fnBuildHead:rt,_fnDrawHead:lt,_fnDraw:ct,_fnReDraw:ht,_fnAddOptionsHtml:ut,_fnDetectHeader:dt,_fnGetUniqueThs:pt,_fnFeatureHtmlFilter:yt,_fnFilterComplete:bt,_fnFilterCustom:wt,_fnFilterColumn:xt,_fnFilter:St,_fnFilterCreateSearch:Tt,_fnEscapeRegex:Ct,_fnFilterData:Lt,_fnFeatureHtmlInfo:Et,_fnUpdateInfo:It,_fnInfoMacros:Mt,_fnInitialise:$t,_fnInitComplete:Ot,_fnLengthChange:Nt,_fnFeatureHtmlLength:Bt,_fnFeatureHtmlPaginate:jt,_fnPageChange:zt,_fnFeatureHtmlProcessing:Rt,_fnProcessingDisplay:Ft,_fnFeatureHtmlTable:Ht,_fnScrollDraw:qt,_fnApplyToChildren:Wt,_fnCalculateColumnWidths:Ut,_fnThrottle:Kt,_fnConvertToWidth:Vt,_fnGetWidestNode:Gt,_fnGetMaxLenString:Xt,_fnStringToCss:Yt,_fnSortFlatten:Jt,_fnSort:Qt,_fnSortAria:te,_fnSortListener:ee,_fnSortAttachListener:ie,_fnSortingClasses:ne,_fnSortData:oe,_fnSaveState:se,_fnLoadState:ae,_fnImplementState:re,_fnSettingsFromNode:le,_fnLog:ce,_fnMap:he,_fnBindAction:de,_fnCallbackReg:pe,_fnCallbackFire:fe,_fnLengthOverflow:me,_fnRenderer:_e,_fnDataSource:ge,_fnRowAttributes:at,_fnExtend:ue,_fnCalculateEnd:function(){}}),t.fn.dataTable=l,l.$=t,t.fn.dataTableSettings=l.settings,t.fn.dataTableExt=l.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(l,(function(e,i){t.fn.DataTable[e]=i})),l})),
/*! DataTables Bootstrap 5 integration
 * 2020 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}((function(t,e,i,n){"use strict";var o=t.fn.dataTable;return t.extend(!0,o.defaults,{dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",renderer:"bootstrap"}),t.extend(o.ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap5",sFilterInput:"form-control form-control-sm",sLengthSelect:"form-select form-select-sm",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),o.ext.renderer.pageButton.bootstrap=function(e,s,a,r,l,c){var h,u,d,p=new o.Api(e),f=e.oClasses,m=e.oLanguage.oPaginate,_=e.oLanguage.oAria.paginate||{},g=0,v=function(i,n){var o,s,r,d,y=function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||p.page()==e.data.action||p.page(e.data.action).draw("page")};for(o=0,s=n.length;o<s;o++)if(d=n[o],Array.isArray(d))v(i,d);else{switch(h="",u="",d){case"ellipsis":h="&#x2026;",u="disabled";break;case"first":h=m.sFirst,u=d+(l>0?"":" disabled");break;case"previous":h=m.sPrevious,u=d+(l>0?"":" disabled");break;case"next":h=m.sNext,u=d+(l<c-1?"":" disabled");break;case"last":h=m.sLast,u=d+(l<c-1?"":" disabled");break;default:h=d+1,u=l===d?"active":""}h&&(r=t("<li>",{class:f.sPageButton+" "+u,id:0===a&&"string"==typeof d?e.sTableId+"_"+d:null}).append(t("<a>",{href:"#","aria-controls":e.sTableId,"aria-label":_[d],"data-dt-idx":g,tabindex:e.iTabIndex,class:"page-link"}).html(h)).appendTo(i),e.oApi._fnBindAction(r,{action:d},y),g++)}};try{d=t(s).find(i.activeElement).data("dt-idx")}catch(t){}v(t(s).empty().html('<ul class="pagination"/>').children("ul"),r),d!==n&&t(s).find("[data-dt-idx="+d+"]").trigger("focus")},o})),
/*! Buttons for DataTables 2.0.1
 * 2016-2021 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}((function(t,e,i,n){"use strict";var o=t.fn.dataTable,s=0,a=0,r=o.ext.buttons;function l(e,i,n){t.fn.animate?e.stop().fadeIn(i,n):(e.css("display","block"),n&&n.call(e))}function c(e,i,n){t.fn.animate?e.stop().fadeOut(i,n):(e.css("display","none"),n&&n.call(e))}var h,u=function(e,i){if(!(this instanceof u))return function(t){return new u(t,e).container()};void 0===i&&(i={}),!0===i&&(i={}),Array.isArray(i)&&(i={buttons:i}),this.c=t.extend(!0,{},u.defaults,i),i.buttons&&(this.c.buttons=i.buttons),this.s={dt:new o.Api(e),buttons:[],listenKeys:"",namespace:"dtb"+s++},this.dom={container:t("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};t.extend(u.prototype,{action:function(t,e){var i=this._nodeToButton(t);return e===n?i.conf.action:(i.conf.action=e,this)},active:function(e,i){var o=this._nodeToButton(e),s=this.c.dom.button.active,a=t(o.node);return i===n?a.hasClass(s):(a.toggleClass(s,i===n||i),this)},add:function(t,e){var i=this.s.buttons;if("string"==typeof e){for(var o=e.split("-"),s=this.s,a=0,r=o.length-1;a<r;a++)s=s.buttons[1*o[a]];i=s.buttons,e=1*o[o.length-1]}return this._expandButton(i,t,t!==n?t.split:n,(t===n||t.split===n||0===t.split.length)&&s!==n,!1,e),this._draw(),this},collectionRebuild:function(t,e){var i=this._nodeToButton(t);if(e!==n){var o;for(o=i.buttons.length-1;o>=0;o--)this.remove(i.buttons[o].node);for(o=0;o<e.length;o++)this._expandButton(i.buttons,e[o],e[o]!==n&&e[o].config!==n&&e[o].config.split!==n,!0,e[o].parentConf!==n&&e[o].parentConf.split!==n,o,e[o].parentConf)}this._draw(i.collection,i.buttons)},container:function(){return this.dom.container},disable:function(e){var i=this._nodeToButton(e);return t(i.node).addClass(this.c.dom.button.disabled).attr("disabled",!0),this},destroy:function(){t("body").off("keyup."+this.s.namespace);var e,i,n=this.s.buttons.slice();for(e=0,i=n.length;e<i;e++)this.remove(n[e].node);this.dom.container.remove();var o=this.s.dt.settings()[0];for(e=0,i=o.length;e<i;e++)if(o.inst===this){o.splice(e,1);break}return this},enable:function(e,i){if(!1===i)return this.disable(e);var n=this._nodeToButton(e);return t(n.node).removeClass(this.c.dom.button.disabled).removeAttr("disabled"),this},name:function(){return this.c.name},node:function(e){if(!e)return this.dom.container;var i=this._nodeToButton(e);return t(i.node)},processing:function(e,i){var o=this.s.dt,s=this._nodeToButton(e);return i===n?t(s.node).hasClass("processing"):(t(s.node).toggleClass("processing",i),t(o.table().node()).triggerHandler("buttons-processing.dt",[i,o.button(e),o,t(e),s.conf]),this)},remove:function(e){var i=this._nodeToButton(e),n=this._nodeToHost(e),o=this.s.dt;if(i.buttons.length)for(var s=i.buttons.length-1;s>=0;s--)this.remove(i.buttons[s].node);i.conf.destroying=!0,i.conf.destroy&&i.conf.destroy.call(o.button(e),o,t(e),i.conf),this._removeKey(i.conf),t(i.node).remove();var a=t.inArray(i,n);return n.splice(a,1),this},text:function(e,i){var o=this._nodeToButton(e),s=this.c.dom.collection.buttonLiner,a=o.inCollection&&s&&s.tag?s.tag:this.c.dom.buttonLiner.tag,r=this.s.dt,l=t(o.node),c=function(t){return"function"==typeof t?t(r,l,o.conf):t};return i===n?c(o.conf.text):(o.conf.text=i,a?l.children(a).filter(":not(.dt-down-arrow)").html(c(i)):l.html(c(i)),this)},_constructor:function(){var e=this,n=this.s.dt,o=n.settings()[0],s=this.c.buttons;o._buttons||(o._buttons=[]),o._buttons.push({inst:this,name:this.c.name});for(var a=0,r=s.length;a<r;a++)this.add(s[a]);n.on("destroy",(function(t,i){i===o&&e.destroy()})),t("body").on("keyup."+this.s.namespace,(function(t){if(!i.activeElement||i.activeElement===i.body){var n=String.fromCharCode(t.keyCode).toLowerCase();-1!==e.s.listenKeys.toLowerCase().indexOf(n)&&e._keypress(n,t)}}))},_addKey:function(e){e.key&&(this.s.listenKeys+=t.isPlainObject(e.key)?e.key.key:e.key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var i=0,n=e.length;i<n;i++)t.append(e[i].inserter),t.append(" "),e[i].buttons&&e[i].buttons.length&&this._draw(e[i].collection,e[i].buttons)},_expandButton:function(e,i,o,s,a,r,l){var c=this.s.dt,h=!1,u=Array.isArray(i)?i:[i];i===n&&(u=Array.isArray(o)?o:[o]),i!==n&&i.split!==n&&(h=!0);for(var d=0,p=u.length;d<p;d++){var f=this._resolveExtends(u[d]);if(f)if(h=!(f.config===n||!f.config.split),Array.isArray(f))this._expandButton(e,f,m!==n&&m.conf!==n?m.conf.split:n,s,l!==n&&l.split!==n,r,l);else{var m=this._buildButton(f,s,f.split!==n||f.config!==n&&f.config.split!==n,a);if(m){if(r!==n&&null!==r?(e.splice(r,0,m),r++):e.push(m),m.conf.buttons||m.conf.split){if(m.collection=t("<"+(h?this.c.dom.splitCollection.tag:this.c.dom.collection.tag)+"/>"),m.conf._collection=m.collection,m.conf.split)for(var _=0;_<m.conf.split.length;_++)"object"==typeof m.conf.split[_]&&(m.conf.split[d].parent=l,m.conf.split[_].collectionLayout===n&&(m.conf.split[_].collectionLayout=m.conf.collectionLayout),m.conf.split[_].dropup===n&&(m.conf.split[_].dropup=m.conf.dropup),m.conf.split[_].fade===n&&(m.conf.split[_].fade=m.conf.fade));else t(m.node).append(t('<span class="dt-down-arrow">'+this.c.dom.splitDropdown.text+"</span>"));this._expandButton(m.buttons,m.conf.buttons,m.conf.split,!h,h,r,m.conf)}m.conf.parent=l,f.init&&f.init.call(c.button(m.node),c,t(m.node),f)}}}},_buildButton:function(e,i,o,s){var l,c=this.c.dom.button,h=this.c.dom.buttonLiner,u=this.c.dom.collection,d=(this.c.dom.split,this.c.dom.splitCollection),p=this.c.dom.splitDropdownButton,f=this.s.dt,m=function(t){return"function"==typeof t?t(f,l,e):t};if(!o&&s&&d?c=p:!o&&i&&u.button&&(c=u.button),!o&&s&&d.buttonLiner?h=d.buttonLiner:!o&&i&&u.buttonLiner&&(h=u.buttonLiner),e.available&&!e.available(f,e)&&!e.hasOwnProperty("html"))return!1;if(e.hasOwnProperty("html"))l=t(e.html);else{var _=function(e,i,n,o){o.action.call(i.button(n),e,i,n,o),t(i.table().node()).triggerHandler("buttons-action.dt",[i.button(n),i,n,o])},g=e.tag||c.tag,v=e.clickBlurs!==n&&e.clickBlurs;if(l=t("<"+g+"/>").addClass(c.className).addClass(s?this.c.dom.splitDropdownButton.className:"").attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",(function(t){t.preventDefault(),!l.hasClass(c.disabled)&&e.action&&_(t,f,l,e),v&&l.trigger("blur")})).on("keyup.dtb",(function(t){13===t.keyCode&&!l.hasClass(c.disabled)&&e.action&&_(t,f,l,e)})),"a"===g.toLowerCase()&&l.attr("href","#"),"button"===g.toLowerCase()&&l.attr("type","button"),h.tag){var y=t("<"+h.tag+"/>").html(m(e.text)).addClass(h.className);"a"===h.tag.toLowerCase()&&y.attr("href","#"),l.append(y)}else l.html(m(e.text));!1===e.enabled&&l.addClass(c.disabled),e.className&&l.addClass(e.className),e.titleAttr&&l.attr("title",m(e.titleAttr)),e.attr&&l.attr(e.attr),e.namespace||(e.namespace=".dt-button-"+a++),e.config!==n&&e.config.split&&(e.split=e.config.split)}var b,w,x=this.c.dom.buttonContainer;if(b=x&&x.tag?t("<"+x.tag+"/>").addClass(x.className).append(l):l,this._addKey(e),this.c.buttonCreated&&(b=this.c.buttonCreated(e,b)),o){(w=t("<div/>").addClass(this.c.dom.splitWrapper.className)).append(l);var S=t.extend(e,{text:this.c.dom.splitDropdown.text,className:this.c.dom.splitDropdown.className,attr:{"aria-haspopup":!0,"aria-expanded":!1},align:this.c.dom.splitDropdown.align,splitAlignClass:this.c.dom.splitDropdown.splitAlignClass});this._addKey(S);var T=function(e,i,n,o){r.split.action.call(i.button(t("div.dt-btn-split-wrapper")[0]),e,i,n,o),t(i.table().node()).triggerHandler("buttons-action.dt",[i.button(n),i,n,o]),n.attr("aria-expanded",!0)},C=t('<button class="'+this.c.dom.splitDropdown.className+' dt-button"><span class="dt-btn-split-drop-arrow">'+this.c.dom.splitDropdown.text+"</span></button>").on("click.dtb",(function(t){t.preventDefault(),t.stopPropagation(),!C.hasClass(c.disabled)&&S.action&&T(t,f,C,S),v&&C.trigger("blur")})).on("keyup.dtb",(function(t){13===t.keyCode&&!C.hasClass(c.disabled)&&S.action&&T(t,f,C,S)}));0===e.split.length&&C.addClass("dtb-hide-drop"),w.append(C).attr(S.attr)}return{conf:e,node:o?w.get(0):l.get(0),inserter:o?w:b,buttons:[],inCollection:i,isSplit:o,inSplit:s,collection:null}},_nodeToButton:function(t,e){e||(e=this.s.buttons);for(var i=0,n=e.length;i<n;i++){if(e[i].node===t)return e[i];if(e[i].buttons.length){var o=this._nodeToButton(t,e[i].buttons);if(o)return o}}},_nodeToHost:function(t,e){e||(e=this.s.buttons);for(var i=0,n=e.length;i<n;i++){if(e[i].node===t)return e;if(e[i].buttons.length){var o=this._nodeToHost(t,e[i].buttons);if(o)return o}}},_keypress:function(e,i){if(!i._buttonsHandled){var n=function(n,o){if(n.key)if(n.key===e)i._buttonsHandled=!0,t(o).click();else if(t.isPlainObject(n.key)){if(n.key.key!==e)return;if(n.key.shiftKey&&!i.shiftKey)return;if(n.key.altKey&&!i.altKey)return;if(n.key.ctrlKey&&!i.ctrlKey)return;if(n.key.metaKey&&!i.metaKey)return;i._buttonsHandled=!0,t(o).click()}},o=function(t){for(var e=0,i=t.length;e<i;e++)n(t[e].conf,t[e].node),t[e].buttons.length&&o(t[e].buttons)};o(this.s.buttons)}},_removeKey:function(e){if(e.key){var i=t.isPlainObject(e.key)?e.key.key:e.key,n=this.s.listenKeys.split(""),o=t.inArray(i,n);n.splice(o,1),this.s.listenKeys=n.join("")}},_resolveExtends:function(e){var i,o,s=this.s.dt,a=function(i){for(var o=0;!t.isPlainObject(i)&&!Array.isArray(i);){if(i===n)return;if("function"==typeof i){if(!(i=i(s,e)))return!1}else if("string"==typeof i){if(!r[i])return{html:i};i=r[i]}if(++o>30)throw"Buttons: Too many iterations"}return Array.isArray(i)?i:t.extend({},i)};for(e=a(e);e&&e.extend;){if(!r[e.extend])throw"Cannot extend unknown button type: "+e.extend;var l=a(r[e.extend]);if(Array.isArray(l))return l;if(!l)return!1;var c=l.className;e.config!==n&&l.config!==n&&(e.config=t.extend({},l.config,e.config)),e=t.extend({},l,e),c&&e.className!==c&&(e.className=c+" "+e.className);var h=e.postfixButtons;if(h){for(e.buttons||(e.buttons=[]),i=0,o=h.length;i<o;i++)e.buttons.push(h[i]);e.postfixButtons=null}var u=e.prefixButtons;if(u){for(e.buttons||(e.buttons=[]),i=0,o=u.length;i<o;i++)e.buttons.splice(i,0,u[i]);e.prefixButtons=null}e.extend=l.extend}return e},_popover:function(n,o,s,a){var r=o,h=this.c,d=!1,p=t.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",contentClassName:h.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",splitRightAlignClassName:"dt-button-split-right",splitLeftAlignClassName:"dt-button-split-left",tag:h.dom.collection.tag},s),f=o.node(),m=function(){d=!0,c(t(".dt-button-collection"),p.fade,(function(){t(this).detach()})),t(r.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),t("div.dt-button-background").off("click.dtb-collection"),u.background(!1,p.backgroundClassName,p.fade,f),t("body").off(".dtb-collection"),r.off("buttons-action.b-internal"),r.off("destroy")};!1===n&&m();var _=t(r.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes());_.length&&(f=_.eq(0),m());var g=t("<div/>").addClass("dt-button-collection").addClass(p.collectionLayout).addClass(p.splitAlignClass).css("display","none");n=t(n).addClass(p.contentClassName).attr("role","menu").appendTo(g),f.attr("aria-expanded","true"),f.parents("body")[0]!==i.body&&(f=i.body.lastChild),p.popoverTitle?g.prepend('<div class="dt-button-collection-title">'+p.popoverTitle+"</div>"):p.collectionTitle&&g.prepend('<div class="dt-button-collection-title">'+p.collectionTitle+"</div>"),l(g.insertAfter(f),p.fade);var v=t(o.table().container()),y=g.css("position");if("dt-container"===p.align&&(f=f.parent(),g.css("width",v.width())),"absolute"===y){var b=f.position(),w=t(o.node()).position();g.css({top:t(t(o[0].node).parent()[0]).hasClass("dt-buttons")?w.top+f.outerHeight():b.top+f.outerHeight(),left:b.left});var x=g.outerHeight(),S=v.offset().top+v.height(),T=w.top+f.outerHeight()+x-S,C=w.top-x,k=v.offset().top,P=k-C,L=w.top-x-5;(T>P||p.dropup)&&-L<k&&g.css("top",L);var D=v.offset().left,A=D+v.width(),E=g.offset().left,I=g.outerWidth();0===I&&g.children().length>0&&(I=t(g.children()[0]).outerWidth());var M=E+I,$=f.offset().left,O=f.outerWidth(),N=$+O;if(g.hasClass(p.rightAlignClassName)||g.hasClass(p.leftAlignClassName)||g.hasClass(p.splitAlignClass)||"dt-container"===p.align){var B=$,j=N;f.hasClass("dt-btn-split-wrapper")&&f.children("button.dt-btn-split-drop").length>0&&(j=(B=f.children("button.dt-btn-split-drop").offset().left)+f.children("button.dt-btn-split-drop").outerWidth());var z=0;if(g.hasClass(p.rightAlignClassName)){if(D>E+(z=N-M))z+=(R=D-(E+z))>(F=A-(M+z))?F:R}else if(g.hasClass(p.splitRightAlignClassName)){if(D>E+(z=j-M))z+=(R=D-(E+z))>(F=A-(M+z))?F:R}else if(g.hasClass(p.splitLeftAlignClassName)){if(A<M+(z=B-E)||D>E+z)z+=(R=D-(E+z))>(F=A-(M+z))?F:R}else{var R,F;if(A<M+(z=D-E))z+=(R=D-(E+z))>(F=A-(M+z))?F:R}g.css("left",g.position().left+z)}else{var H=f.offset().top;z=0;z="button-right"===p.align?N-M:$-E,g.css("left",g.position().left+z)}}else{(H=g.height()/2)>t(e).height()/2&&(H=t(e).height()/2),g.css("marginTop",-1*H)}p.background&&u.background(!0,p.backgroundClassName,p.fade,f),t("div.dt-button-background").on("click.dtb-collection",(function(){})),p.autoClose&&setTimeout((function(){r.on("buttons-action.b-internal",(function(t,e,i,n){n[0]!==f[0]&&m()}))}),0),t(g).trigger("buttons-popover.dt"),r.on("destroy",m),setTimeout((function(){d=!1,t("body").on("click.dtb-collection",(function(e){if(!d){var i=t.fn.addBack?"addBack":"andSelf",o=t(e.target).parent()[0];(!t(e.target).parents()[i]().filter(n).length&&!t(o).hasClass("dt-buttons")||t(e.target).hasClass("dt-button-background"))&&m()}})).on("keyup.dtb-collection",(function(t){27===t.keyCode&&m()}))}),0)}}),u.background=function(e,o,s,a){s===n&&(s=400),a||(a=i.body),e?l(t("<div/>").addClass(o).css("display","none").insertAfter(a),s):c(t("div."+o),s,(function(){t(this).removeClass(o).remove()}))},u.instanceSelector=function(e,i){if(e===n||null===e)return t.map(i,(function(t){return t.inst}));var o=[],s=t.map(i,(function(t){return t.name})),a=function(e){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)a(e[n]);else if("string"==typeof e)if(-1!==e.indexOf(","))a(e.split(","));else{var l=t.inArray(e.trim(),s);-1!==l&&o.push(i[l].inst)}else"number"==typeof e&&o.push(i[e].inst)};return a(e),o},u.buttonSelector=function(e,i){for(var o=[],s=function(t,e,i){for(var o,a,r=0,l=e.length;r<l;r++)(o=e[r])&&(a=i!==n?i+r:r+"",t.push({node:o.node,name:o.conf.name,idx:a}),o.buttons&&s(t,o.buttons,a+"-"))},a=function(e,i){var r,l,c=[];s(c,i.s.buttons);var h=t.map(c,(function(t){return t.node}));if(Array.isArray(e)||e instanceof t)for(r=0,l=e.length;r<l;r++)a(e[r],i);else if(null===e||e===n||"*"===e)for(r=0,l=c.length;r<l;r++)o.push({inst:i,node:c[r].node});else if("number"==typeof e)o.push({inst:i,node:i.s.buttons[e].node});else if("string"==typeof e)if(-1!==e.indexOf(",")){var u=e.split(",");for(r=0,l=u.length;r<l;r++)a(u[r].trim(),i)}else if(e.match(/^\d+(\-\d+)*$/)){var d=t.map(c,(function(t){return t.idx}));o.push({inst:i,node:c[t.inArray(e,d)].node})}else if(-1!==e.indexOf(":name")){var p=e.replace(":name","");for(r=0,l=c.length;r<l;r++)c[r].name===p&&o.push({inst:i,node:c[r].node})}else t(h).filter(e).each((function(){o.push({inst:i,node:this})}));else if("object"==typeof e&&e.nodeName){var f=t.inArray(e,h);-1!==f&&o.push({inst:i,node:h[f]})}},r=0,l=e.length;r<l;r++){var c=e[r];a(i,c)}return o},u.stripData=function(t,e){return"string"!=typeof t||(t=(t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),e&&!e.stripHtml||(t=t.replace(/<[^>]*>/g,"")),e&&!e.trim||(t=t.replace(/^\s+|\s+$/g,"")),e&&!e.stripNewlines||(t=t.replace(/\n/g," ")),e&&!e.decodeEntities||(_.innerHTML=t,t=_.value)),t},u.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""},split:{tag:"div",className:"dt-button-split"},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper"},splitDropdown:{tag:"button",text:"&#x25BC;",className:"dt-btn-split-drop",align:"split-right",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button dt-button"},splitCollection:{tag:"div",className:"dt-button-split-collection"}}},u.version="2.0.1",t.extend(r,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",init:function(t,e,i){e.attr("aria-expanded",!1)},action:function(t,e,i,n){n._collection.parents("body").length?this.popover(!1,n):this.popover(n._collection,n)},attr:{"aria-haspopup":!0}},split:{text:function(t){return t.i18n("buttons.split","Split")},className:"buttons-split",init:function(t,e,i){return e.attr("aria-expanded",!1)},action:function(t,e,i,n){this.popover(n._collection,n)},attr:{"aria-haspopup":!0}},copy:function(t,e){if(r.copyHtml5)return"copyHtml5"},csv:function(t,e){if(r.csvHtml5&&r.csvHtml5.available(t,e))return"csvHtml5"},excel:function(t,e){if(r.excelHtml5&&r.excelHtml5.available(t,e))return"excelHtml5"},pdf:function(t,e){if(r.pdfHtml5&&r.pdfHtml5.available(t,e))return"pdfHtml5"},pageLength:function(e){var i=e.settings()[0].aLengthMenu,n=[],o=[];if(Array.isArray(i[0]))n=i[0],o=i[1];else for(var s=0;s<i.length;s++){var a=i[s];t.isPlainObject(a)?(n.push(a.value),o.push(a.label)):(n.push(a),o.push(a))}return{extend:"collection",text:function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())},className:"buttons-page-length",autoClose:!0,buttons:t.map(n,(function(t,e){return{text:o[e],className:"button-page-length",action:function(e,i){i.page.len(t).draw()},init:function(e,i,n){var o=this,s=function(){o.active(e.page.len()===t)};e.on("length.dt"+n.namespace,s),s()},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}})),init:function(t,e,i){var n=this;t.on("length.dt"+i.namespace,(function(){n.text(i.text)}))},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}}}),o.Api.register("buttons()",(function(t,e){e===n&&(e=t,t=n),this.selector.buttonGroup=t;var i=this.iterator(!0,"table",(function(i){if(i._buttons)return u.buttonSelector(u.instanceSelector(t,i._buttons),e)}),!0);return i._groupSelector=t,i})),o.Api.register("button()",(function(t,e){var i=this.buttons(t,e);return i.length>1&&i.splice(1,i.length),i})),o.Api.registerPlural("buttons().active()","button().active()",(function(t){return t===n?this.map((function(t){return t.inst.active(t.node)})):this.each((function(e){e.inst.active(e.node,t)}))})),o.Api.registerPlural("buttons().action()","button().action()",(function(t){return t===n?this.map((function(t){return t.inst.action(t.node)})):this.each((function(e){e.inst.action(e.node,t)}))})),o.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",(function(t){return this.each((function(e){for(var i=0;i<t.length;i++)"object"==typeof t[i]&&(t[i].parentConf=e);e.inst.collectionRebuild(e.node,t)}))})),o.Api.register(["buttons().enable()","button().enable()"],(function(t){return this.each((function(e){e.inst.enable(e.node,t)}))})),o.Api.register(["buttons().disable()","button().disable()"],(function(){return this.each((function(t){t.inst.disable(t.node)}))})),o.Api.registerPlural("buttons().nodes()","button().node()",(function(){var e=t();return t(this.each((function(t){e=e.add(t.inst.node(t.node))}))),e})),o.Api.registerPlural("buttons().processing()","button().processing()",(function(t){return t===n?this.map((function(t){return t.inst.processing(t.node)})):this.each((function(e){e.inst.processing(e.node,t)}))})),o.Api.registerPlural("buttons().text()","button().text()",(function(t){return t===n?this.map((function(t){return t.inst.text(t.node)})):this.each((function(e){e.inst.text(e.node,t)}))})),o.Api.registerPlural("buttons().trigger()","button().trigger()",(function(){return this.each((function(t){t.inst.node(t.node).trigger("click")}))})),o.Api.register("button().popover()",(function(t,e){return this.map((function(i){return i.inst._popover(t,this.button(this[0].node),e)}))})),o.Api.register("buttons().containers()",(function(){var e=t(),i=this._groupSelector;return this.iterator(!0,"table",(function(t){if(t._buttons)for(var n=u.instanceSelector(i,t._buttons),o=0,s=n.length;o<s;o++)e=e.add(n[o].container())})),e})),o.Api.register("buttons().container()",(function(){return this.containers().eq(0)})),o.Api.register("button().add()",(function(t,e){var i=this.context;if(i.length){var n=u.instanceSelector(this._groupSelector,i[0]._buttons);n.length&&n[0].add(e,t)}return this.button(this._groupSelector,t)})),o.Api.register("buttons().destroy()",(function(){return this.pluck("inst").unique().each((function(t){t.destroy()})),this})),o.Api.registerPlural("buttons().remove()","buttons().remove()",(function(){return this.each((function(t){t.inst.remove(t.node)})),this})),o.Api.register("buttons.info()",(function(e,i,o){var s=this;return!1===e?(this.off("destroy.btn-info"),c(t("#datatables_buttons_info"),400,(function(){t(this).remove()})),clearTimeout(h),h=null,this):(h&&clearTimeout(h),t("#datatables_buttons_info").length&&t("#datatables_buttons_info").remove(),e=e?"<h2>"+e+"</h2>":"",l(t('<div id="datatables_buttons_info" class="dt-button-info"/>').html(e).append(t("<div/>")["string"==typeof i?"html":"append"](i)).css("display","none").appendTo("body")),o!==n&&0!==o&&(h=setTimeout((function(){s.buttons.info(!1)}),o)),this.on("destroy.btn-info",(function(){s.buttons.info(!1)})),this)})),o.Api.register("buttons.exportData()",(function(t){if(this.context.length)return g(new o.Api(this.context[0]),t)})),o.Api.register("buttons.exportInfo()",(function(t){return t||(t={}),{filename:d(t),title:f(t),messageTop:m(this,t.message||t.messageTop,"top"),messageBottom:m(this,t.messageBottom,"bottom")}}));var d=function(e){var i="*"===e.filename&&"*"!==e.title&&e.title!==n&&null!==e.title&&""!==e.title?e.title:e.filename;if("function"==typeof i&&(i=i()),i===n||null===i)return null;-1!==i.indexOf("*")&&(i=i.replace("*",t("head > title").text()).trim()),i=i.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var o=p(e.extension);return o||(o=""),i+o},p=function(t){return null===t||t===n?null:"function"==typeof t?t():t},f=function(e){var i=p(e.title);return null===i?null:-1!==i.indexOf("*")?i.replace("*",t("head > title").text()||"Exported data"):i},m=function(e,i,n){var o=p(i);if(null===o)return null;var s=t("caption",e.table().container()).eq(0);return"*"===o?s.css("caption-side")!==n?null:s.length?s.text():"":o},_=t("<textarea/>")[0],g=function(e,i){var o=t.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return u.stripData(t,o)},footer:function(t){return u.stripData(t,o)},body:function(t){return u.stripData(t,o)}},customizeData:null},i),s=e.columns(o.columns).indexes().map((function(t){var i=e.column(t).header();return o.format.header(i.innerHTML,t,i)})).toArray(),a=e.table().footer()?e.columns(o.columns).indexes().map((function(t){var i=e.column(t).footer();return o.format.footer(i?i.innerHTML:"",t,i)})).toArray():null,r=t.extend({},o.modifier);e.select&&"function"==typeof e.select.info&&r.selected===n&&e.rows(o.rows,t.extend({selected:!0},r)).any()&&t.extend(r,{selected:!0});for(var l=e.rows(o.rows,r).indexes().toArray(),c=e.cells(l,o.columns),h=c.render(o.orthogonal).toArray(),d=c.nodes().toArray(),p=s.length,f=[],m=0,_=0,g=p>0?h.length/p:0;_<g;_++){for(var v=[p],y=0;y<p;y++)v[y]=o.format.body(h[m],_,y,d[m]),m++;f[_]=v}var b={header:s,footer:a,body:f};return o.customizeData&&o.customizeData(b),b};function v(t,e){var i=new o.Api(t),n=e||(i.init().buttons||o.defaults.buttons);return new u(i,n).container()}return t.fn.dataTable.Buttons=u,t.fn.DataTable.Buttons=u,t(i).on("init.dt plugin-init.dt",(function(t,e){if("dt"===t.namespace){var i=e.oInit.buttons||o.defaults.buttons;i&&!e._buttons&&new u(e,i).container()}})),o.ext.feature.push({fnInit:v,cFeature:"B"}),o.ext.features&&o.ext.features.register("buttons",v),u})),
/*! Bootstrap integration for DataTables' Buttons
 * 2016 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs5","datatables.net-buttons"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net-bs5")(e,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(e,i),t(i,e,e.document)}:t(jQuery,window,document)}((function(t,e,i,n){"use strict";var o=t.fn.dataTable;return t.extend(!0,o.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group flex-wrap"},button:{className:"btn btn-secondary"},collection:{tag:"div",className:"dropdown-menu",button:{tag:"a",className:"dt-button dropdown-item",active:"active",disabled:"disabled"}},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper btn-group"},splitDropdown:{tag:"button",text:"",className:"btn btn-secondary dt-btn-split-drop dropdown-toggle dropdown-toggle-split",align:"split-left",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button btn btn-secondary"}},buttonCreated:function(e,i){return e.buttons?t('<div class="btn-group"/>').append(i):i}}),o.ext.buttons.collection.className+=" dropdown-toggle",o.ext.buttons.collection.rightAlignClassName="dropdown-menu-right",o.Buttons})),function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}((function(n){"use strict";var o,s,a,r,l,c=!0,h=!1,u=null,d="y",p="width",f="height",m="top",_="left",g="bottom",v="right",y="center",b={},w="qtip",x="data-hasqtip",S="data-qtip-id",T=["ui-widget","ui-tooltip"],C="."+w,k="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),P=w+"-fixed",L=w+"-default",D=w+"-focus",A=w+"-hover",E=w+"-disabled",I="_replacedByqTip",M="oldtitle",$=function(){for(var t=4,i=e.createElement("div");(i.innerHTML="\x3c!--[if gt IE "+t+"]><i></i><![endif]--\x3e")&&i.getElementsByTagName("i")[0];t+=1);return t>4?t:NaN}(),O=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||h;function N(t,e,i,o){this.id=i,this.target=t,this.tooltip=u,this.elements={target:t},this._id=w+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:n(),disabled:h,attr:o,onTooltip:h,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=h}function B(t){return t===u||"object"!==n.type(t)}function j(t){return!(n.isFunction(t)||t&&t.attr||t.length||"object"===n.type(t)&&(t.jquery||t.then))}function z(t){var e,i,o,s;return B(t)?h:(B(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(B(e=t.content)||e.jquery||e.done?e=t.content={text:i=j(e)?h:e}:i=e.text,"ajax"in e&&(o=e.ajax,s=o&&o.once!==h,delete e.ajax,e.text=function(t,e){var a=i||n(this).attr(e.options.content.attr)||"Loading...",r=n.ajax(n.extend({},o,{context:e})).then(o.success,u,o.error).then((function(t){return t&&s&&e.set("content.text",t),t}),(function(t,i,n){e.destroyed||0===t.status||e.set("content.text",i+": "+n)}));return s?a:(e.set("content.text",a),r)}),"title"in e&&(n.isPlainObject(e.title)&&(e.button=e.title.button,e.title=e.title.text),j(e.title||h)&&(e.title=h))),"position"in t&&B(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&B(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===c?{ready:c}:{event:t.show}),"hide"in t&&B(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&B(t.style)&&(t.style={classes:t.style}),n.each(b,(function(){this.sanitize&&this.sanitize(t)})),t)}function R(t,e){for(var i,n=0,o=t,s=e.split(".");o=o[s[n++]];)n<s.length&&(i=o);return[i||t,s.pop()]}function F(t,e){var i,n,o;for(i in this.checks)for(n in this.checks[i])(o=new RegExp(n,"i").exec(t))&&(e.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][n].apply(this.plugins[i]||this,e))}(s=N.prototype)._when=function(t){return n.when.apply(n,t)},s.render=function(t){if(this.rendered||this.destroyed)return this;var e=this,i=this.options,s=this.cache,a=this.elements,r=i.content.text,l=i.content.title,u=i.content.button,d=i.position,p=(this._id,[]);return n.attr(this.target[0],"aria-describedby",this._id),s.posClass=this._createPosClass((this.position={my:d.my,at:d.at}).my),this.tooltip=a.tooltip=n("<div/>",{id:this._id,class:[w,L,i.style.classes,s.posClass].join(" "),width:i.style.width||"",height:i.style.height||"",tracking:"mouse"===d.target&&d.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":h,"aria-describedby":this._id+"-content","aria-hidden":c}).toggleClass(E,this.disabled).attr(S,this.id).data(w,this).appendTo(d.container).append(a.content=n("<div />",{class:w+"-content",id:this._id+"-content","aria-atomic":c})),this.rendered=-1,this.positioning=c,l&&(this._createTitle(),n.isFunction(l)||p.push(this._updateTitle(l,h))),u&&this._createButton(),n.isFunction(r)||p.push(this._updateContent(r,h)),this.rendered=c,this._setWidget(),n.each(b,(function(t){var i;"render"===this.initialize&&(i=this(e))&&(e.plugins[t]=i)})),this._unassignEvents(),this._assignEvents(),this._when(p).then((function(){e._trigger("render"),e.positioning=h,e.hiddenDuringWait||!i.show.ready&&!t||e.toggle(c,s.event,h),e.hiddenDuringWait=h})),o.api[this.id]=this,this},s.destroy=function(t){if(this.destroyed)return this.target;function e(){if(!this.destroyed){this.destroyed=c;var t,e=this.target,i=e.attr(M);for(t in this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),n.each(this.plugins,(function(t){this.destroy&&this.destroy()})),this.timers)clearTimeout(this.timers[t]);e.removeData(w).removeAttr(S).removeAttr(x).removeAttr("aria-describedby"),this.options.suppress&&i&&e.attr("title",i).removeAttr(M),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=u,delete o.api[this.id]}}return t===c&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",n.proxy(e,this)),!this.triggering&&this.hide()),this.target},r=s.checks={builtin:{"^id$":function(t,e,i,s){var a=i===c?o.nextid:i,r=w+"-"+a;a!==h&&a.length>0&&!n("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=s},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,n){this.options.content.text===this.target.attr(n)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){if(!i)return this._removeTitle();i&&!this.elements.title&&this._createTitle(),this._updateTitle(i)},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(this.position[e]=t[e]=new a(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(c)||this.toggle(c))},"^style.classes$":function(t,e,i,n){this.rendered&&this.tooltip.removeClass(n).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(L,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},s.get=function(t){if(this.destroyed)return this;var e=R(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var H=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,q=/^prerender|show\.ready/i;s.set=function(t,e){if(this.destroyed)return this;var i,o=this.rendered,s=h,a=this.options;this.checks;return"string"==typeof t?(i=t,(t={})[i]=e):t=n.extend({},t),n.each(t,(function(e,i){if(o&&q.test(e))delete t[e];else{var r,l=R(a,e.toLowerCase());r=l[0][l[1]],l[0][l[1]]=i&&i.nodeType?n(i):i,s=H.test(e)||s,t[e]=[l[0],l[1],i,r]}})),z(a),this.positioning=c,n.each(t,n.proxy(F,this)),this.positioning=h,this.rendered&&this.tooltip[0].offsetWidth>0&&s&&this.reposition("mouse"===a.position.target?u:this.cache.event),this},s._update=function(t,e,i){var o=this,s=this.cache;return this.rendered&&t?(n.isFunction(t)&&(t=t.call(this.elements.target,s.event,this)||""),n.isFunction(t.then)?(s.waiting=c,t.then((function(t){return s.waiting=h,o._update(t,e)}),u,(function(t){return o._update(t,e)}))):t===h||!t&&""!==t?h:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then((function(t){o.rendered&&o.tooltip[0].offsetWidth>0&&o.reposition(s.event,!t.length)})))):h},s._waitForContent=function(t){var e=this.cache;return e.waiting=c,(n.fn.imagesLoaded?t.imagesLoaded():n.Deferred().resolve([])).done((function(){e.waiting=h})).promise()},s._updateContent=function(t,e){this._update(t,this.elements.content,e)},s._updateTitle=function(t,e){this._update(t,this.elements.title,e)===h&&this._removeTitle(h)},s._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=n("<div />",{class:w+"-titlebar "+(this.options.style.widget?Z("header"):"")}).append(t.title=n("<div />",{id:e,class:w+"-title","aria-atomic":c})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",(function(t){n(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))})).delegate(".qtip-close","mouseover mouseout",(function(t){n(this).toggleClass("ui-state-hover","mouseover"===t.type)})),this.options.content.button&&this._createButton()},s._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=u,t!==h&&this.reposition())},s._createPosClass=function(t){return w+"-pos-"+(t||this.options.position.my).abbrev()},s.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=c;var s,a,r,l,u=this.cache,d=this.tooltip,p=this.options.position,f=p.target,w=p.my,x=p.at,S=p.viewport,T=p.container,C=p.adjust,k=C.method.split(" "),P=d.outerWidth(h),L=d.outerHeight(h),D=0,A=0,E=d.css("position"),I={left:0,top:0},M=d[0].offsetWidth>0,N=i&&"scroll"===i.type,B=n(t),j=T[0].ownerDocument,z=this.mouse;if(n.isArray(f)&&2===f.length)x={x:_,y:m},I={left:f[0],top:f[1]};else if("mouse"===f)x={x:_,y:m},(!C.mouse||this.options.hide.distance)&&u.origin&&u.origin.pageX?i=u.origin:!i||i&&("resize"===i.type||"scroll"===i.type)?i=u.event:z&&z.pageX&&(i=z),"static"!==E&&(I=T.offset()),j.body.offsetWidth!==(t.innerWidth||j.documentElement.clientWidth)&&(a=n(e.body).offset()),I={left:i.pageX-I.left+(a&&a.left||0),top:i.pageY-I.top+(a&&a.top||0)},C.mouse&&N&&z&&(I.left-=(z.scrollX||0)-B.scrollLeft(),I.top-=(z.scrollY||0)-B.scrollTop());else{if("event"===f?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?u.target=n(i.target):i.target||(u.target=this.elements.target):"event"!==f&&(u.target=n(f.jquery?f:this.elements.target)),f=u.target,0===(f=n(f).eq(0)).length)return this;f[0]===e||f[0]===t?(D=O?t.innerWidth:f.width(),A=O?t.innerHeight:f.height(),f[0]===t&&(I={top:(S||f).scrollTop(),left:(S||f).scrollLeft()})):b.imagemap&&f.is("area")?s=b.imagemap(this,f,x,b.viewport?k:h):b.svg&&f&&f[0].ownerSVGElement?s=b.svg(this,f,x,b.viewport?k:h):(D=f.outerWidth(h),A=f.outerHeight(h),I=f.offset()),s&&(D=s.width,A=s.height,a=s.offset,I=s.position),I=this.reposition.offset(f,I,T),(O>3.1&&O<4.1||O>=4.3&&O<4.33||!O&&"fixed"===E)&&(I.left-=B.scrollLeft(),I.top-=B.scrollTop()),(!s||s&&s.adjustable!==h)&&(I.left+=x.x===v?D:x.x===y?D/2:0,I.top+=x.y===g?A:x.y===y?A/2:0)}return I.left+=C.x+(w.x===v?-P:w.x===y?-P/2:0),I.top+=C.y+(w.y===g?-L:w.y===y?-L/2:0),b.viewport?(r=I.adjusted=b.viewport(this,I,p,D,A,P,L),a&&r.left&&(I.left+=a.left),a&&r.top&&(I.top+=a.top),r.my&&(this.position.my=r.my)):I.adjusted={left:0,top:0},u.posClass!==(l=this._createPosClass(this.position.my))&&d.removeClass(u.posClass).addClass(u.posClass=l),this._trigger("move",[I,S.elem||S],i)?(delete I.adjusted,o===h||!M||isNaN(I.left)||isNaN(I.top)||"mouse"===f||!n.isFunction(p.effect)?d.css(I):n.isFunction(p.effect)&&(p.effect.call(d,this,n.extend({},I)),d.queue((function(t){n(this).css({opacity:"",height:""}),$&&this.style.removeAttribute("filter"),t()}))),this.positioning=h,this):this},s.reposition.offset=function(t,i,o){if(!o[0])return i;var s,a,r,l,c=n(t[0].ownerDocument),h=!!$&&"CSS1Compat"!==e.compatMode,u=o[0];function d(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}do{"static"!==(a=n.css(u,"position"))&&("fixed"===a?(r=u.getBoundingClientRect(),d(c,-1)):((r=n(u).position()).left+=parseFloat(n.css(u,"borderLeftWidth"))||0,r.top+=parseFloat(n.css(u,"borderTopWidth"))||0),i.left-=r.left+(parseFloat(n.css(u,"marginLeft"))||0),i.top-=r.top+(parseFloat(n.css(u,"marginTop"))||0),s||"hidden"===(l=n.css(u,"overflow"))||"visible"===l||(s=n(u)))}while(u=u.offsetParent);return s&&(s[0]!==c[0]||h)&&d(s,1),i};var W=(a=s.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,y).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?d:"x"}).prototype;function Z(t){return T.concat("").join(t?"-"+t+" ":" ")}function U(t,e){if(e>0)return setTimeout(n.proxy(t,this),e);t.call(this)}function K(t){this.tooltip.hasClass(E)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=U.call(this,(function(){this.toggle(c,t)}),this.options.show.delay))}function V(t){if(!this.tooltip.hasClass(E)&&!this.destroyed){var e=n(t.relatedTarget),i=e.closest(C)[0]===this.tooltip[0],o=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||o))try{t.preventDefault(),t.stopImmediatePropagation()}catch(t){}else this.timers.hide=U.call(this,(function(){this.toggle(h,t)}),this.options.hide.delay,this)}}function G(t){!this.tooltip.hasClass(E)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=U.call(this,(function(){this.hide(t)}),this.options.hide.inactive))}function X(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function Y(t,i,s){n(e.body).delegate(t,(i.split?i:i.join("."+w+" "))+"."+w,(function(){var t=o.api[n.attr(this,S)];t&&!t.disabled&&s.apply(t,arguments)}))}function J(t,i,s){var r,l,d,p,f,m=n(e.body),_=t[0]===e?m:t,g=t.metadata?t.metadata(s.metadata):u,v="html5"===s.metadata.type&&g?g[s.metadata.name]:u,y=t.data(s.metadata.name||"qtipopts");try{y="string"==typeof y?n.parseJSON(y):y}catch(t){}if(l=(p=n.extend(c,{},o.defaults,s,"object"==typeof y?z(y):u,z(v||g))).position,p.id=i,"boolean"==typeof p.content.text){if(d=t.attr(p.content.attr),p.content.attr===h||!d)return h;p.content.text=d}if(l.container.length||(l.container=m),l.target===h&&(l.target=_),p.show.target===h&&(p.show.target=_),p.show.solo===c&&(p.show.solo=l.container.closest("body")),p.hide.target===h&&(p.hide.target=_),p.position.viewport===c&&(p.position.viewport=l.container),l.container=l.container.eq(0),l.at=new a(l.at,c),l.my=new a(l.my),t.data(w))if(p.overwrite)t.qtip("destroy",!0);else if(p.overwrite===h)return h;return t.attr(x,i),p.suppress&&(f=t.attr("title"))&&t.removeAttr("title").attr(M,f).attr("title",""),r=new N(t,p,i,!!d),t.data(w,r),r}W.invert=function(t,e){this[t]=this[t]===_?v:this[t]===v?_:e||this[t]},W.string=function(t){var e=this.x,i=this.y,n=e!==i?"center"===e||"center"!==i&&(this.precedance===d||this.forceY)?[i,e]:[e,i]:[e];return!1!==t?n.join(" "):n},W.abbrev=function(){var t=this.string(!1);return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},W.clone=function(){return new a(this.string(),this.forceY)},s.toggle=function(t,i){var o=this.cache,s=this.options,a=this.tooltip;if(i){if(/over|enter/.test(i.type)&&o.event&&/out|leave/.test(o.event.type)&&s.show.target.add(i.target).length===s.show.target.length&&a.has(i.relatedTarget).length)return this;o.event=n.event.fix(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=c),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var r,d,p,f=t?"show":"hide",m=this.options[f],_=(this.options[t?"hide":"show"],this.options.position),g=this.options.content,v=this.tooltip.css("width"),y=this.tooltip.is(":visible"),b=t||1===m.target.length,x=!i||m.target.length<2||o.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!y),d=(r=!a.is(":animated")&&y===t&&x)?u:!!this._trigger(f,[90]),this.destroyed?this:(d!==h&&t&&this.focus(i),!d||r||(n.attr(a[0],"aria-hidden",!t),t?(this.mouse&&(o.origin=n.event.fix(this.mouse)),n.isFunction(g.text)&&this._updateContent(g.text,h),n.isFunction(g.title)&&this._updateTitle(g.title,h),!l&&"mouse"===_.target&&_.adjust.mouse&&(n(e).bind("mousemove."+w,this._storeMouse),l=c),v||a.css("width",a.outerWidth(h)),this.reposition(i,arguments[2]),v||a.css("width",""),m.solo&&("string"==typeof m.solo?n(m.solo):n(C,m.solo)).not(a).not(m.target).qtip("hide",n.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,l&&!n(C+'[tracking="true"]:visible',m.solo).not(a).length&&(n(e).unbind("mousemove."+w),l=h),this.blur(i)),p=n.proxy((function(){t?($&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof m.autofocus&&n(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")}),this),m.effect===h||b===h?(a[f](),p()):n.isFunction(m.effect)?(a.stop(1,1),m.effect.call(a,this),a.queue("fx",(function(t){p(),t()}))):a.fadeTo(90,t?1:0,p),t&&m.target.trigger("qtip-"+this.id+"-inactive")),this)},s.show=function(t){return this.toggle(c,t)},s.hide=function(t){return this.toggle(h,t)},s.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=n(C),i=this.tooltip,s=parseInt(i[0].style.zIndex,10),a=o.zindex+e.length;return i.hasClass(D)||this._trigger("focus",[a],t)&&(s!==a&&(e.each((function(){this.style.zIndex>s&&(this.style.zIndex=this.style.zIndex-1)})),e.filter("."+D).qtip("blur",t)),i.addClass(D)[0].style.zIndex=a),this},s.blur=function(t){return!this.rendered||this.destroyed||(this.tooltip.removeClass(D),this._trigger("blur",[this.tooltip.css("zIndex")],t)),this},s.disable=function(t){return this.destroyed||("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(E):this.disabled):"boolean"!=typeof t&&(t=c),this.rendered&&this.tooltip.toggleClass(E,t).attr("aria-disabled",t),this.disabled=!!t),this},s.enable=function(){return this.disable(h)},s._createButton=function(){var t=this,e=this.elements,i=e.tooltip,o=this.options.content.button,s="string"==typeof o?o:"Close tooltip";e.button&&e.button.remove(),o.jquery?e.button=o:e.button=n("<a />",{class:"qtip-close "+(this.options.style.widget?"":w+"-icon"),title:s,"aria-label":s}).prepend(n("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click((function(e){return i.hasClass(E)||t.hide(e),h}))},s._updateButton=function(t){if(!this.rendered)return h;var e=this.elements.button;t?this._createButton():e.remove()},s._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,n=i.hasClass(E);i.removeClass(E),E=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(E,n),i.toggleClass("ui-helper-reset "+Z(),t).toggleClass(L,this.options.style.def&&!t),e.content&&e.content.toggleClass(Z("content"),t),e.titlebar&&e.titlebar.toggleClass(Z("header"),t),e.button&&e.button.toggleClass(w+"-icon",!t)},s._storeMouse=function(t){return(this.mouse=n.event.fix(t)).type="mousemove",this},s._bind=function(t,e,i,o,s){if(t&&i&&e.length){var a="."+this._id+(o?"-"+o:"");return n(t).bind((e.split?e:e.join(a+" "))+a,n.proxy(i,s||this)),this}},s._unbind=function(t,e){return t&&n(t).unbind("."+this._id+(e?"-"+e:"")),this},s._trigger=function(t,e,i){var o=n.Event("tooltip"+t);return o.originalEvent=i&&n.extend({},i)||this.cache.event||u,this.triggering=t,this.tooltip.trigger(o,[this].concat(e||[])),this.triggering=h,!o.isDefaultPrevented()},s._bindEvents=function(t,e,i,o,s,a){var r=i.filter(o).add(o.filter(i)),l=[];r.length&&(n.each(e,(function(e,i){var o=n.inArray(i,t);o>-1&&l.push(t.splice(o,1)[0])})),l.length&&(this._bind(r,l,(function(t){(!!this.rendered&&this.tooltip[0].offsetWidth>0?a:s).call(this,t)})),i=i.not(r),o=o.not(r))),this._bind(i,t,s),this._bind(o,e,a)},s._assignInitialEvents=function(t){var e=this.options,i=e.show.target,o=e.hide.target,s=e.show.event?n.trim(""+e.show.event).split(" "):[],a=e.hide.event?n.trim(""+e.hide.event).split(" "):[];function r(t){if(this.disabled||this.destroyed)return h;this.cache.event=t&&n.event.fix(t),this.cache.target=t&&n(t.target),clearTimeout(this.timers.show),this.timers.show=U.call(this,(function(){this.render("object"==typeof t||e.show.ready)}),e.prerender?0:e.show.delay)}this._bind(this.elements.target,["remove","removeqtip"],(function(t){this.destroy(!0)}),"destroy"),/mouse(over|enter)/i.test(e.show.event)&&!/mouse(out|leave)/i.test(e.hide.event)&&a.push("mouseleave"),this._bind(i,"mousemove",(function(t){this._storeMouse(t),this.cache.onTarget=c})),this._bindEvents(s,a,i,o,r,(function(){if(!this.timers)return h;clearTimeout(this.timers.show)})),(e.show.ready||e.prerender)&&r.call(this,t)},s._assignEvents=function(){var i=this,s=this.options,a=s.position,r=this.tooltip,l=s.show.target,c=s.hide.target,u=a.container,d=a.viewport,p=n(e),f=(n(e.body),n(t)),m=s.show.event?n.trim(""+s.show.event).split(" "):[],_=s.hide.event?n.trim(""+s.hide.event).split(" "):[];n.each(s.events,(function(t,e){i._bind(r,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,r)})),/mouse(out|leave)/i.test(s.hide.event)&&"window"===s.hide.leave&&this._bind(p,["mouseout","blur"],(function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)})),s.hide.fixed?c=c.add(r.addClass(P)):/mouse(over|enter)/i.test(s.show.event)&&this._bind(c,"mouseleave",(function(){clearTimeout(this.timers.show)})),(""+s.hide.event).indexOf("unfocus")>-1&&this._bind(u.closest("html"),["mousedown","touchstart"],(function(t){var e=n(t.target),i=this.rendered&&!this.tooltip.hasClass(E)&&this.tooltip[0].offsetWidth>0,o=e.parents(C).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||o||this.target.has(e[0]).length||!i||this.hide(t)})),"number"==typeof s.hide.inactive&&(this._bind(l,"qtip-"+this.id+"-inactive",G,"inactive"),this._bind(c.add(r),o.inactiveEvents,G)),this._bindEvents(m,_,l,c,K,V),this._bind(l.add(r),"mousemove",(function(t){if("number"==typeof s.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(t.pageX-e.pageX)>=i||n(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)})),"mouse"===a.target&&a.adjust.mouse&&(s.hide.event&&this._bind(l,["mouseenter","mouseleave"],(function(t){if(!this.cache)return h;this.cache.onTarget="mouseenter"===t.type})),this._bind(p,"mousemove",(function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(E)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}))),(a.adjust.resize||d.length)&&this._bind(n.event.special.resize?d:f,"resize",X),a.adjust.scroll&&this._bind(f.add(a.container),"scroll",X)},s._unassignEvents=function(){var i=this.options,o=i.show.target,s=i.hide.target,a=n.grep([this.elements.target[0],this.rendered&&this.tooltip[0],i.position.container[0],i.position.viewport[0],i.position.container.closest("html")[0],t,e],(function(t){return"object"==typeof t}));o&&o.toArray&&(a=a.concat(o.toArray())),s&&s.toArray&&(a=a.concat(s.toArray())),this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")},n((function(){Y(C,["mouseenter","mouseleave"],(function(t){var e="mouseenter"===t.type,i=n(t.currentTarget),o=n(t.relatedTarget||t.target),s=this.options;e?(this.focus(t),i.hasClass(P)&&!i.hasClass(E)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.position.adjust.mouse&&s.hide.event&&s.show.target&&!o.closest(s.show.target[0]).length&&this.hide(t),i.toggleClass(A,e)})),Y("["+S+"]",k,G)})),o=n.fn.qtip=function(t,e,s){var a=(""+t).toLowerCase(),r=u,l=n.makeArray(arguments).slice(1),d=l[l.length-1],p=this[0]?n.data(this[0],w):u;return!arguments.length&&p||"api"===a?p:"string"==typeof t?(this.each((function(){var t=n.data(this,w);if(!t)return c;if(d&&d.timeStamp&&(t.cache.event=d),!e||"option"!==a&&"options"!==a)t[a]&&t[a].apply(t,l);else{if(s===i&&!n.isPlainObject(e))return r=t.get(e),h;t.set(e,s)}})),r!==u?r:this):"object"!=typeof t&&arguments.length?void 0:(p=z(n.extend(c,{},t)),this.each((function(t){var e,i;if(i=!(i=n.isArray(p.id)?p.id[t]:p.id)||i===h||i.length<1||o.api[i]?o.nextid++:i,(e=J(n(this),i,p))===h)return c;o.api[i]=e,n.each(b,(function(){"initialize"===this.initialize&&this(e)})),e._assignInitialEvents(d)})))},n.qtip=N,o.api={},n.each({attr:function(t,e){if(this.length){var i=this[0],o="title",s=n.data(i,"qtip");if(t===o&&s&&"object"==typeof s&&s.options.suppress)return arguments.length<2?n.attr(i,M):(s&&s.options.content.attr===o&&s.cache.attr&&s.set("content.text",e),this.attr(M,e))}return n.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(t){n([]);var e=n.fn.clone_replacedByqTip.apply(this,arguments);return t||e.filter("[oldtitle]").attr("title",(function(){return n.attr(this,M)})).removeAttr(M),e}},(function(t,e){if(!e||n.fn[t+I])return c;var i=n.fn[t+I]=n.fn[t];n.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}})),n.ui||(n.cleanData_replacedByqTip=n.cleanData,n.cleanData=function(t){for(var e,i=0;(e=n(t[i])).length;i++)if(e.attr(x))try{e.triggerHandler("removeqtip")}catch(t){}n.cleanData_replacedByqTip.apply(this,arguments)}),o.version="2.2.1",o.nextid=0,o.inactiveEvents=k,o.zindex=15e3,o.defaults={prerender:h,id:h,overwrite:c,suppress:c,content:{text:c,attr:"title",title:h,button:h},position:{my:"top left",at:"bottom right",target:h,container:h,viewport:h,adjust:{x:0,y:0,mouse:c,scroll:c,resize:c,method:"flipinvert flipinvert"},effect:function(t,e,i){n(this).animate(e,{duration:200,queue:h})}},show:{target:h,event:"mouseenter",effect:c,delay:90,solo:h,ready:h,autofocus:h},hide:{target:h,event:"mouseleave",effect:c,delay:0,fixed:h,inactive:h,leave:"window",distance:h},style:{classes:"",widget:h,width:h,height:h,def:c},events:{render:u,move:u,show:u,hide:u,toggle:u,visible:u,hidden:u,focus:u,blur:u}},b.viewport=function(i,n,o,s,a,r,l){var c,u,b,w,x,S,T,C,k=o.target,P=i.elements.tooltip,L=o.my,D=o.at,A=o.adjust,E=A.method.split(" "),I=E[0],M=E[1]||E[0],$=o.viewport,O=o.container,N=(i.cache,{left:0,top:0});if(!$.jquery||k[0]===t||k[0]===e.body||"none"===A.method)return N;function B(t,e,i,o,s,a,r,l,c){var h=n[s],d=L[t],f=D[t],m="shift"===i,_=d===s?c:d===a?-c:-c/2,g=f===s?l:f===a?-l:-l/2,v=T[s]+C[s]-(w?0:b[s]),k=v-h,P=h+c-(r===p?x:S)-v,A=_-(L.precedance===t||d===L[e]?g:0)-(f===y?l/2:0);return m?(A=(d===s?1:-1)*_,n[s]+=k>0?k:P>0?-P:0,n[s]=Math.max(-b[s]+C[s],h-A,Math.min(Math.max(-b[s]+C[s]+(r===p?x:S),h+A),n[s],"center"===d?h-_:1e9))):(o*="flipinvert"===i?2:0,k>0&&(d!==s||P>0)?(n[s]-=A+o,u.invert(t,s)):P>0&&(d!==a||k>0)&&(n[s]-=(d===y?-A:A)+o,u.invert(t,a)),n[s]<T&&-n[s]>P&&(n[s]=h,u=L.clone())),n[s]-h}return b=O.offset()||N,w="static"===O.css("position"),c="fixed"===P.css("position"),x=$[0]===t?$.width():$.outerWidth(h),S=$[0]===t?$.height():$.outerHeight(h),T={left:c?0:$.scrollLeft(),top:c?0:$.scrollTop()},C=$[0]!==t&&$.offset()||N,"shift"===I&&"shift"===M||(u=L.clone()),N={left:"none"!==I?B("x",d,I,A.x,_,v,p,s,r):0,top:"none"!==M?B(d,"x",M,A.y,m,g,f,a,l):0,my:u}};function Q(t,e){this._ns="ie6",this.init(this.qtip=t)}n.extend(Q.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=n(t).scrollTop()+"px")},init:function(i){var o=i.tooltip;n("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=n('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(o),i._bind(o,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=n("<div/>",{id:w+"-rcontainer"}).appendTo(e.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(t,["scroll","resize"],this._scroll,this._ns,this),i._bind(o,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,i=this.qtip.tooltip,n={height:i.outerHeight(h),width:i.outerWidth(h)},o=this.qtip.plugins.tip,s=this.qtip.elements.tip;e={left:-(e=parseInt(i.css("borderLeftWidth"),10)||0),top:-e},o&&s&&(e[(t="x"===o.corner.precedance?[p,_]:[f,m])[1]]-=s[t[0]]()),this.bgiframe.css(e).css(n)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var t,e,i,n,o=this.qtip.tooltip,s=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,s.height&&o.css(f,s.height),s.width?o.css(p,s.width):(o.css(p,"").appendTo(this.redrawContainer),(e=o.width())%2<1&&(e+=1),t=((i=o.css("maxWidth")||"")+(n=o.css("minWidth")||"")).indexOf("%")>-1?a.width()/100:0,e=(i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||e)+(n=(n.indexOf("%")>-1?t:1)*parseInt(n,10)||0)?Math.min(Math.max(e,n),i):e,o.css(p,Math.round(e)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),(b.ie6=function(t){return 6===$?new Q(t):h}).initialize="render",r.ie6={"^content|style$":function(){this.redraw()}}}))}(window,document),
/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],(function(i){return t.Bloodhound=e(i)})):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,(function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){t.each(e,(function(t,e){return i(e,t)}))},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,(function(t,o){if(!(n=i.call(null,o,t,e)))return!1})),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,(function(t,o){if(n=i.call(null,o,t,e))return!1})),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,o;return function(){var s,a,r=this,l=arguments;return s=function(){n=null,i||(o=t.apply(r,l))},a=i&&!n,clearTimeout(n),n=setTimeout(s,e),a&&(o=t.apply(r,l)),o}},throttle:function(t,e){var i,n,o,s,a,r;return a=0,r=function(){a=new Date,o=null,s=t.apply(i,n)},function(){var l=new Date,c=e-(l-a);return i=this,n=arguments,c<=0?(clearTimeout(o),o=null,a=l,s=t.apply(i,n)):o||(o=setTimeout(r,c)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}};function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function i(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var o=[];return e.each(i,(function(i){o=o.concat(t(e.toStr(n[i])))})),o}}}}(),o=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function o(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new o(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),s=function(){"use strict";var i;try{(i=window.localStorage).setItem("~~~","!"),i.removeItem("~~~")}catch(t){i=null}function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||i,!this.ls&&this._noop()}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),a(this.ls.getItem(this._prefix(t)))},set:function(t,i,n){return e.isNumber(n)?this._safeSet(this._ttlKey(t),s(o()+n)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),s(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=function(t){var e,n,o=[],s=i.length;for(e=0;e<s;e++)(n=i.key(e)).match(t)&&o.push(n.replace(t,""));return o}(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=a(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&o()>i)}}),n;function o(){return(new Date).getTime()}function s(t){return JSON.stringify(e.isUndefined(t)?null:t)}function a(e){return t.parseJSON(e)}}(),a=function(){"use strict";var i=0,n={},s=6,a=new o(10);function r(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new o(0):a}return r.setMaxPendingRequests=function(t){s=t},r.resetCache=function(){a.reset()},e.mixin(r.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){var o,a,r=this;function l(t){e(null,t),r._cache.set(o,t)}function c(){e(!0)}function h(){i--,delete n[o],r.onDeckRequestArgs&&(r._get.apply(r,r.onDeckRequestArgs),r.onDeckRequestArgs=null)}o=this._fingerprint(t),this.cancelled||o!==this.lastReq||((a=n[o])?a.done(l).fail(c):i<s?(i++,n[o]=this._send(t).done(l).fail(c).always(h)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var o,s;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},s=this._fingerprint(i),this.cancelled=!1,this.lastReq=s,(o=this._cache.get(s))?n(null,o):this._get(i,n)},cancel:function(){this.cancelled=!0}}),r}(),r=window.SearchIndex=function(){"use strict";function i(i){(i=i||{}).datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,(function(t){var s,a;i.datums[s=i.identify(t)]=t,a=n(i.datumTokenizer(t)),e.each(a,(function(t){var e,n,a;for(e=i.trie,n=t.split("");a=n.shift();)(e=e.c[a]||(e.c[a]=o())).i.push(s)}))}))},get:function(t){var i=this;return e.map(t,(function(t){return i.datums[t]}))},search:function(t){var i,o,s=this;return i=n(this.queryTokenizer(t)),e.each(i,(function(t){var e,i,n,a;if(o&&0===o.length)return!1;for(e=s.trie,i=t.split("");e&&(n=i.shift());)e=e.c[n];if(!e||0!==i.length)return o=[],!1;a=e.i.slice(0),o=o?function(t,e){var i=0,n=0,o=[];t=t.sort(),e=e.sort();var s=t.length,a=e.length;for(;i<s&&n<a;)t[i]<e[n]?i++:(t[i]>e[n]||(o.push(t[i]),i++),n++);return o}(o,a):a})),o?e.map(function(t){for(var e={},i=[],n=0,o=t.length;n<o;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}(o),(function(t){return s.datums[t]})):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=o()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i;function n(t){return t=e.filter(t,(function(t){return!!t})),t=e.map(t,(function(t){return t.toLowerCase()}))}function o(){var t={i:[],c:{}};return t}}(),l=function(){"use strict";var t;function i(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new s(t.cacheKey)}return t={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(i.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(t.data,e,this.ttl),this.storage.set(t.protocol,location.protocol,this.ttl),this.storage.set(t.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,i={};return this.cache?(i.data=this.storage.get(t.data),i.protocol=this.storage.get(t.protocol),i.thumbprint=this.storage.get(t.thumbprint),e=i.thumbprint!==this.thumbprint||i.protocol!==location.protocol,i.data&&!e?i.data:null):null},fromNetwork:function(t){var e,i=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail((function(){t(!0)})).done((function(e){t(null,i.transform(e))})))},clear:function(){return this.storage.clear(),this}}),i}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new a({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){var i,n=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,(function(t,i){e(t?[]:n.transform(i))}))},cancelLastRequest:function(){this.transport.cancel()}}),t}(),h=function(){"use strict";return function(o){var s,a;return s={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(o=e.mixin(s,o||{})).datumTokenizer&&t.error("datumTokenizer is required"),!o.queryTokenizer&&t.error("queryTokenizer is required"),a=o.sorter,o.sorter=a?function(t){return t.sort(a)}:e.identity,o.local=e.isFunction(o.local)?o.local():o.local,o.prefetch=function(o){var s;if(!o)return null;return s={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},o=e.isString(o)?{url:o}:o,!(o=e.mixin(s,o)).url&&t.error("prefetch requires url to be set"),o.transform=o.filter||o.transform,o.cacheKey=o.cacheKey||o.url,o.thumbprint=i+o.thumbprint,o.transport=o.transport?n(o.transport):t.ajax,o}(o.prefetch),o.remote=function(i){var o;if(!i)return;return o={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,!(i=e.mixin(o,i)).url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=function(t){var e,i,n;if(e=t.prepare,i=t.replace,n=t.wildcard,e)return e;e=i?o:t.wildcard?s:a;return e;function o(t,e){return e.url=i(e.url,t),e}function s(t,e){return e.url=e.url.replace(n,encodeURIComponent(t)),e}function a(t,e){return e}}(i),i.limiter=function(t){var i,n,o;i=t.limiter,n=t.rateLimitBy,o=t.rateLimitWait,i||(i=/^throttle$/i.test(n)?a(o):s(o));return i;function s(t){return function(i){return e.debounce(i,t)}}function a(t){return function(i){return e.throttle(i,t)}}}(i),i.transport=i.transport?n(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}(o.remote),o};function n(i){return function(n){var o=t.Deferred();return i(n,(function(t){e.defer((function(){o.resolve(t)}))}),(function(t){e.defer((function(){o.reject(t)}))})),o}}}(),u=function(){"use strict";var i;function o(t){t=h(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new r({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}return i=window&&window.Bloodhound,o.noConflict=function(){return window&&(window.Bloodhound=i),o},o.tokenizers=n,e.mixin(o.prototype,{__ttAdapter:function(){var t=this;return this.remote?function(e,i,n){return t.search(e,i,n)}:function(e,i){return t.search(e,i)}},_loadPrefetch:function(){var e,i,n=this;return e=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),e.resolve()):this.prefetch.fromNetwork((function(t,i){if(t)return e.reject();n.add(i),n.prefetch.store(n.index.serialize()),e.resolve()})):e.resolve(),e.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done((function(){t.add(t.local)})),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){var o,s=this;return o=this.sorter(this.index.search(t)),i(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,(function(t){var i=[];e.each(t,(function(t){!e.some(o,(function(e){return s.identify(t)===s.identify(e)}))&&i.push(t)})),n&&n(i)})):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return a.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),o}();return u})),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],(function(t){return e(t)})):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,(function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){t.each(e,(function(t,e){return i(e,t)}))},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,(function(t,o){if(!(n=i.call(null,o,t,e)))return!1})),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,(function(t,o){if(n=i.call(null,o,t,e))return!1})),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,o;return function(){var s,a,r=this,l=arguments;return s=function(){n=null,i||(o=t.apply(r,l))},a=i&&!n,clearTimeout(n),n=setTimeout(s,e),a&&(o=t.apply(r,l)),o}},throttle:function(t,e){var i,n,o,s,a,r;return a=0,r=function(){a=new Date,o=null,s=t.apply(i,n)},function(){var l=new Date,c=e-(l-a);return i=this,n=arguments,c<=0?(clearTimeout(o),o=null,a=l,s=t.apply(i,n)):o||(o=setTimeout(r,c)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";var t={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(s){var a,r;return r=e.mixin({},t,s),{css:(a={css:o(),classes:r,html:i(r),selectors:n(r)}).css,html:a.html,classes:a.classes,selectors:a.selectors,mixin:function(t){e.mixin(t,a)}}};function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,(function(t,e){i[e]="."+t})),i}function o(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}}(),n=function(){"use strict";var i;function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}return"typeahead:",i={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,i){var n;return n=t.Event("typeahead:"+e),(i=i||[]).unshift(n),this.$el.trigger.apply(this.$el,i),n},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=i[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),o=function(){"use strict";var t=/\s+/,e=function(){var t;t=window.setImmediate?function(t){setImmediate((function(){t()}))}:function(t){setTimeout((function(){t()}),0)};return t}();return{onSync:function(t,e,n){return i.call(this,"sync",t,e,n)},onAsync:function(t,e,n){return i.call(this,"async",t,e,n)},off:function(e){var i;if(!this._callbacks)return this;e=e.split(t);for(;i=e.shift();)delete this._callbacks[i];return this},trigger:function(i){var o,s,a,r,l;if(!this._callbacks)return this;i=i.split(t),a=[].slice.call(arguments,1);for(;(o=i.shift())&&(s=this._callbacks[o]);)r=n(s.sync,this,[o].concat(a)),l=n(s.async,this,[o].concat(a)),r()&&e(l);return this}};function i(e,i,n,o){var s;if(!n)return this;for(i=i.split(t),n=o?function(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}(n,o):n,this._callbacks=this._callbacks||{};s=i.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][e].push(n);return this}function n(t,e,i){return function(){for(var n,o=0,s=t.length;!n&&o<s;o+=1)n=!1===t[o].apply(e,i);return!n}}}(),s=function(t){"use strict";var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(n){var o;(n=e.mixin({},i,n)).node&&n.pattern&&(n.pattern=e.isArray(n.pattern)?n.pattern:[n.pattern],o=function(t,i,n){for(var o,s=[],a=0,r=t.length;a<r;a++)s.push(e.escapeRegExChars(t[a]));return o=n?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",i?new RegExp(o):new RegExp(o,"i")}(n.pattern,n.caseSensitive,n.wordsOnly),function t(e,i){for(var n,o=0;o<e.childNodes.length;o++)3===(n=e.childNodes[o]).nodeType?o+=i(n)?1:0:t(n,i)}(n.node,(function(e){var i,s,a;(i=o.exec(e.data))&&(a=t.createElement(n.tagName),n.className&&(a.className=n.className),(s=e.splitText(i.index)).splitText(i[0].length),a.appendChild(s.cloneNode(!0)),e.parentNode.replaceChild(a,s));return!!i})))}}(window.document),a=function(){"use strict";var i;function n(i,n){var o;(i=i||{}).input||t.error("input is missing"),n.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=(o=this.$input,t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:o.css("font-family"),fontSize:o.css("font-size"),fontStyle:o.css("font-style"),fontVariant:o.css("font-variant"),fontWeight:o.css("font-weight"),wordSpacing:o.css("word-spacing"),letterSpacing:o.css("letter-spacing"),textIndent:o.css("text-indent"),textRendering:o.css("text-rendering"),textTransform:o.css("text-transform")}).insertAfter(o)),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}return i={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=i[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!s(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;if("tab"===t)i=!s(e);else i=!0;return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,o,s,a;s=t,a=this.query,o=!!(i=n.normalizeQuery(s)===n.normalizeQuery(a))&&this.query.length!==t.length,this.query=t,e||i?!e&&o&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,o,s,a=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),o=e.bind(this._onKeydown,this),s=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",o),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",s):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",(function(t){i[t.which||t.keyCode]||e.defer(e.bind(a._onInput,a,t))})),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i;i=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n;function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}}(),r=function(){"use strict";var i,n;function a(i,o){var s;(i=i||{}).templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&(s=i.name,!/^[_a-zA-Z0-9-]+$/.test(s))&&t.error("invalid dataset name: "+i.name),o.mixin(this),this.highlight=!!i.highlight,this.name=i.name||n(),this.limit=i.limit||5,this.displayFn=function(t){return t=t||e.stringify,e.isFunction(t)?t:i;function i(e){return e[t]}}(i.display||i.displayKey),this.templates=function(i,n){return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||o};function o(e){return t("<div>").text(n(e))}}(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return i={val:"tt-selectable-display",obj:"tt-selectable-object"},n=e.getIdGenerator(),a.extractData=function(e){var n=t(e);return n.data(i.obj)?{val:n.data(i.val)||"",obj:n.data(i.obj)||null}:null},e.mixin(a.prototype,o,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;n=(i=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,o){var a,r=this;return a=document.createDocumentFragment(),e.each(o,(function(e){var o,s;s=r._injectQuery(n,e),o=t(r.templates.suggestion(s)).data(i.obj,e).data(i.val,r.displayFn(e)).addClass(r.classes.suggestion+" "+r.classes.selectable),a.appendChild(o[0])})),this.highlight&&s({className:this.classes.highlight,node:a,pattern:n}),t(a)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){var i=this,n=!1,o=!1,s=0;function a(t){o||(o=!0,t=(t||[]).slice(0,i.limit),s=t.length,i._overwrite(e,t),s<i.limit&&i.async&&i.trigger("asyncRequested",e))}this.cancel(),this.cancel=function(){n=!0,i.cancel=t.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,a,(function(o){o=o||[],!n&&s<i.limit&&(i.cancel=t.noop,s+=o.length,i._append(e,o.slice(0,i.limit-s)),i.async&&i.trigger("asyncReceived",e))})),!o&&a([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),a}(),l=function(){"use strict";function i(i,n){var o=this;(i=i||{}).node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,(function(e){var i=o.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(o.$node),new r(e,n)}))}return e.mixin(i.prototype,o,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,(function(t){return t.isEmpty()}))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,o;i=(e=t.position().top)+t.outerHeight(!0),n=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(n+e):o<i&&this.$node.scrollTop(n+(i-o))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,(function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)})),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n;return i=this.getActiveSelectable(),e=this._getSelectables(),-1===(n=(n=((n=(i?e.index(i):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:n)?null:e.eq(n)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?r.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,(function(e){e.update(t)}))),i},empty:function(){e.each(this.datasets,(function(t){t.clear()})),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,(function(t){t.destroy()}))}}),i}(),c=function(){"use strict";var t=l.prototype;function i(){l.apply(this,[].slice.call(arguments,0))}return e.mixin(i.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),t.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),i}(),h=function(){"use strict";function i(i,o){var s,a,r,l,c,h,u,d,p,f,m;(i=i||{}).input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),o.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),s=n(this,"activate","open","_onFocused"),a=n(this,"deactivate","_onBlurred"),r=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),h=n(this,"isActive","open","_onUpKeyed"),u=n(this,"isActive","open","_onDownKeyed"),d=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),f=n(this,"_openIfActive","_onQueryChanged"),m=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",s,this).onSync("blurred",a,this).onSync("enterKeyed",r,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",h,this).onSync("downKeyed",u,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",(function(t){var o,s,a;o=document.activeElement,s=n.is(o),a=n.has(o).length>0,e.isMsie()&&(s||a)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer((function(){i.focus()})))})),n.on("mousedown.tt",(function(t){t.preventDefault()}))},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,i,n,o,s,r;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(o=a.normalizeQuery(n),s=e.escapeRegExChars(o),(r=new RegExp("^(?:"+s+")(.+$)","i").exec(i.val))&&this.input.setHint(n+r[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,i;return e=this.input.getQuery(),!(!((i=this.menu.getSelectableData(t))&&e!==i.val)||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(t){var e,i,n,o;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),o=(n=this.menu.getSelectableData(i))?n.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",o)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i;function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,(function(e){return t[e].apply(t,n)}))}}}();!function(){"use strict";var o,s,r;function u(e,i){e.each((function(){var e,n=t(this);(e=n.data(s.typeahead))&&i(e,n)}))}function d(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css((i=t,{backgroundAttachment:i.css("background-attachment"),backgroundClip:i.css("background-clip"),backgroundColor:i.css("background-color"),backgroundImage:i.css("background-image"),backgroundOrigin:i.css("background-origin"),backgroundPosition:i.css("background-position"),backgroundRepeat:i.css("background-repeat"),backgroundSize:i.css("background-size")})).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1});var i}function p(t,e){t.data(s.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function f(i){var n;return(n=e.isJQuery(i)||e.isElement(i)?t(i).first():[]).length?n:null}o=t.fn.typeahead,s={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},r={initialize:function(o,r){var u;return r=e.isArray(r)?r:[].slice.call(arguments,1),u=i((o=o||{}).classNames),this.each(m);function m(){var i,m,_,g,v,y,b,w,x,S,T;e.each(r,(function(t){t.highlight=!!o.highlight})),i=t(this),m=t(u.html.wrapper),_=f(o.hint),g=f(o.menu),v=!1!==o.hint&&!_,y=!1!==o.menu&&!g,v&&(_=d(i,u)),y&&(g=t(u.html.menu).css(u.css.menu)),_&&_.val(""),i=p(i,u),(v||y)&&(m.css(u.css.wrapper),i.css(v?u.css.input:u.css.inputWithNoHint),i.wrap(m).parent().prepend(v?_:null).append(y?g:null)),T=y?c:l,b=new n({el:i}),w=new a({hint:_,input:i},u),x=new T({node:g,datasets:r},u),S=new h({input:w,menu:x,eventBus:b,minLength:o.minLength},u),i.data(s.www,u),i.data(s.typeahead,S)}},isEnabled:function(){var t;return u(this.first(),(function(e){t=e.isEnabled()})),t},enable:function(){return u(this,(function(t){t.enable()})),this},disable:function(){return u(this,(function(t){t.disable()})),this},isActive:function(){var t;return u(this.first(),(function(e){t=e.isActive()})),t},activate:function(){return u(this,(function(t){t.activate()})),this},deactivate:function(){return u(this,(function(t){t.deactivate()})),this},isOpen:function(){var t;return u(this.first(),(function(e){t=e.isOpen()})),t},open:function(){return u(this,(function(t){t.open()})),this},close:function(){return u(this,(function(t){t.close()})),this},select:function(e){var i=!1,n=t(e);return u(this.first(),(function(t){i=t.select(n)})),i},autocomplete:function(e){var i=!1,n=t(e);return u(this.first(),(function(t){i=t.autocomplete(n)})),i},moveCursor:function(t){var e=!1;return u(this.first(),(function(i){e=i.moveCursor(t)})),e},val:function(t){var e;return arguments.length?(u(this,(function(e){e.setVal(t)})),this):(u(this.first(),(function(t){e=t.getVal()})),e)},destroy:function(){return u(this,(function(t,i){!function(t){var i,n;i=t.data(s.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(s.attrs),(function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)})),t.removeData(s.typeahead).removeData(s.www).removeData(s.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}(i),t.destroy()})),this}},t.fn.typeahead=function(t){return r[t]?r[t].apply(this,[].slice.call(arguments,1)):r.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=o,this}}()})),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,(function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(){var t=d();return t.compile=function(e,i){return l.compile(e,i,t)},t.precompile=function(e,i){return l.precompile(e,i,t)},t.AST=a.default,t.Compiler=l.Compiler,t.JavaScriptCompiler=c.default,t.Parser=r.parser,t.parse=r.parse,t.parseWithoutProcessing=r.parseWithoutProcessing,t}var o=i(1).default;e.__esModule=!0;var s=o(i(2)),a=o(i(45)),r=i(46),l=i(51),c=o(i(52)),h=o(i(49)),u=o(i(44)),d=s.default.create,p=n();p.create=n,u.default(p),p.Visitor=h.default,p.default=p,e.default=p,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,i){"use strict";function n(){var t=new a.HandlebarsEnvironment;return c.extend(t,a),t.SafeString=r.default,t.Exception=l.default,t.Utils=c,t.escapeExpression=c.escapeExpression,t.VM=h,t.template=function(e){return h.template(e,t)},t}var o=i(3).default,s=i(1).default;e.__esModule=!0;var a=o(i(4)),r=s(i(37)),l=s(i(6)),c=o(i(5)),h=o(i(38)),u=s(i(44)),d=n();d.create=n,u.default(d),d.default=d,e.default=d,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e},e.__esModule=!0},function(t,e,i){"use strict";function n(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},r.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var o=i(1).default;e.__esModule=!0,e.HandlebarsEnvironment=n;var s=i(5),a=o(i(6)),r=i(10),l=i(30),c=o(i(32)),h=i(33);e.VERSION="4.7.7";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var u="[object Object]";n.prototype={constructor:n,logger:c.default,log:c.default.log,registerHelper:function(t,e){if(s.toString.call(t)===u){if(e)throw new a.default("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(s.toString.call(t)===u)s.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(s.toString.call(t)===u){if(e)throw new a.default("Arg not supported with multiple decorators");s.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){h.resetLoggedProperties()}};var d=c.default.log;e.log=d,e.createFrame=s.createFrame,e.logger=c.default},function(t,e){"use strict";function i(t){return o[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}e.__esModule=!0,e.extend=n,e.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return a.test(t)?t.replace(s,i):t},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=n({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},s=/[&<>"'`=]/g,a=/[&<>"'`=]/,r=Object.prototype.toString;e.toString=r;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===r.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===r.call(t)};e.isArray=c},function(t,e,i){"use strict";function n(t,e){var i=e&&e.loc,a=void 0,r=void 0,l=void 0,c=void 0;i&&(a=i.start.line,r=i.end.line,l=i.start.column,c=i.end.column,t+=" - "+a+":"+l);for(var h=Error.prototype.constructor.call(this,t),u=0;u<s.length;u++)this[s[u]]=h[s[u]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{i&&(this.lineNumber=a,this.endLineNumber=r,o?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:c,enumerable:!0})):(this.column=l,this.endColumn=c))}catch(t){}}var o=i(7).default;e.__esModule=!0;var s=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];n.prototype=new Error,e.default=n,t.exports=e.default},function(t,e,i){t.exports={default:i(8),__esModule:!0}},function(t,e,i){var n=i(9);t.exports=function(t,e,i){return n.setDesc(t,e,i)}},function(t,e){var i=Object;t.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),s.default(t),a.default(t),r.default(t),l.default(t),c.default(t),h.default(t)},e.moveHelperToHooks=function(t,e,i){t.helpers[e]&&(t.hooks[e]=t.helpers[e],i||delete t.helpers[e])};var o=n(i(11)),s=n(i(12)),a=n(i(25)),r=n(i(26)),l=n(i(27)),c=n(i(28)),h=n(i(29))},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,i){var o=i.inverse,s=i.fn;if(!0===e)return s(this);if(!1===e||null==e)return o(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):o(this);if(i.data&&i.ids){var a=n.createFrame(i.data);a.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:a}}return s(e,i)}))},t.exports=e.default},function(t,e,i){(function(n){"use strict";var o=i(13).default,s=i(1).default;e.__esModule=!0;var a=i(5),r=s(i(6));e.default=function(t){t.registerHelper("each",(function(t,e){function i(e,i,n){u&&(u.key=e,u.index=i,u.first=0===i,u.last=!!n,d&&(u.contextPath=d+e)),h+=s(t[e],{data:u,blockParams:a.blockParams([t[e],e],[d+e,null])})}if(!e)throw new r.default("Must pass iterator to #each");var s=e.fn,l=e.inverse,c=0,h="",u=void 0,d=void 0;if(e.data&&e.ids&&(d=a.appendContextPath(e.data.contextPath,e.ids[0])+"."),a.isFunction(t)&&(t=t.call(this)),e.data&&(u=a.createFrame(e.data)),t&&"object"==typeof t)if(a.isArray(t))for(var p=t.length;c<p;c++)c in t&&i(c,c,c===t.length-1);else if(n.Symbol&&t[n.Symbol.iterator]){for(var f=[],m=t[n.Symbol.iterator](),_=m.next();!_.done;_=m.next())f.push(_.value);for(p=(t=f).length;c<p;c++)i(c,c,c===t.length-1)}else!function(){var e=void 0;o(t).forEach((function(t){void 0!==e&&i(e,c-1),e=t,c++})),void 0!==e&&i(e,c-1,!0)}();return 0===c&&(h=l(this)),h}))},t.exports=e.default}).call(e,function(){return this}())},function(t,e,i){t.exports={default:i(14),__esModule:!0}},function(t,e,i){i(15),t.exports=i(21).Object.keys},function(t,e,i){var n=i(16);i(18)("keys",(function(t){return function(e){return t(n(e))}}))},function(t,e,i){var n=i(17);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(19),o=i(21),s=i(24);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*s((function(){i(1)})),"Object",a)}},function(t,e,i){var n=i(20),o=i(21),s=i(22),a="prototype",r=function(t,e,i){var l,c,h,u=t&r.F,d=t&r.G,p=t&r.S,f=t&r.P,m=t&r.B,_=t&r.W,g=d?o:o[e]||(o[e]={}),v=d?n:p?n[e]:(n[e]||{})[a];for(l in d&&(i=e),i)(c=!u&&v&&l in v)&&l in g||(h=c?v[l]:i[l],g[l]=d&&"function"!=typeof v[l]?i[l]:m&&c?s(h,n):_&&v[l]==h?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[a]=t[a],e}(h):f&&"function"==typeof h?s(Function.call,h):h,f&&((g[a]||(g[a]={}))[l]=h))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,t.exports=r},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(23);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0;var o=n(i(6));e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0;var o=i(5),s=n(i(6));e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new s.default("#if requires exactly one argument");return o.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,i){if(2!=arguments.length)throw new s.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),e[0]=o,t.log.apply(t,e)}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,i){return t?i.lookupProperty(t,e):t}))},t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0;var o=i(5),s=n(i(6));e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");o.isFunction(t)&&(t=t.call(this));var i=e.fn;if(o.isEmpty(t))return e.inverse(this);var n=e.data;return e.data&&e.ids&&((n=o.createFrame(e.data)).contextPath=o.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:n,blockParams:o.blockParams([t],[n&&n.contextPath])})}))},t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){o.default(t)};var o=n(i(31))},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e.default=function(t){t.registerDecorator("inline",(function(t,e,i,o){var s=t;return e.partials||(e.partials={},s=function(o,s){var a=i.partials;i.partials=n.extend({},a,e.partials);var r=t(o,s);return i.partials=a,r}),e.partials[o.args[0]]=o.fn,s}))},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];console[e].apply(console,n)}}};e.default=o,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==c[t]&&(c[t]=!0,l.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}var o=i(34).default,s=i(13).default,a=i(3).default;e.__esModule=!0,e.createProtoAccessControl=function(t){var e=o(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var i=o(null);return i.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(i,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,i){return n("function"==typeof t?e.methods:e.properties,i)},e.resetLoggedProperties=function(){s(c).forEach((function(t){delete c[t]}))};var r=i(36),l=a(i(32)),c=o(null)},function(t,e,i){t.exports={default:i(35),__esModule:!0}},function(t,e,i){var n=i(9);t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){"use strict";var n=i(34).default;e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return o.extend.apply(void 0,[n(null)].concat(e))};var o=i(5)},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},function(t,e,i){"use strict";function n(t,e,i,n,o,s,r){function l(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=r;return!r||e==r[0]||e===t.nullContext&&null===r[0]||(a=[e].concat(r)),i(t,e,t.helpers,t.partials,o.data||n,s&&[o.blockParams].concat(s),a)}return(l=a(i,l,t,r,n,s)).program=e,l.depth=r?r.length:0,l.blockParams=o||0,l}function o(){return""}function s(t,e){return e&&"root"in e||((e=e?p.createFrame(e):{}).root=t),e}function a(t,e,i,n,o,s){if(t.decorator){var a={};e=t.decorator(e,a,i,n&&n[0],o,s,n),u.extend(e,a)}return e}var r=i(39).default,l=i(13).default,c=i(3).default,h=i(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,i=p.COMPILER_REVISION;if(!(e>=p.LAST_COMPATIBLE_COMPILER_REVISION&&e<=p.COMPILER_REVISION)){if(e<p.LAST_COMPATIBLE_COMPILER_REVISION){var n=p.REVISION_CHANGES[i],o=p.REVISION_CHANGES[e];throw new d.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new d.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){function i(e){function n(e){return""+t.main(c,e,c.helpers,c.partials,r,h,l)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=o.data;i._setup(o),!o.partial&&t.useData&&(r=s(e,r));var l=void 0,h=t.useBlockParams?[]:void 0;return t.useDepths&&(l=o.depths?e!=o.depths[0]?[e].concat(o.depths):o.depths:[e]),(n=a(t.main,n,c,o.depths||[],r,h))(e,o)}if(!e)throw new d.default("No environment passed to template");if(!t||!t.main)throw new d.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var o=t.compiler&&7===t.compiler[0],c={strict:function(t,e,i){if(!t||!(e in t))throw new d.default('"'+e+'" not defined in '+t,{loc:i});return c.lookupProperty(t,e)},lookupProperty:function(t,e){var i=t[e];return null==i||Object.prototype.hasOwnProperty.call(t,e)||_.resultIsAllowed(i,c.protoAccessControl,e)?i:void 0},lookup:function(t,e){for(var i=t.length,n=0;n<i;n++){if(null!=(t[n]&&c.lookupProperty(t[n],e)))return t[n][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:u.escapeExpression,invokePartial:function(i,n,o){o.hash&&(n=u.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,o);var s=u.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),a=e.VM.invokePartial.call(this,i,n,s);if(null==a&&e.compile&&(o.partials[o.name]=e.compile(i,t.compilerOptions,e),a=o.partials[o.name](n,s)),null!=a){if(o.indent){for(var r=a.split("\n"),l=0,c=r.length;l<c&&(r[l]||l+1!==c);l++)r[l]=o.indent+r[l];a=r.join("\n")}return a}throw new d.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,o,s){var a=this.programs[t],r=this.fn(t);return e||s||o||i?a=n(this,t,r,e,i,o,s):a||(a=this.programs[t]=n(this,t,r)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=u.extend({},e,t)),i},nullContext:r({}),noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(i){if(i.partial)c.protoAccessControl=i.protoAccessControl,c.helpers=i.helpers,c.partials=i.partials,c.decorators=i.decorators,c.hooks=i.hooks;else{var n=u.extend({},e.helpers,i.helpers);(function(t,e){l(t).forEach((function(i){var n=t[i];t[i]=function(t,e){var i=e.lookupProperty;return m.wrapHelper(t,(function(t){return u.extend({lookupProperty:i},t)}))}(n,e)}))})(n,c),c.helpers=n,t.usePartial&&(c.partials=c.mergeIfNeeded(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(c.decorators=u.extend({},e.decorators,i.decorators)),c.hooks={},c.protoAccessControl=_.createProtoAccessControl(i);var s=i.allowCallsToHelperMissing||o;f.moveHelperToHooks(c,"helperMissing",s),f.moveHelperToHooks(c,"blockHelperMissing",s)}},i._child=function(e,i,o,s){if(t.useBlockParams&&!o)throw new d.default("must pass block params");if(t.useDepths&&!s)throw new d.default("must pass parent depths");return n(c,e,t[e],i,0,o,s)},i},e.wrapProgram=n,e.resolvePartial=function(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t},e.invokePartial=function(t,e,i){var n=i.data&&i.data["partial-block"];i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var s=void 0;if(i.fn&&i.fn!==o&&function(){i.data=p.createFrame(i.data);var t=i.fn;s=i.data["partial-block"]=function(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return i.data=p.createFrame(i.data),i.data["partial-block"]=n,t(e,i)},t.partials&&(i.partials=u.extend({},i.partials,t.partials))}(),void 0===t&&s&&(t=s),void 0===t)throw new d.default("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)},e.noop=o;var u=c(i(5)),d=h(i(6)),p=i(4),f=i(10),m=i(43),_=i(33)},function(t,e,i){t.exports={default:i(40),__esModule:!0}},function(t,e,i){i(41),t.exports=i(21).Object.seal},function(t,e,i){var n=i(42);i(18)("seal",(function(t){return function(e){return t&&n(e)?t(e):e}}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){return"function"!=typeof t?t:function(){var i=arguments[arguments.length-1];return arguments[arguments.length-1]=e(i),t.apply(this,arguments)}}},function(t,e){(function(i){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==i?i:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var i={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth}}};e.default=i,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){return"Program"===t.type?t:(a.default.yy=h,h.locInfo=function(t){return new h.SourceLocation(e&&e.srcName,t)},a.default.parse(t))}var o=i(1).default,s=i(3).default;e.__esModule=!0,e.parseWithoutProcessing=n,e.parse=function(t,e){var i=n(t,e);return new r.default(e).accept(i)};var a=o(i(47)),r=o(i(48)),l=s(i(50)),c=i(5);e.parser=a.default;var h={};c.extend(h,l)},function(t,e){"use strict";e.__esModule=!0;var i=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,i,n,o,s,a){var r=s.length-1;switch(o){case 1:return s[r-1];case 2:this.$=n.prepareProgram(s[r]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=s[r];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(s[r]),strip:n.stripFlags(s[r],s[r]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:s[r],value:s[r],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(s[r-2],s[r-1],s[r],this._$);break;case 12:this.$={path:s[r-3],params:s[r-2],hash:s[r-1]};break;case 13:this.$=n.prepareBlock(s[r-3],s[r-2],s[r-1],s[r],!1,this._$);break;case 14:this.$=n.prepareBlock(s[r-3],s[r-2],s[r-1],s[r],!0,this._$);break;case 15:this.$={open:s[r-5],path:s[r-4],params:s[r-3],hash:s[r-2],blockParams:s[r-1],strip:n.stripFlags(s[r-5],s[r])};break;case 16:case 17:this.$={path:s[r-4],params:s[r-3],hash:s[r-2],blockParams:s[r-1],strip:n.stripFlags(s[r-5],s[r])};break;case 18:this.$={strip:n.stripFlags(s[r-1],s[r-1]),program:s[r]};break;case 19:var l=n.prepareBlock(s[r-2],s[r-1],s[r],s[r],!1,this._$),c=n.prepareProgram([l],s[r-1].loc);c.chained=!0,this.$={strip:s[r-2].strip,program:c,chain:!0};break;case 21:this.$={path:s[r-1],strip:n.stripFlags(s[r-2],s[r])};break;case 22:case 23:this.$=n.prepareMustache(s[r-3],s[r-2],s[r-1],s[r-4],n.stripFlags(s[r-4],s[r]),this._$);break;case 24:this.$={type:"PartialStatement",name:s[r-3],params:s[r-2],hash:s[r-1],indent:"",strip:n.stripFlags(s[r-4],s[r]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(s[r-2],s[r-1],s[r],this._$);break;case 26:this.$={path:s[r-3],params:s[r-2],hash:s[r-1],strip:n.stripFlags(s[r-4],s[r])};break;case 29:this.$={type:"SubExpression",path:s[r-3],params:s[r-2],hash:s[r-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:s[r],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(s[r-2]),value:s[r],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(s[r-1]);break;case 35:this.$={type:"StringLiteral",value:s[r],original:s[r],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(s[r]),original:Number(s[r]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===s[r],original:"true"===s[r],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 42:this.$=n.preparePath(!0,s[r],this._$);break;case 43:this.$=n.preparePath(!1,s[r],this._$);break;case 44:s[r-2].push({part:n.id(s[r]),original:s[r],separator:s[r-1]}),this.$=s[r-2];break;case 45:this.$=[{part:n.id(s[r]),original:s[r]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:s[r-1].push(s[r]);break;case 98:case 100:this.$=[s[r]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return"number"!=typeof(t=i.lexer.lex()||1)&&(t=i.symbols_[t]||t),t}var i=this,n=[0],o=[null],s=[],a=this.table,r="",l=0,c=0,h=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,_,g,v,y,b,w,x={};;){if(m=n[n.length-1],this.defaultActions[m]?_=this.defaultActions[m]:(null!=p||(p=e()),_=a[m]&&a[m][p]),void 0===_||!_.length||!_[0]){var S="";if(!h){for(v in w=[],a[m])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:w})}}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(_[0]){case 1:n.push(p),o.push(this.lexer.yytext),s.push(this.lexer.yylloc),n.push(_[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,r=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,h>0&&h--);break;case 2:if(y=this.productions_[_[1]][1],x.$=o[o.length-y],x._$={first_line:s[s.length-(y||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(y||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(y||1)].range[0],s[s.length-1].range[1]]),void 0!==(g=this.performAction.call(x,r,c,l,this.yy,_[1],o,s)))return g;y&&(n=n.slice(0,-1*y*2),o=o.slice(0,-1*y),s=s.slice(0,-1*y)),n.push(this.productions_[_[1]][0]),o.push(x.$),s.push(x._$),b=a[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,i,n,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),a=0;a<s.length&&(!(i=this._input.match(this.rules[s[a]]))||e&&!(i[0].length>e[0].length)||(e=i,n=a,this.options.flex));a++);return e?((o=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,i,n){function o(t,i){return e.yytext=e.yytext.substring(t,e.yyleng-i+t)}switch(i){case 0:if("\\\\"===e.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(o(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t}();return e.lexer=i,t.prototype=e,e.Parser=t,new t}();e.default=i,t.exports=e.default},function(t,e,i){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function o(t,e,i){void 0===e&&(e=t.length);var n=t[e-1],o=t[e-2];return n?"ContentStatement"===n.type?(o||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function s(t,e,i){void 0===e&&(e=-1);var n=t[e+1],o=t[e+2];return n?"ContentStatement"===n.type?(o||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function a(t,e,i){var n=t[null==e?0:e+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var o=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==o}}function r(t,e,i){var n=t[null==e?t.length-1:e-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var o=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==o,n.leftStripped}}var l=i(1).default;e.__esModule=!0;var c=l(i(49));n.prototype=new c.default,n.prototype.Program=function(t){var e=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,l=0,c=n.length;l<c;l++){var h=n[l],u=this.accept(h);if(u){var d=o(n,l,i),p=s(n,l,i),f=u.openStandalone&&d,m=u.closeStandalone&&p,_=u.inlineStandalone&&d&&p;u.close&&a(n,l,!0),u.open&&r(n,l,!0),e&&_&&(a(n,l),r(n,l)&&"PartialStatement"===h.type&&(h.indent=/([ \t]+$)/.exec(n[l-1].original)[1])),e&&f&&(a((h.program||h.inverse).body),r(n,l)),e&&m&&(a(n,l),r((h.inverse||h.program).body))}}return t},n.prototype.BlockStatement=n.prototype.DecoratorBlock=n.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,n=i,l=i;if(i&&i.chained)for(n=i.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:s(e.body),closeStandalone:o((n||e).body)};if(t.openStrip.close&&a(e.body,null,!0),i){var h=t.inverseStrip;h.open&&r(e.body,null,!0),h.close&&a(n.body,null,!0),t.closeStrip.open&&r(l.body,null,!0),!this.options.ignoreStandalone&&o(e.body)&&s(n.body)&&(r(e.body),a(n.body))}else t.closeStrip.open&&r(e.body,null,!0);return c},n.prototype.Decorator=n.prototype.MustacheStatement=function(t){return t.strip},n.prototype.PartialStatement=n.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=n,t.exports=e.default},function(t,e,i){"use strict";function n(){this.parents=[]}function o(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function s(t){o.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function a(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var r=i(1).default;e.__esModule=!0;var l=r(i(6));n.prototype={constructor:n,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&!n.prototype[i.type])throw new l.default('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new l.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;e<i;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){if(!this[t.type])throw new l.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:o,Decorator:o,BlockStatement:s,DecoratorBlock:s,PartialStatement:a,PartialBlockStatement:function(t){a.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:o,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=n,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var i={loc:t.path.loc};throw new s.default(t.path.original+" doesn't match "+e,i)}}var o=i(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,i){i=this.locInfo(i);for(var n=t?"@":"",o=[],a=0,r=0,l=e.length;r<l;r++){var c=e[r].part,h=e[r].original!==c;if(n+=(e[r].separator||"")+c,h||".."!==c&&"."!==c&&"this"!==c)o.push(c);else{if(o.length>0)throw new s.default("Invalid path: "+n,{loc:i});".."===c&&a++}}return{type:"PathExpression",data:t,depth:a,parts:o,original:n,loc:i}},e.prepareMustache=function(t,e,i,n,o,s){var a=n.charAt(3)||n.charAt(2),r="{"!==a&&"&"!==a;return{type:/\*/.test(n)?"Decorator":"MustacheStatement",path:t,params:e,hash:i,escaped:r,strip:o,loc:this.locInfo(s)}},e.prepareRawBlock=function(t,e,i,o){n(t,i);var s={type:"Program",body:e,strip:{},loc:o=this.locInfo(o)};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:s,openStrip:{},inverseStrip:{},closeStrip:{},loc:o}},e.prepareBlock=function(t,e,i,o,a,r){o&&o.path&&n(t,o);var l=/\*/.test(t.open);e.blockParams=t.blockParams;var c=void 0,h=void 0;if(i){if(l)throw new s.default("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=o.strip),h=i.strip,c=i.program}return a&&(a=c,c=e,e=a),{type:l?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:c,openStrip:t.strip,inverseStrip:h,closeStrip:o&&o.strip,loc:this.locInfo(r)}},e.prepareProgram=function(t,e){if(!e&&t.length){var i=t[0].loc,n=t[t.length-1].loc;i&&n&&(e={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,i,o){return n(t,i),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:i&&i.strip,loc:this.locInfo(o)}};var s=o(i(6))},function(t,e,i){"use strict";function n(){}function o(t,e){if(t===e)return!0;if(c.isArray(t)&&c.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;i++)if(!o(t[i],e[i]))return!1;return!0}}function s(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var a=i(34).default,r=i(1).default;e.__esModule=!0,e.Compiler=n,e.precompile=function(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var n=i.parse(t,e),o=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(o,e)},e.compile=function(t,e,i){function n(){var n=i.parse(t,e),o=(new i.Compiler).compile(n,e),s=(new i.JavaScriptCompiler).compile(o,e,void 0,!0);return i.template(s)}function o(t,e){return s||(s=n()),s.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=c.extend({},e))||(e.data=!0),e.compat&&(e.useDepths=!0);var s=void 0;return o._setup=function(t){return s||(s=n()),s._setup(t)},o._child=function(t,e,i,o){return s||(s=n()),s._child(t,e,i,o)},o};var l=r(i(6)),c=i(5),h=r(i(45)),u=[].slice;n.prototype={compiler:n,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;i<e;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||!o(n.args,s.args))return!1}e=this.children.length;for(i=0;i<e;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[],e.knownHelpers=c.extend(a(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},e.knownHelpers),this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),i=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[i]=e,this.useDepths=this.useDepths||e.useDepths,i},accept:function(t){if(!this[t.type])throw new l.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,n=0;n<i;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){s(t);var e=t.program,i=t.inverse;e=e&&this.compileProgram(e),i=i&&this.compileProgram(i);var n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,i):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),i=this.setupFullMustacheParams(t,e,void 0),n=t.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,n.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var i=t.params;if(i.length>1)throw new l.default("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var n=t.name.original,o="SubExpression"===t.name.type;o&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var s=t.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",o,n,s),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){s(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,i){var n=t.path,o=n.parts[0],s=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",o,s)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),o=t.path,s=o.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",n.length,s);else{if(this.options.knownHelpersOnly)throw new l.default("You specified knownHelpersOnly, but used the unknown helper "+s,t);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",n.length,o.original,h.default.helpers.simpleId(o))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=h.default.helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,i=0,n=e.length;for(this.opcode("pushHash");i<n;i++)this.pushParam(e[i].value);for(;i--;)this.opcode("assignToHash",e[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=h.default.helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),n=!i&&h.default.helpers.helperExpression(t),o=!i&&(n||e);if(o&&!n){var s=t.path.parts[0],a=this.options;a.knownHelpers[s]?n=!0:a.knownHelpersOnly&&(o=!1)}return n?"helper":o?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;e<i;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var i=void 0;if(!t.parts||h.default.helpers.scopedId(t)||t.depth||(i=this.blockParamIndex(t.parts[0])),i){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,i,n){var o=t.params;return this.pushParams(o),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),o},blockParamIndex:function(t){for(var e=0,i=this.options.blockParams.length;e<i;e++){var n=this.options.blockParams[e],o=n&&c.indexOf(n,t);if(n&&o>=0)return[e,o]}}}},function(t,e,i){"use strict";function n(t){this.value=t}function o(){}var s=i(13).default,a=i(1).default;e.__esModule=!0;var r=i(4),l=a(i(6)),c=i(5),h=a(i(53));o.prototype={nameLookup:function(t,e){return this.internalNameLookup(t,e)},depthedLookup:function(t){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(t),")"]},compilerInfo:function(){var t=r.COMPILER_REVISION;return[t,r.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,i){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(t,e){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",t,",",JSON.stringify(e),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(t,e,i,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var o=t.opcodes,s=void 0,a=void 0,r=void 0,c=void 0;for(r=0,c=o.length;r<c;r++)s=o[r],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),n?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var h=this.createFunctionContext(n);if(this.isChild)return h;var u={compiler:this.compilerInfo(),main:h};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var d=this.context,p=d.programs,f=d.decorators;for(r=0,c=p.length;r<c;r++)p[r]&&(u[r]=p[r],f[r]&&(u[r+"_d"]=f[r],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),n?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),e.srcName?(u=u.toStringWithSourceMap({file:e.destName})).map=u.map&&u.map.toString():u=u.toString()),u},preamble:function(){this.lastContext=0,this.source=new h.default(this.options.srcName),this.decorators=new h.default(this.options.srcName)},createFunctionContext:function(t){var e=this,i="",n=this.stackVars.concat(this.registers.list);n.length>0&&(i+=", "+n.join(", "));var o=0;s(this.aliases).forEach((function(t){var n=e.aliases[t];n.children&&n.referenceCount>1&&(i+=", alias"+ ++o+"="+t,n.children[0]="alias"+o)})),this.lookupPropertyFunctionIsUsed&&(i+=", "+this.lookupPropertyFunctionVarDeclaration());var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var r=this.mergeSource(i);return t?(a.push(r),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",r,"}"])},mergeSource:function(t){var e=this.environment.isSimple,i=!this.forceBuffer,n=void 0,o=void 0,s=void 0,a=void 0;return this.source.each((function(t){t.appendToBuffer?(s?t.prepend("  + "):s=t,a=t):(s&&(o?s.prepend("buffer += "):n=!0,a.add(";"),s=a=void 0),o=!0,e||(i=!1))})),i?s?(s.prepend("return "),a.add(";")):o||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),s?(s.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(t){var e=this.aliasable("container.hooks.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(e,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("container.hooks.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var i=this.topStack();e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack((function(t){return[" != null ? ",t,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i,n){var o=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[o++])),this.resolvePath("context",t,o,e,i)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,i)},resolvePath:function(t,e,i,n,o){var s=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,i,n){var o=e.popStack(),s=0,a=i.length;for(t&&a--;s<a;s++)o=e.nameLookup(o,i[s],n);return t?[e.aliasable("container.strict"),"(",o,", ",e.quotedString(i[s]),", ",JSON.stringify(e.source.currentLocation)," )"]:o}(this.options.strict&&o,this,e,t));else for(var a=e.length;i<a;i++)this.replaceStack((function(o){var a=s.nameLookup(o,e[i],t);return n?[" && ",a]:[" != null ? ",a," : ",o]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var i=this.nameLookup("decorators",e,"decorator"),n=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(t,e,i){var n=this.popStack(),o=this.setupHelper(t,e),s=[];i&&s.push(o.name),s.push(n),this.options.strict||s.push(this.aliasable("container.hooks.helperMissing"));var a=["(",this.itemsSeparatedBy(s,"||"),")"],r=this.source.functionCall(a,"call",o.callParams);this.push(r)},itemsSeparatedBy:function(t,e){var i=[];i.push(t[0]);for(var n=1;n<t.length;n++)i.push(e,t[n]);return i},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,e),o=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",i,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",o,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(t,e,i){var n=[],o=this.setupParams(e,1,n);t&&(e=this.popStack(),delete o.name),i&&(o.indent=JSON.stringify(i)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",t?n.unshift(e):n.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),n.push(o),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(t){var e=this.popStack(),i=void 0,n=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var s=this.hash;i&&(s.contexts[t]=i),n&&(s.types[t]=n),o&&(s.ids[t]=o),s.values[t]=e},pushId:function(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(t,e){for(var i=t.children,n=void 0,o=void 0,s=0,a=i.length;s<a;s++){n=i[s],o=new this.compiler;var r=this.matchExistingProgram(n);if(null==r){this.context.programs.push("");var l=this.context.programs.length;n.index=l,n.name="program"+l,this.context.programs[l]=o.compile(n,e,this.context,!this.precompile),this.context.decorators[l]=o.decorators,this.context.environments[l]=n,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams,n.useDepths=this.useDepths,n.useBlockParams=this.useBlockParams}else n.index=r.index,n.name="program"+r.index,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;e<i;e++){var n=this.context.environments[e];if(n&&n.equals(t))return n}},programExpression:function(t){var e=this.environment.children[t],i=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof n||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],i=void 0,o=void 0,s=void 0;if(!this.isInline())throw new l.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof n)e=["(",i=[a.value]],s=!0;else{o=!0;var r=this.incrStack();e=["((",this.push(r)," = ",a,")"],i=this.topStack()}var c=t.call(this,i);s||this.popStack(),o&&this.stackSlot--,this.push(e.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,i=t.length;e<i;e++){var o=t[e];if(o instanceof n)this.compileStack.push(o);else{var s=this.incrStack();this.pushSource([s," = ",o,";"]),this.compileStack.push(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new l.default("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof n?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,i){var n=[];return{params:n,paramsInit:this.setupHelperArgs(e,t,n,i),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(n)}},setupParams:function(t,e,i){var n={},o=[],s=[],a=[],r=!i,l=void 0;r&&(i=[]),n.name=this.quotedString(t),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var c=this.popStack(),h=this.popStack();(h||c)&&(n.fn=h||"container.noop",n.inverse=c||"container.noop");for(var u=e;u--;)l=this.popStack(),i[u]=l,this.trackIds&&(a[u]=this.popStack()),this.stringParams&&(s[u]=this.popStack(),o[u]=this.popStack());return r&&(n.args=this.source.generateArray(i)),this.trackIds&&(n.ids=this.source.generateArray(a)),this.stringParams&&(n.types=this.source.generateArray(s),n.contexts=this.source.generateArray(o)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(t,e,i,n){var o=this.setupParams(t,e,i);return o.loc=JSON.stringify(this.source.currentLocation),o=this.objectLiteral(o),n?(this.useRegister("options"),i.push("options"),["options=",o]):i?(i.push(o),""):o}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=o.RESERVED_WORDS={},i=0,n=t.length;i<n;i++)e[t[i]]=!0}(),o.isValidJavaScriptVariableName=function(t){return!o.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=o,t.exports=e.default},function(t,e,i){"use strict";function n(t,e,i){if(a.isArray(t)){for(var n=[],o=0,s=t.length;o<s;o++)n.push(e.wrap(t[o],i));return n}return"boolean"==typeof t||"number"==typeof t?t+"":t}function o(t){this.srcFile=t,this.source=[]}var s=i(13).default;e.__esModule=!0;var a=i(5),r=void 0;r||(r=function(t,e,i,n){this.src="",n&&this.add(n)},r.prototype={add:function(t){a.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){a.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each((function(e){t.add(["  ",e,"\n"])})),t},each:function(t){for(var e=0,i=this.source.length;e<i;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new r(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof r?t:(t=n(t,this,e),new r(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=this,i=[];s(t).forEach((function(o){var s=n(t[o],e);"undefined"!==s&&i.push([e.quotedString(o),":",s])}));var o=this.generateList(i);return o.prepend("{"),o.add("}"),o},generateList:function(t){for(var e=this.empty(),i=0,o=t.length;i<o;i++)i&&e.add(","),e.add(n(t[i],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=o,t.exports=e.default}])})),function(t,e){"undefined"!=typeof module?module.exports=e():"function"==typeof define&&"object"==typeof define.amd?define(e):this.clipboard=e()}(0,(function(){var t,e,i={};return i.copy=(e=!1,document.addEventListener("copy",(function(i){if(e){for(var n in e=!1,t)i.clipboardData.setData(n,t[n]);i.preventDefault()}})),function(i){return new Promise((function(n,o){e=!0,t="string"==typeof i?{"text/plain":i}:i;try{document.execCommand("copy")?n():(e=!1,o(new Error("Unable to copy. Perhaps it's not available in your browser?")))}catch(t){e=!1,o(t)}}))}),i.paste=function(){var t,e,i=!1;return document.addEventListener("paste",(function(n){i&&(i=!1,n.preventDefault(),t(n.clipboardData.getData(e)))})),function(n){return new Promise((function(o,s){i=!0,t=o,e=n||"text/plain";try{document.execCommand("paste")||(i=!1,s(new Error("Unable to paste. Perhaps it's not available in your browser?")))}catch(t){i=!1,s(new Error(t))}}))}}(),"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData&&(!function(t){function e(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,e(o,this),e(s,this))}function n(t){var e=this;return null===this._state?void this._deferreds.push(t):void c((function(){var i=e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void t.reject(e)}t.resolve(n)}else(e._state?t.resolve:t.reject)(e._value)}))}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i)return void l(e(i,t),e(o,this),e(s,this))}this._state=!0,this._value=t,a.call(this)}catch(t){s.call(this,t)}}function s(t){this._state=!1,this._value=t,a.call(this)}function a(){for(var t=0,e=this._deferreds.length;e>t;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function r(t,e,i,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=i,this.reject=n}function l(t,e,i){var n=!1;try{t((function(t){n||(n=!0,e(t))}),(function(t){n||(n=!0,i(t))}))}catch(t){if(n)return;n=!0,i(t)}}var c=i.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var o=this;return new i((function(i,s){n.call(o,new r(t,e,i,s))}))},i.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new i((function(e,i){function n(s,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var r=a.then;if("function"==typeof r)return void r.call(a,(function(t){n(s,t)}),i)}t[s]=a,0==--o&&e(t)}catch(t){i(t)}}if(0===t.length)return e([]);for(var o=t.length,s=0;s<t.length;s++)n(s,t[s])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,i){i(t)}))},i.race=function(t){return new i((function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)}))},"undefined"!=typeof module&&module.exports?module.exports=i:t.Promise||(t.Promise=i)}(this),i.copy=function(t){return new Promise((function(e,i){if("string"!=typeof t&&!("text/plain"in t))throw new Error("You must provide a text/plain type.");var n="string"==typeof t?t:t["text/plain"];window.clipboardData.setData("Text",n)?e():i(new Error("Copying was rejected."))}))},i.paste=function(t){return new Promise((function(t,e){var i=window.clipboardData.getData("Text");i?t(i):e(new Error("Pasting was rejected."))}))}),i})),
/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,(function(t){"use strict";function e(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;i++)for(e in o=arguments[i])t[e]=o[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function n(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var o=0;function s(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function a(t,e,i){var n,o,s,a;return a=function(){n=!1,o&&(s.apply(i,o),o=!1)},s=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(a,e),n=!0)},s}function r(t,e,i){var n=e[1],o=e[0],s=n-o;return t===n&&i?t:((t-o)%s+s)%s+o}function l(){return!1}function c(t,e){var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function u(t){return h(t).split(/\s+/)}function d(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}var f=/\{ *([\w_-]+) *\}/g;function m(t,e){return t.replace(f,(function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n}))}var _=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function y(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function w(t){var e=+new Date,i=Math.max(0,16-(e-b));return b=e+i,window.setTimeout(t,i)}var x=window.requestAnimationFrame||y("RequestAnimationFrame")||w,S=window.cancelAnimationFrame||y("CancelAnimationFrame")||y("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,i){if(!i||x!==w)return x.call(window,n(t,e));t.call(e)}function C(t){t&&S.call(window,t)}var k={extend:e,create:i,bind:n,lastId:o,stamp:s,throttle:a,wrapNum:r,falseFn:l,formatNum:c,trim:h,splitWords:u,setOptions:d,getParamString:p,template:m,isArray:_,indexOf:g,emptyImageUrl:v,requestFn:x,cancelFn:S,requestAnimFrame:T,cancelAnimFrame:C};function P(){}P.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,s=i(o);for(var a in s.constructor=n,n.prototype=s,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(n[a]=this[a]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(!function(t){if("undefined"==typeof L||!L||!L.Mixin)return;t=_(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(t.includes),e.apply(null,[s].concat(t.includes)),delete t.includes),s.options&&(t.options=e(i(s.options),t.options)),e(s,t),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=s._initHooks.length;t<e;t++)s._initHooks[t].call(this)}},n},P.include=function(t){return e(this.prototype,t),this},P.mergeOptions=function(t){return e(this.prototype.options,t),this},P.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var D={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._off(t[o],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=void 0);for(var o={fn:e,ctx:i},s=n,a=0,r=s.length;a<r;a++)if(s[a].fn===e&&s[a].ctx===i)return;s.push(o)},_off:function(t,e,i){var n,o,s;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(o=0,s=n.length;o<s;o++){var a=n[o];if(a.ctx===i&&a.fn===e)return a.fn=l,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,s=n.length;o<s;o++)n[o].fn=l;delete this._events[t]}},fire:function(t,i,n){if(!this.listens(t,n))return this;var o=e({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var a=0,r=s.length;a<r;a++){var l=s[a];l.fn.call(l.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var s=n((function(){this.off(t,e,i).off(t,s,i)}),this);return this.on(t,e,i).on(t,s,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};D.addEventListener=D.on,D.removeEventListener=D.clearAllEventListeners=D.off,D.addOneTimeEventListener=D.once,D.fireEvent=D.fire,D.hasEventListeners=D.listens;var A=P.extend(D);function E(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var I=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function M(t,e,i){return t instanceof E?t:_(t)?new E(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new E(t.x,t.y):new E(t,e,i)}function $(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function O(t,e){return!t||t instanceof $?t:new $(t,e)}function N(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function B(t,e){return t instanceof N?t:new N(t,e)}function j(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function z(t,e,i){return t instanceof j?t:_(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,i)}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(t){return this.clone()._add(M(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(M(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new E(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new E(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(t){var e=(t=M(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=M(t)).x===this.x&&t.y===this.y},contains:function(t){return t=M(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},$.prototype={extend:function(t){return t=M(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new E((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new E(this.min.x,this.max.y)},getTopRight:function(){return new E(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof E?M(t):O(t))instanceof $?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=O(t);var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>=e.x&&n.x<=i.x,a=o.y>=e.y&&n.y<=i.y;return s&&a},overlaps:function(t){t=O(t);var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>e.x&&n.x<i.x,a=o.y>e.y&&n.y<i.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},N.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof j)e=t,i=t;else{if(!(t instanceof N))return t?this.extend(z(t)||B(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new N(new j(e.lat-n,e.lng-o),new j(i.lat+n,i.lng+o))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?z(t):B(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof N?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=B(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&n.lat<=i.lat,a=o.lng>=e.lng&&n.lng<=i.lng;return s&&a},overlaps:function(t){t=B(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>e.lat&&n.lat<i.lat,a=o.lng>e.lng&&n.lng<i.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=z(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,z(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var R,F={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new $(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?r(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?r(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,o=e.lng-i.lng;if(0===n&&0===o)return t;var s=t.getSouthWest(),a=t.getNorthEast();return new N(new j(s.lat-n,s.lng-o),new j(a.lat-n,a.lng-o))}},H=e({},F,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,s=Math.sin((e.lat-t.lat)*i/2),a=Math.sin((e.lng-t.lng)*i/2),r=s*s+Math.cos(n)*Math.cos(o)*a*a,l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return this.R*l}}),q=6378137,W={R:q,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new E(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(R=q*Math.PI,new $([-R,-R],[R,R]))};function Z(t,e,i,n){if(_(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function U(t,e,i,n){return new Z(t,e,i,n)}Z.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new E((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var K=e({},H,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return U(t,.5,-t,.5)}()}),V=e({},K,{code:"EPSG:900913"});function G(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t,e){var i,n,o,s,a,r,l="";for(i=0,o=t.length;i<o;i++){for(n=0,s=(a=t[i]).length;n<s;n++)l+=(n?"L":"M")+(r=a[n]).x+" "+r.y;l+=e?Lt?"z":"x":""}return l||"M0 0"}var Y=document.documentElement.style,J="ActiveXObject"in window,Q=J&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=At("webkit"),it=At("android"),nt=At("android 2")||At("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=it&&At("Google")&&ot<537&&!("AudioNode"in window),at=!!window.opera,rt=!tt&&At("chrome"),lt=At("gecko")&&!et&&!at&&!J,ct=!rt&&At("safari"),ht=At("phantom"),ut="OTransition"in Y,dt=0===navigator.platform.indexOf("Win"),pt=J&&"transition"in Y,ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nt,mt="MozPerspective"in Y,_t=!window.L_DISABLE_3D&&(pt||ft||mt)&&!ut&&!ht,gt="undefined"!=typeof orientation||At("mobile"),vt=gt&&et,yt=gt&&ft,bt=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!bt),xt=!window.L_NO_TOUCH&&(wt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),St=gt&&at,Tt=gt&&lt,Ct=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(t){}return t}(),Pt=!!document.createElement("canvas").getContext,Lt=!(!document.createElementNS||!G("svg").createSVGRect),Dt=!Lt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function At(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Et={ie:J,ielt9:Q,edge:tt,webkit:et,android:it,android23:nt,androidStock:st,opera:at,chrome:rt,gecko:lt,safari:ct,phantom:ht,opera12:ut,win:dt,ie3d:pt,webkit3d:ft,gecko3d:mt,any3d:_t,mobile:gt,mobileWebkit:vt,mobileWebkit3d:yt,msPointer:bt,pointer:wt,touch:xt,mobileOpera:St,mobileGecko:Tt,retina:Ct,passiveEvents:kt,canvas:Pt,svg:Lt,vml:Dt},It=bt?"MSPointerDown":"pointerdown",Mt=bt?"MSPointerMove":"pointermove",$t=bt?"MSPointerUp":"pointerup",Ot=bt?"MSPointerCancel":"pointercancel",Nt={},Bt=!1;function jt(t,e,i,o){return"touchstart"===e?function(t,e,i){var o=n((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Oe(t),Ht(t,e)}));t["_leaflet_touchstart"+i]=o,t.addEventListener(It,o,!1),Bt||(document.addEventListener(It,zt,!0),document.addEventListener(Mt,Rt,!0),document.addEventListener($t,Ft,!0),document.addEventListener(Ot,Ft,!0),Bt=!0)}(t,i,o):"touchmove"===e?function(t,e,i){var n=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Ht(t,e)};t["_leaflet_touchmove"+i]=n,t.addEventListener(Mt,n,!1)}(t,i,o):"touchend"===e&&function(t,e,i){var n=function(t){Ht(t,e)};t["_leaflet_touchend"+i]=n,t.addEventListener($t,n,!1),t.addEventListener(Ot,n,!1)}(t,i,o),this}function zt(t){Nt[t.pointerId]=t}function Rt(t){Nt[t.pointerId]&&(Nt[t.pointerId]=t)}function Ft(t){delete Nt[t.pointerId]}function Ht(t,e){for(var i in t.touches=[],Nt)t.touches.push(Nt[i]);t.changedTouches=[t],e(t)}var qt=bt?"MSPointerDown":wt?"pointerdown":"touchstart",Wt=bt?"MSPointerUp":wt?"pointerup":"touchend",Zt="_leaflet_";var Ut,Kt,Vt,Gt,Xt,Yt=pe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jt=pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qt="webkitTransition"===Jt||"OTransition"===Jt?Jt+"End":"transitionend";function te(t){return"string"==typeof t?document.getElementById(t):t}function ee(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function ie(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function ne(t){var e=t.parentNode;e&&e.removeChild(t)}function oe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function se(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ae(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function re(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=ue(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function le(t,e){if(void 0!==t.classList)for(var i=u(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!re(t,e)){var s=ue(t);he(t,(s?s+" ":"")+e)}}function ce(t,e){void 0!==t.classList?t.classList.remove(e):he(t,h((" "+ue(t)+" ").replace(" "+e+" "," ")))}function he(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ue(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function de(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function pe(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function fe(t,e,i){var n=e||new E(0,0);t.style[Yt]=(pt?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function me(t,e){t._leaflet_pos=e,_t?fe(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function _e(t){return t._leaflet_pos||new E(0,0)}if("onselectstart"in document)Ut=function(){Ce(window,"selectstart",Oe)},Kt=function(){Pe(window,"selectstart",Oe)};else{var ge=pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ut=function(){if(ge){var t=document.documentElement.style;Vt=t[ge],t[ge]="none"}},Kt=function(){ge&&(document.documentElement.style[ge]=Vt,Vt=void 0)}}function ve(){Ce(window,"dragstart",Oe)}function ye(){Pe(window,"dragstart",Oe)}function be(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(we(),Gt=t,Xt=t.style.outline,t.style.outline="none",Ce(window,"keydown",we))}function we(){Gt&&(Gt.style.outline=Xt,Gt=void 0,Xt=void 0,Pe(window,"keydown",we))}function xe(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Se(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Te={TRANSFORM:Yt,TRANSITION:Jt,TRANSITION_END:Qt,get:te,getStyle:ee,create:ie,remove:ne,empty:oe,toFront:se,toBack:ae,hasClass:re,addClass:le,removeClass:ce,setClass:he,getClass:ue,setOpacity:de,testProp:pe,setTransform:fe,setPosition:me,getPosition:_e,disableTextSelection:Ut,enableTextSelection:Kt,disableImageDrag:ve,enableImageDrag:ye,preventOutline:be,restoreOutline:we,getSizedParentNode:xe,getScale:Se};function Ce(t,e,i,n){if("object"==typeof e)for(var o in e)Ae(t,o,e[o],i);else for(var s=0,a=(e=u(e)).length;s<a;s++)Ae(t,e[s],i,n);return this}var ke="_leaflet_events";function Pe(t,e,i,n){if("object"==typeof e)for(var o in e)Ee(t,o,e[o],i);else if(e)for(var s=0,a=(e=u(e)).length;s<a;s++)Ee(t,e[s],i,n);else{for(var r in t[ke])Ee(t,r,t[ke][r]);delete t[ke]}return this}function Le(){if(wt)return!(tt||ct)}var De={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ae(t,e,i,n){var o=e+s(i)+(n?"_"+s(n):"");if(t[ke]&&t[ke][o])return this;var a=function(e){return i.call(n||t,e||window.event)},r=a;wt&&0===e.indexOf("touch")?jt(t,e,a,o):xt&&"dblclick"===e&&!Le()?function(t,e,i){var n,o,s=!1;function a(t){if(wt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),i=e-(n||e);o=t.touches?t.touches[0]:t,s=i>0&&i<=250,n=e}function r(t){if(s&&!o.cancelBubble){if(wt){if("mouse"===t.pointerType)return;var i,a,r={};for(a in o)i=o[a],r[a]=i&&i.bind?i.bind(o):i;o=r}o.type="dblclick",o.button=0,e(o),n=null}}t[Zt+qt+i]=a,t[Zt+Wt+i]=r,t[Zt+"dblclick"+i]=e,t.addEventListener(qt,a,!!kt&&{passive:!1}),t.addEventListener(Wt,r,!!kt&&{passive:!1}),t.addEventListener("dblclick",e,!1)}(t,a,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(De[e]||e,a,!!kt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,qe(t,e)&&r(e)},t.addEventListener(De[e],a,!1)):t.addEventListener(e,r,!1):"attachEvent"in t&&t.attachEvent("on"+e,a),t[ke]=t[ke]||{},t[ke][o]=a}function Ee(t,e,i,n){var o=e+s(i)+(n?"_"+s(n):""),a=t[ke]&&t[ke][o];if(!a)return this;wt&&0===e.indexOf("touch")?function(t,e,i){var n=t["_leaflet_"+e+i];"touchstart"===e?t.removeEventListener(It,n,!1):"touchmove"===e?t.removeEventListener(Mt,n,!1):"touchend"===e&&(t.removeEventListener($t,n,!1),t.removeEventListener(Ot,n,!1))}(t,e,o):xt&&"dblclick"===e&&!Le()?function(t,e){var i=t[Zt+qt+e],n=t[Zt+Wt+e],o=t[Zt+"dblclick"+e];t.removeEventListener(qt,i,!!kt&&{passive:!1}),t.removeEventListener(Wt,n,!!kt&&{passive:!1}),t.removeEventListener("dblclick",o,!1)}(t,o):"removeEventListener"in t?t.removeEventListener(De[e]||e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[ke][o]=null}function Ie(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,He(t),this}function Me(t){return Ae(t,"wheel",Ie),this}function $e(t){return Ce(t,"mousedown touchstart dblclick",Ie),Ae(t,"click",Fe),this}function Oe(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ne(t){return Oe(t),Ie(t),this}function Be(t,e){if(!e)return new E(t.clientX,t.clientY);var i=Se(e),n=i.boundingClientRect;return new E((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}var je=dt&&rt?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function ze(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/je:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Re={};function Fe(t){Re[t.type]=!0}function He(t){var e=Re[t.type];return Re[t.type]=!1,e}function qe(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var We={on:Ce,off:Pe,stopPropagation:Ie,disableScrollPropagation:Me,disableClickPropagation:$e,preventDefault:Oe,stop:Ne,getMousePosition:Be,getWheelDelta:ze,fakeStop:Fe,skipped:He,isExternalTarget:qe,addListener:Ce,removeListener:Pe},Ze=A.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=_e(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),me(this._el,i),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ue=A.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(z(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Jt&&_t&&!St&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ce(this._proxy,Qt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,n){if((i=void 0===i?this._zoom:this._limitZoom(i),t=this._limitCenter(z(t),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n)&&(void 0!==n.animate&&(n.zoom=e({animate:n.animate},n.zoom),n.pan=e({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,n.zoom):this._tryAnimatedPan(t,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,i),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),s=(t instanceof E?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),a=this.containerPointToLatLng(o.add(s));return this.setView(a,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var i=M(e.paddingTopLeft||e.padding||[0,0]),n=M(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var s=n.subtract(i).divideBy(2),a=this.project(t.getSouthWest(),o),r=this.project(t.getNorthEast(),o);return{center:this.unproject(a.add(r).divideBy(2).add(s),o),zoom:o}},fitBounds:function(t,e){if(!(t=B(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=M(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ze,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){le(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!_t)return this.setView(t,e,i);this._stop();var n=this.project(this.getCenter()),o=this.project(t),s=this.getSize(),a=this._zoom;t=z(t),e=void 0===e?a:e;var r=Math.max(s.x,s.y),l=r*this.getZoomScale(a,e),c=o.distanceTo(n)||1,h=1.42,u=2.0164;function d(t){var e=(l*l-r*r+(t?-1:1)*u*u*c*c)/(2*(t?l:r)*u*c),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var m=d(0);function _(t){return r*(f(m)*(p(e=m+h*t)/f(e))-p(m))/u;var e}var g=Date.now(),v=(d(1)-m)/h,y=i.duration?1e3*i.duration:1e3*v*.8;return this._moveStart(!0,i.noMoveStart),function i(){var s=(Date.now()-g)/y,l=function(t){return 1-Math.pow(1-t,1.5)}(s)*v;s<=1?(this._flyToFrame=T(i,this),this._move(this.unproject(n.add(o.subtract(n).multiplyBy(_(l)/c)),a),this.getScaleZoom(r/function(t){return r*(f(m)/f(m+h*t))}(l),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=B(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,B(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=M((e=e||{}).paddingTopLeft||e.padding||[0,0]),n=M(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),s=this.project(o),a=this.project(t),r=this.getPixelBounds(),l=r.getSize().divideBy(2),c=O([r.min.add(i),r.max.subtract(n)]);if(!c.contains(a)){this._enforcingBounds=!0;var h=s.subtract(a),u=M(a.x+h.x,a.y+h.y);(a.x<c.min.x||a.x>c.max.x)&&(u.x=s.x-h.x,h.x>0?u.x+=l.x-i.x:u.x-=l.x-n.x),(a.y<c.min.y||a.y>c.max.y)&&(u.y=s.y-h.y,h.y>0?u.y+=l.y-i.y:u.y-=l.y-n.y),this.panTo(this.unproject(u),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=i.divideBy(2).round(),a=o.divideBy(2).round(),r=s.subtract(a);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),o=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,t):navigator.geolocation.getCurrentPosition(i,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new j(t.coords.latitude,t.coords.longitude),i=e.toBounds(2*t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(o,n.maxZoom):o)}var s={latlng:e,bounds:i,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(s[a]=t.coords[a]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ne(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=ie("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new N(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=B(t),i=M(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),a=t.getNorthWest(),r=t.getSouthEast(),l=this.getSize().subtract(i),c=O(this.project(r,n),this.project(a,n)).getSize(),h=_t?this.options.zoomSnap:1,u=l.x/c.x,d=l.y/c.y,p=e?Math.max(u,d):Math.min(u,d);return n=this.getScaleZoom(p,n),h&&(n=Math.round(n/(h/100))*(h/100),n=e?Math.ceil(n/h)*h:Math.floor(n/h)*h),Math.max(o,Math.min(s,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new $(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(z(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(M(t),e)},layerPointToLatLng:function(t){var e=M(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(z(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(z(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(z(t),z(e))},containerPointToLayerPoint:function(t){return M(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return M(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(M(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(t)))},mouseEventToContainerPoint:function(t){return Be(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=te(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ce(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&_t,le(t,"leaflet-container"+(xt?" leaflet-touch":"")+(Ct?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ee(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(le(t.markerPane,"leaflet-zoom-hide"),le(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){me(this._mapPane,new E(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){me(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Pe:Ce;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),_t&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],o="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,r=!1;a;){if((i=this._targets[s(a)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){r=!0;break}if(i&&i.listens(e,!0)){if(o&&!qe(a,t))break;if(n.push(i),o)break}if(a===this._container)break;a=a.parentNode}return n.length||r||o||!qe(a,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!He(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||be(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,n){if("click"===t.type){var o=e({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,i))).length){var s=n[0];"contextmenu"===i&&s.listens(i,!0)&&Oe(t);var a={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var r=s.getLatLng&&(!s._radius||s._radius<=10);a.containerPoint=r?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=r?s.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(i,a,!0),a.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,i))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return _e(this._mapPane)||new E(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return O([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),s=new $(n.subtract(o),n.add(o)),a=this._getBoundsOffset(s,i,e);return a.round().equals([0,0])?t:this.unproject(n.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new $(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=O(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),s=n.max.subtract(t.max);return new E(this._rebound(o.x,-s.x),this._rebound(o.y,-s.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=_t?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i))&&(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=Yt,i=this._proxy.style[e];fe(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();fe(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(o))&&(T((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,i,o){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T((function(){this._moveEnd(!0)}),this))}});var Ke=P.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return le(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ve=function(t){return new Ke(t)};Ue.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=ie("div",e+"control-container",this._container);function n(n,o){var s=e+n+" "+e+o;t[n+o]=ie("div",s,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ne(this._controlCorners[t]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ge=Ke.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in d(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ke.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ie("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),$e(e),Me(e);var n=this._section=ie("section",t+"-list");i&&(this._map.on("click",this.collapse,this),it||Ce(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ie("a",t+"-toggle",e);o.href="#",o.title="Layers",xt?(Ce(o,"click",Ne),Ce(o,"click",this.expand,this)):Ce(o,"focus",this.expand,this),i||this.expand(),this._baseLayersList=ie("div",t+"-base",n),this._separator=ie("div",t+"-separator",n),this._overlaysList=ie("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(n((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oe(this._baseLayersList),oe(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers_"+s(this),n),this._layerControlInputs.push(e),e.layerId=s(t.layer),Ce(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var a=document.createElement("div");return i.appendChild(a),a.appendChild(e),a.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var s=i.length-1;s>=0;s--)t=i[s],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||o.push(e);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Xe=Ke.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=ie("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var s=ie("a",i,n);return s.innerHTML=t,s.href="#",s.title=e,s.setAttribute("role","button"),s.setAttribute("aria-label",e),$e(s),Ce(s,"click",Ne),Ce(s,"click",o,this),Ce(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ce(this._zoomInButton,e),ce(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&le(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&le(this._zoomInButton,e)}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Xe,this.addControl(this.zoomControl))}));var Ye=Ke.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=ie("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=ie("div",e,i)),t.imperial&&(this._iScale=ie("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Je=Ke.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),$e(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook((function(){this.options.attributionControl&&(new Je).addTo(this)}));Ke.Layers=Ge,Ke.Zoom=Xe,Ke.Scale=Ye,Ke.Attribution=Je,Ve.layers=function(t,e,i){return new Ge(t,e,i)},Ve.zoom=function(t){return new Xe(t)},Ve.scale=function(t){return new Ye(t)},Ve.attribution=function(t){return new Je(t)};var Qe=P.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(t,e){return t.addHandler(e,this),this};var ti,ei={Events:D},ii=xt?"touchstart mousedown":"mousedown",ni={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},oi={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},si=A.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){d(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Ce(this._dragStartTarget,ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(si._dragging===this&&this.finishDrag(),Pe(this._dragStartTarget,ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!re(this._element,"leaflet-zoom-anim")&&!(si._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(si._dragging=this,this._preventOutline&&be(this._element),ve(),Ut(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,i=xe(this._element);this._startPoint=new E(e.clientX,e.clientY),this._parentScale=Se(i),Ce(document,oi[t.type],this._onMove,this),Ce(document,ni[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new E(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Oe(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=_e(this._element).subtract(i),le(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,C(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),me(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ce(document.body,"leaflet-dragging"),this._lastTarget&&(ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),oi)Pe(document,oi[t],this._onMove,this),Pe(document,ni[t],this._onUp,this);ye(),Kt(),this._moved&&this._moving&&(C(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,si._dragging=!1}});function ai(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;n<s;n++)di(t[n],t[o])>e&&(i.push(t[n]),o=n);o<s-1&&i.push(t[s-1]);return i}(t,i),t=function(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,li(t,n,e,0,i-1);var o,s=[];for(o=0;o<i;o++)n[o]&&s.push(t[o]);return s}(t,i),t}function ri(t,e,i){return Math.sqrt(pi(t,e,i,!0))}function li(t,e,i,n,o){var s,a,r,l=0;for(a=n+1;a<=o-1;a++)(r=pi(t[a],t[n],t[o],!0))>l&&(s=a,l=r);l>i&&(e[s]=1,li(t,e,i,n,s),li(t,e,i,s,o))}function ci(t,e,i,n,o){var s,a,r,l=n?ti:ui(t,i),c=ui(e,i);for(ti=c;;){if(!(l|c))return[t,e];if(l&c)return!1;r=ui(a=hi(t,e,s=l||c,i,o),i),s===l?(t=a,l=r):(e=a,c=r)}}function hi(t,e,i,n,o){var s,a,r=e.x-t.x,l=e.y-t.y,c=n.min,h=n.max;return 8&i?(s=t.x+r*(h.y-t.y)/l,a=h.y):4&i?(s=t.x+r*(c.y-t.y)/l,a=c.y):2&i?(s=h.x,a=t.y+l*(h.x-t.x)/r):1&i&&(s=c.x,a=t.y+l*(c.x-t.x)/r),new E(s,a,o)}function ui(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function di(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}function pi(t,e,i,n){var o,s=e.x,a=e.y,r=i.x-s,l=i.y-a,c=r*r+l*l;return c>0&&((o=((t.x-s)*r+(t.y-a)*l)/c)>1?(s=i.x,a=i.y):o>0&&(s+=r*o,a+=l*o)),r=t.x-s,l=t.y-a,n?r*r+l*l:new E(s,a)}function fi(t){return!_(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function mi(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fi(t)}var _i={simplify:ai,pointToSegmentDistance:ri,closestPointOnSegment:function(t,e,i){return pi(t,e,i)},clipSegment:ci,_getEdgeIntersection:hi,_getBitCode:ui,_sqClosestPointOnSegment:pi,isFlat:fi,_flat:mi};function gi(t,e,i){var n,o,s,a,r,l,c,h,u,d=[1,4,2,8];for(o=0,c=t.length;o<c;o++)t[o]._code=ui(t[o],e);for(a=0;a<4;a++){for(h=d[a],n=[],o=0,s=(c=t.length)-1;o<c;s=o++)r=t[o],l=t[s],r._code&h?l._code&h||((u=hi(l,r,h,e,i))._code=ui(u,e),n.push(u)):(l._code&h&&((u=hi(l,r,h,e,i))._code=ui(u,e),n.push(u)),n.push(r));t=n}return t}var vi={clipPolygon:gi},yi={project:function(t){return new E(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new $([-180,-90],[180,90])},bi={R:6378137,R_MINOR:6356752.314245179,bounds:new $([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,s=Math.sqrt(1-o*o),a=s*Math.sin(n),r=Math.tan(Math.PI/4-n/2)/Math.pow((1-a)/(1+a),s/2);return n=-i*Math.log(Math.max(r,1e-10)),new E(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),a=Math.exp(-t.y/n),r=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=s*Math.sin(r),e=Math.pow((1-e)/(1+e),s/2),r+=c=Math.PI/2-2*Math.atan(a*e)-r;return new j(r*i,t.x*i/n)}},wi={LonLat:yi,Mercator:bi,SphericalMercator:W},xi=e({},H,{code:"EPSG:3395",projection:bi,transformation:function(){var t=.5/(Math.PI*bi.R);return U(t,.5,-t,.5)}()}),Si=e({},H,{code:"EPSG:4326",projection:yi,transformation:U(1/180,1,-1/180,.5)}),Ti=e({},F,{projection:yi,transformation:U(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});F.Earth=H,F.EPSG3395=xi,F.EPSG3857=K,F.EPSG900913=V,F.EPSG4326=Si,F.Simple=Ti;var Ci=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",(function(){e.off(i,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?_(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ki=Ci.extend({initialize:function(t,e){var i,n;if(d(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Pi=ki.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ki.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ki.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new N;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Li=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=M(n),s=M("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ct&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var Di=Li.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Di.imagePath||(Di.imagePath=this._detectIconPath()),(this.options.imagePath||Di.imagePath)+Li.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ie("div","leaflet-default-icon-path",document.body),e=ee(t,"background-image")||ee(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Ai=Qe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new si(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),le(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=_e(e._icon),a=i.getPixelBounds(),r=i.getPixelOrigin(),l=O(a.min._subtract(r).add(o),a.max._subtract(r).subtract(o));if(!l.contains(s)){var c=M((Math.max(l.max.x,s.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(n);i.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),me(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=_e(e._icon),o=e._map.layerPointToLatLng(n);i&&me(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Ei=Ci.extend({options:{icon:new Di,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=z(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),le(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&(le(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&s&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ai)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ai(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&de(this._icon,t),this._shadow&&de(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Ii=Ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Mi=Ii.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=z(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ii.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new $(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var $i=Mi.extend({initialize:function(t,i,n){if("number"==typeof i&&(i=e({},n,{radius:i})),d(this,i),this._latlng=z(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ii.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===H.distance){var o=Math.PI/180,s=this._mRadius/H.R/o,a=i.project([e+s,t]),r=i.project([e-s,t]),l=a.add(r).divideBy(2),c=i.unproject(l).lat,h=Math.acos((Math.cos(s*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(h)||0===h)&&(h=s/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-i.project([c,t-h]).x,this._radiusY=l.y-a.y}else{var u=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(u).x}this._updateBounds()}});var Oi=Ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,o=null,s=pi,a=0,r=this._parts.length;a<r;a++)for(var l=this._parts[a],c=1,h=l.length;c<h;c++){var u=s(t,e=l[c-1],i=l[c],!0);u<n&&(n=u,o=s(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,s,a,r=this._rings[0],l=r.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=r[t].distanceTo(r[t+1])/2;if(0===e)return this._map.layerPointToLatLng(r[0]);for(t=0,n=0;t<l-1;t++)if(o=r[t],s=r[t+1],(n+=i=o.distanceTo(s))>e)return a=(n-e)/i,this._map.layerPointToLatLng([s.x-a*(s.x-o.x),s.y-a*(s.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=z(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new N,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return fi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=fi(t),n=0,o=t.length;n<o;n++)i?(e[n]=z(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new E(t,t);this._pxBounds=new $([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,i){var n,o,s=t[0]instanceof j,a=t.length;if(s){for(o=[],n=0;n<a;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<a;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,o,s,a,r,l=this._parts;for(e=0,n=0,o=this._rings.length;e<o;e++)for(i=0,s=(r=this._rings[e]).length;i<s-1;i++)(a=ci(r[i],r[i+1],t,i,!0))&&(l[n]=l[n]||[],l[n].push(a[0]),a[1]===r[i+1]&&i!==s-2||(l[n].push(a[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=ai(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,s,a,r,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(n=0,o=(a=(r=this._parts[i]).length)-1;n<a;o=n++)if((e||0!==n)&&ri(t,r[o],r[n])<=l)return!0;return!1}});Oi._flat=mi;var Ni=Oi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,s,a,r,l,c=this._rings[0],h=c.length;if(!h)return null;for(s=a=r=0,t=0,e=h-1;t<h;e=t++)i=c[t],n=c[e],o=i.y*n.x-n.y*i.x,a+=(i.x+n.x)*o,r+=(i.y+n.y)*o,s+=3*o;return l=0===s?c[0]:[a/s,r/s],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=Oi.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof j&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Oi.prototype._setLatLngs.call(this,t),fi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new E(e,e);if(t=new $(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,s=this._rings.length;o<s;o++)(n=gi(this._rings[o],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,o,s,a,r,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,r=this._parts.length;o<r;o++)for(s=0,a=(l=(e=this._parts[o]).length)-1;s<l;a=s++)i=e[s],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(c=!c);return c||Oi.prototype._containsPoint.call(this,t,!0)}});var Bi=Pi.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=_(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var a=ji(t,s);return a?(a.feature=Zi(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function ji(t,e){var i,n,o,s,a="Feature"===t.type?t.geometry:t,r=a?a.coordinates:null,l=[],c=e&&e.pointToLayer,h=e&&e.coordsToLatLng||Ri;if(!r&&!a)return null;switch(a.type){case"Point":return zi(c,t,i=h(r),e);case"MultiPoint":for(o=0,s=r.length;o<s;o++)i=h(r[o]),l.push(zi(c,t,i,e));return new Pi(l);case"LineString":case"MultiLineString":return n=Fi(r,"LineString"===a.type?0:1,h),new Oi(n,e);case"Polygon":case"MultiPolygon":return n=Fi(r,"Polygon"===a.type?1:2,h),new Ni(n,e);case"GeometryCollection":for(o=0,s=a.geometries.length;o<s;o++){var u=ji({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);u&&l.push(u)}return new Pi(l);default:throw new Error("Invalid GeoJSON object.")}}function zi(t,e,i,n){return t?t(e,i):new Ei(i,n&&n.markersInheritOptions&&n)}function Ri(t){return new j(t[1],t[0],t[2])}function Fi(t,e,i){for(var n,o=[],s=0,a=t.length;s<a;s++)n=e?Fi(t[s],e-1,i):(i||Ri)(t[s]),o.push(n);return o}function Hi(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function qi(t,e,i,n){for(var o=[],s=0,a=t.length;s<a;s++)o.push(e?qi(t[s],e-1,i,n):Hi(t[s],n));return!e&&i&&o.push(o[0]),o}function Wi(t,i){return t.feature?e({},t.feature,{geometry:i}):Zi(i)}function Zi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Ui={toGeoJSON:function(t){return Wi(this,{type:"Point",coordinates:Hi(this.getLatLng(),t)})}};function Ki(t,e){return new Bi(t,e)}Ei.include(Ui),$i.include(Ui),Mi.include(Ui),Oi.include({toGeoJSON:function(t){var e=!fi(this._latlngs);return Wi(this,{type:(e?"Multi":"")+"LineString",coordinates:qi(this._latlngs,e?1:0,!1,t)})}}),Ni.include({toGeoJSON:function(t){var e=!fi(this._latlngs),i=e&&!fi(this._latlngs[0]),n=qi(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),Wi(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),ki.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(i){e.push(i.toGeoJSON(t).geometry.coordinates)})),Wi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(i)n.push(o.geometry);else{var s=Zi(o);"FeatureCollection"===s.type?n.push.apply(n,s.features):n.push(s)}}})),i?Wi(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Vi=Ki,Gi=Ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=B(e),d(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&ae(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ie("img");le(e,"leaflet-image-layer"),this._zoomAnimated&&le(e,"leaflet-zoom-animated"),this.options.className&&le(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=n(this.fire,this,"load"),e.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;fe(this._image,i,e)},_reset:function(){var t=this._image,e=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();me(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Xi=Gi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ie("video");if(le(e,"leaflet-image-layer"),this._zoomAnimated&&le(e,"leaflet-zoom-animated"),this.options.className&&le(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=n(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),o=[],s=0;s<i.length;s++)o.push(i[s].src);this._url=i.length>0?o:[e.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var a=0;a<this._url.length;a++){var r=ie("source");r.src=this._url[a],e.appendChild(r)}}}});var Yi=Gi.extend({_initImage:function(){var t=this._image=this._url;le(t,"leaflet-image-layer"),this._zoomAnimated&&le(t,"leaflet-zoom-animated"),this.options.className&&le(t,this.options.className),t.onselectstart=l,t.onmousemove=l}});var Ji=Ci.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&de(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(n(ne,void 0,this._container),200)):ne(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=z(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&ae(this._container),this},_prepareOpen:function(t,e,i){if(e instanceof Ci||(i=e,e=t),e instanceof Pi)for(var n in t._layers){e=t._layers[n];break}if(!i)if(e.getCenter)i=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");i=e.getLatLng()}return this._source=e,this.update(),i},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=M(this.options.offset),i=this._getAnchor();this._zoomAnimated?me(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Qi=Ji.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ji.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ii||this._source.on("preclick",Ie))},onRemove:function(t){Ji.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ii||this._source.off("preclick",Ie))},getEvents:function(){var t=Ji.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ie("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=ie("div",t+"-content-wrapper",e);if(this._contentNode=ie("div",t+"-content",i),$e(e),Me(this._contentNode),Ce(e,"contextmenu",Ie),this._tipContainer=ie("div",t+"-tip-container",e),this._tip=ie("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=ie("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",Ce(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&n>o?(e.height=o+"px",le(t,s)):ce(t,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();me(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ee(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new E(this._containerLeft,-i-this._containerBottom);o._add(_e(this._container));var s=t.layerPointToContainerPoint(o),a=M(this.options.autoPanPadding),r=M(this.options.autoPanPaddingTopLeft||a),l=M(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),h=0,u=0;s.x+n+l.x>c.x&&(h=s.x+n-c.x+l.x),s.x-h-r.x<0&&(h=s.x-r.x),s.y+i+l.y>c.y&&(u=s.y+i-c.y+l.y),s.y-u-r.y<0&&(u=s.y-r.y),(h||u)&&t.fire("autopanstart").panBy([h,u])}},_onCloseButtonClick:function(t){this._close(),Ne(t)},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(t,e,i){return t instanceof Qi||(t=new Qi(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Ci.include({bindPopup:function(t,e){return t instanceof Qi?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Qi(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Ne(t),e instanceof Ii?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var tn=Ji.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ji.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ji.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ji.prototype.getEvents.call(this);return xt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,n=this._map,o=this._container,s=n.latLngToContainerPoint(n.getCenter()),a=n.layerPointToContainerPoint(t),r=this.options.direction,l=o.offsetWidth,c=o.offsetHeight,h=M(this.options.offset),u=this._getAnchor();"top"===r?(e=l/2,i=c):"bottom"===r?(e=l/2,i=0):"center"===r?(e=l/2,i=c/2):"right"===r?(e=0,i=c/2):"left"===r?(e=l,i=c/2):a.x<s.x?(r="right",e=0,i=c/2):(r="left",e=l+2*(h.x+u.x),i=c/2),t=t.subtract(M(e,i,!0)).add(h).add(u),ce(o,"leaflet-tooltip-right"),ce(o,"leaflet-tooltip-left"),ce(o,"leaflet-tooltip-top"),ce(o,"leaflet-tooltip-bottom"),le(o,"leaflet-tooltip-"+r),me(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&de(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ue.include({openTooltip:function(t,e,i){return t instanceof tn||(t=new tn(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Ci.include({bindTooltip:function(t,e){return t instanceof tn?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new tn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),xt&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(le(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ce(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var en=Li.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(oe(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=M(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Li.Default=Di;var nn=Ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ne(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ae(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof E?t:new E(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),o=0,s=i.length;o<s;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){de(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var s=Math.min(1,(t-o.loaded)/200);de(o.el,s),s<1?e=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(C(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(ne(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ne(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),s=Math.floor(e/2),a=i-1,r=new E(+o,+s);r.z=+a;var l=this._tileCoordsToKey(r),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>n&&this._retainParent(o,s,a,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var s=2*e;s<2*e+2;s++){var a=new E(o,s);a.z=i+1;var r=this._tileCoordsToKey(a),l=this._tiles[r];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(o,s,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var s=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();_t?fe(t.el,o,n):me(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*n);return new $(o.subtract(s),o.add(s))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),s=o.getCenter(),a=[],r=this.options.keepBuffer,l=new $(o.getBottomLeft().subtract([r,-r]),o.getTopRight().add([r,-r]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var h=this._tiles[c].coords;h.z===this._tileZoom&&l.contains(new E(h.x,h.y))||(this._tiles[c].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var u=o.min.y;u<=o.max.y;u++)for(var d=o.min.x;d<=o.max.x;d++){var p=new E(d,u);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:a.push(p)}}if(a.sort((function(t,e){return t.distanceTo(s)-e.distanceTo(s)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i);return[e.unproject(n,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new N(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new E(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(ne(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){le(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,Q&&this.options.opacity<1&&de(t,this.options.opacity),it&&!nt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&T(n(this._tileReady,this,t,null,s)),me(s,i),this._tiles[o]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);(i=this._tiles[o])&&(i.loaded=+new Date,this._map._fadeAnimated?(de(i.el,0),C(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(le(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new E(this._wrapX?r(t.x,this._wrapX):t.x,this._wrapY?r(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new $(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var on=nn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Ct&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),it||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Ce(i,"load",n(this._tileOnLoad,this,e,i)),Ce(i,"error",n(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var i={r:Ct?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=n),i["-y"]=n}return m(this._url,e(i,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=v,ne(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return st||e.el.setAttribute("src",v),nn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==v))return nn.prototype._tileReady.call(this,t,e,i)}});function sn(t,e){return new on(t,e)}var an=on.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var n=e({},this.defaultWmsParams);for(var o in i)o in this.options||(n[o]=i[o]);var s=(i=d(this,i)).detectRetina&&Ct?2:1,a=this.getTileSize();n.width=a.x*s,n.height=a.y*s,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,on.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=O(i.project(e[0]),i.project(e[1])),o=n.min,s=n.max,a=(this._wmsVersion>=1.3&&this._crs===Si?[o.y,o.x,s.y,s.x]:[o.x,o.y,s.x,s.y]).join(","),r=on.prototype.getTileUrl.call(this,t);return r+p(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,i){return e(this.wmsParams,t),i||this.redraw(),this}});on.WMS=an,sn.wms=function(t,e){return new an(t,e)};var rn=Ci.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=_e(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),a=this._map.project(t,e).subtract(s),r=o.multiplyBy(-i).add(n).add(o).subtract(a);_t?fe(this._container,r,i):me(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new $(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ln=rn.extend({getEvents:function(){var t=rn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ce(t,"mousemove",this._onMouseMove,this),Ce(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ce(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,ne(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){rn.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=Ct?2:1;me(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Ct&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),o=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,s,a=t._parts,r=a.length,l=this._ctx;if(r){for(l.beginPath(),i=0;i<r;i++){for(n=0,o=a[i].length;n<o;n++)s=a[i][n],l[n?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(i=e);i&&(Fe(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ce(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,o,s=this._drawFirst;s;s=s.next)(i=s.layer).options.interactive&&i._containsPoint(e)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(le(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(n((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function cn(t){return Pt?new ln(t):null}var hn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),un={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=hn("shape");le(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=hn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ne(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=hn("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=_(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=hn("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){se(t._container)},_bringToBack:function(t){ae(t._container)}},dn=Dt?hn:G,pn=rn.extend({getEvents:function(){var t=rn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=dn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){rn.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),me(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=dn("path");t.options.className&&le(e,t.options.className),t.options.interactive&&le(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ne(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,X(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){se(t._path)},_bringToBack:function(t){ae(t._path)}});function fn(t){return Lt||Dt?new pn(t):null}Dt&&pn.include(un),Ue.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&cn(t)||fn(t)}});var mn=Ni.extend({initialize:function(t,e){Ni.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=B(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pn.create=dn,pn.pointsToPath=X,Bi.geometryToLayer=ji,Bi.coordsToLatLng=Ri,Bi.coordsToLatLngs=Fi,Bi.latLngToCoords=Hi,Bi.latLngsToCoords=qi,Bi.getFeature=Wi,Bi.asFeature=Zi,Ue.mergeOptions({boxZoom:!0});var _n=Qe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Ut(),ve(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ce(document,{contextmenu:Ne,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new $(this._point,this._startPoint),i=e.getSize();me(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(ne(this._box),ce(this._container,"leaflet-crosshair")),Kt(),ye(),Pe(document,{contextmenu:Ne,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ue.addInitHook("addHandler","boxZoom",_n),Ue.mergeOptions({doubleClickZoom:!0});var gn=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ue.addInitHook("addHandler","doubleClickZoom",gn),Ue.mergeOptions({dragging:!0,inertia:!nt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vn=Qe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new si(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ce(this._map._container,"leaflet-grab"),ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,a=i.easeLinearity,r=o.multiplyBy(a/s),l=r.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,l),h=r.multiplyBy(c/l),u=c/(i.inertiaDeceleration*a),d=h.multiplyBy(-u/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),T((function(){e.panBy(d,{duration:u,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Ue.addInitHook("addHandler","dragging",vn),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yn=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ce(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys)n._panAnim&&n._panAnim._inProgress||(e=this._panKeys[i],t.shiftKey&&(e=M(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Ne(t)}}});Ue.addInitHook("addHandler","keyboard",yn),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bn=Qe.extend({addHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=ze(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),o),Ne(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=i?Math.ceil(o/i)*i:o,a=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Ue.addInitHook("addHandler","scrollWheelZoom",bn),Ue.mergeOptions({tap:!0,tapTolerance:15});var wn=Qe.extend({addHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Oe(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new E(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&le(i,"leaflet-active"),this._holdTimeout=setTimeout(n((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Ce(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Pe(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&ce(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new E(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});!xt||wt&&!ct||Ue.addInitHook("addHandler","tap",wn),Ue.mergeOptions({touchZoom:xt&&!nt,bounceAtZoomLimits:!0});var xn=Qe.extend({addHooks:function(){le(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ce(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend",this._onTouchEnd,this),Oe(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),s=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var a=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var r=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(r,this,!0),Oe(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ue.addInitHook("addHandler","touchZoom",xn),Ue.BoxZoom=_n,Ue.DoubleClickZoom=gn,Ue.Drag=vn,Ue.Keyboard=yn,Ue.ScrollWheelZoom=bn,Ue.Tap=wn,Ue.TouchZoom=xn,t.version="1.7.1",t.Control=Ke,t.control=Ve,t.Browser=Et,t.Evented=A,t.Mixin=ei,t.Util=k,t.Class=P,t.Handler=Qe,t.extend=e,t.bind=n,t.stamp=s,t.setOptions=d,t.DomEvent=We,t.DomUtil=Te,t.PosAnimation=Ze,t.Draggable=si,t.LineUtil=_i,t.PolyUtil=vi,t.Point=E,t.point=M,t.Bounds=$,t.bounds=O,t.Transformation=Z,t.transformation=U,t.Projection=wi,t.LatLng=j,t.latLng=z,t.LatLngBounds=N,t.latLngBounds=B,t.CRS=F,t.GeoJSON=Bi,t.geoJSON=Ki,t.geoJson=Vi,t.Layer=Ci,t.LayerGroup=ki,t.layerGroup=function(t,e){return new ki(t,e)},t.FeatureGroup=Pi,t.featureGroup=function(t,e){return new Pi(t,e)},t.ImageOverlay=Gi,t.imageOverlay=function(t,e,i){return new Gi(t,e,i)},t.VideoOverlay=Xi,t.videoOverlay=function(t,e,i){return new Xi(t,e,i)},t.SVGOverlay=Yi,t.svgOverlay=function(t,e,i){return new Yi(t,e,i)},t.DivOverlay=Ji,t.Popup=Qi,t.popup=function(t,e){return new Qi(t,e)},t.Tooltip=tn,t.tooltip=function(t,e){return new tn(t,e)},t.Icon=Li,t.icon=function(t){return new Li(t)},t.DivIcon=en,t.divIcon=function(t){return new en(t)},t.Marker=Ei,t.marker=function(t,e){return new Ei(t,e)},t.TileLayer=on,t.tileLayer=sn,t.GridLayer=nn,t.gridLayer=function(t){return new nn(t)},t.SVG=pn,t.svg=fn,t.Renderer=rn,t.Canvas=ln,t.canvas=cn,t.Path=Ii,t.CircleMarker=Mi,t.circleMarker=function(t,e){return new Mi(t,e)},t.Circle=$i,t.circle=function(t,e,i){return new $i(t,e,i)},t.Polyline=Oi,t.polyline=function(t,e){return new Oi(t,e)},t.Polygon=Ni,t.polygon=function(t,e){return new Ni(t,e)},t.Rectangle=mn,t.rectangle=function(t,e){return new mn(t,e)},t.Map=Ue,t.map=function(t,e){return new Ue(t,e)};var Sn=window.L;t.noConflict=function(){return window.L=Sn,this},window.L=t})),function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";const t=L.extend({},L.DomUtil);L.extend(L.DomUtil,{setTransform:function(e,i,n,o,s){var a=i||new L.Point(0,0);if(!o)return i=a._round(),t.setTransform.call(this,e,i,n);a=a.rotateFrom(o,s),e.style[L.DomUtil.TRANSFORM]="translate3d("+a.x+"px,"+a.y+"px,0)"+(n?" scale("+n+")":"")+" rotate("+o+"rad)"},setPosition:function(e,i,n,o){if(!n)return t.setPosition.call(this,e,i);e._leaflet_pos=i,L.Browser.any3d?L.DomUtil.setTransform(e,i,void 0,n,o):(e.style.left=i.x+"px",e.style.top=i.y+"px")},DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI}),L.Draggable.include({updateMapBearing:function(t){this._mapBearing=t}}),L.extend(L.Point.prototype,{rotate:function(t){if(!t)return this;var e=Math.sin(t),i=Math.cos(t);return new L.Point(this.x*i-this.y*e,this.x*e+this.y*i)},rotateFrom:function(t,e){if(!t)return this;var i=Math.sin(t),n=Math.cos(t),o=e.x,s=e.y,a=this.x-o,r=this.y-s;return new L.Point(a*n-r*i+o,a*i+r*n+s)}});const e=L.extend({},L.DivOverlay.prototype);L.DivOverlay.include({getEvents:function(){return L.extend(e.getEvents.call(this),{rotate:this._updatePosition})},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=L.point(this.options.offset),i=this._getAnchor();this._zoomAnimated?(this._map._rotate&&(t=this._map.rotatedPointToMapPanePoint(t)),L.DomUtil.setPosition(this._container,t.add(i))):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}}});const i=L.extend({},L.Popup.prototype);L.Popup.include({_animateZoom:function(t){this._map._rotate||i._animateZoom.call(this,t);var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();e=this._map.rotatedPointToMapPanePoint(e),L.DomUtil.setPosition(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(L.DomUtil.getStyle(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new L.Point(this._containerLeft,-i-this._containerBottom);o._add(L.DomUtil.getPosition(this._container));var s=o._add(this._map._getMapPanePos()),a=L.point(this.options.autoPanPadding),r=L.point(this.options.autoPanPaddingTopLeft||a),l=L.point(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),h=0,u=0;s.x+n+l.x>c.x&&(h=s.x+n-c.x+l.x),s.x-h-r.x<0&&(h=s.x-r.x),s.y+i+l.y>c.y&&(u=s.y+i-c.y+l.y),s.y-u-r.y<0&&(u=s.y-r.y),(h||u)&&t.fire("autopanstart").panBy([h,u])}}});const n=L.extend({},L.Tooltip.prototype);L.Tooltip.include({_updatePosition:function(){if(!this._map._rotate)return n._updatePosition.call(this);var t=this._map.latLngToLayerPoint(this._latlng);t=this._map.rotatedPointToMapPanePoint(t),this._setPosition(t)},_animateZoom:function(t){if(!this._map._rotate)return n._animateZoom.call(this,t);var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);e=this._map.rotatedPointToMapPanePoint(e),this._setPosition(e)}});L.extend({},L.Icon.prototype);L.Icon.include({_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=L.point(n),s=L.point("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px",t.style[L.DomUtil.TRANSFORM+"Origin"]=s.x+"px "+s.y+"px 0px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")}});const o=L.extend({},L.Marker.prototype);L.Marker.mergeOptions({rotation:0,rotateWithView:!1}),L.Marker.include({getEvents:function(){return L.extend(o.getEvents.call(this),{rotate:this.update})},onAdd:function(t){o.onAdd.call(this,t),t.on("rotate",this.update,this)},_initInteraction:function(){var t=o._initInteraction.call(this);return this.dragging&&this._map&&this._map._rotate&&this.dragging.disable(),t},_setPos:function(t){this._map._rotate&&(t=this._map.rotatedPointToMapPanePoint(t));var e=this.options.rotation||0;this.options.rotateWithView&&(e+=this._map._bearing),L.DomUtil.setPosition(this._icon,t,e,t),this._shadow&&L.DomUtil.setPosition(this._shadow,t,e,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){if(!this._map._rotate)return o._updateZIndex.call(this,t);this._icon.style.zIndex=Math.round(this._zIndex+t)},setRotation:function(t){this.options.rotation=t,this.update()}});const s=L.extend({},L.GridLayer.prototype);L.GridLayer.include({getEvents:function(){var t=s.getEvents.call(this);return this._map._rotate&&!this.options.updateWhenIdle&&(this._onRotate||(this._onRotate=L.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.rotate=this._onRotate),t},_getTiledPixelBounds:function(t){if(!this._map._rotate)return s._getTiledPixelBounds.call(this,t);var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),a=e.getSize(),r=new L.Bounds([e.containerPointToLayerPoint([0,0]).floor(),e.containerPointToLayerPoint([a.x,0]).floor(),e.containerPointToLayerPoint([0,a.y]).floor(),e.containerPointToLayerPoint([a.x,a.y]).floor()]).getSize().divideBy(2*n);return new L.Bounds(o.subtract(r),o.add(r))}});const a=L.extend({},L.Canvas.prototype);L.Canvas.include({onAdd:function(){a.onAdd.call(this),this._map.on("rotate",this._redraw,this)},onRemove:function(){a.onRemove.call(this),this._map.off("rotate",this._redraw,this)},_update:function(){a._update.call(this),this.fire("update")}});const r=L.extend({},L.Renderer.prototype);L.Renderer.include({onAdd:function(){r.onAdd.call(this)},onRemove:function(){r.onRemove.call(this)},_updateTransform:function(t,e){if(!this._map._rotate)return r._updateTransform.call(this,t,e);var i=this._map.getZoomScale(e,this._zoom),n=this._map._latLngToNewLayerPoint(this._topLeft,e,t);L.Browser.any3d?L.DomUtil.setTransform(this._container,n,i):L.DomUtil.setPosition(this._container,n)},_update:function(){if(!this._map._rotate)return r._update.call(this);var t=this.options.padding,e=this._map,i=this._map.getSize(),n=i.multiplyBy(-t),o=i.multiplyBy(1+t),s=new L.Bounds([e.containerPointToLayerPoint([n.x,n.y]).floor(),e.containerPointToLayerPoint([n.x,o.y]).floor(),e.containerPointToLayerPoint([o.x,n.y]).floor(),e.containerPointToLayerPoint([o.x,o.y]).floor()]);this._bounds=s,this._topLeft=this._map.layerPointToLatLng(s.min),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}});const l=L.extend({},L.SVG.prototype);L.SVG.include({_update:function(){l._update.call(this),this._map._rotate&&this.fire("update")}});const c=L.extend({},L.Map.prototype);L.Map.mergeOptions({rotate:!1,bearing:0}),L.Map.include({initialize:function(t,e){e.rotate&&(this._rotate=!0,this._bearing=0),c.initialize.call(this,t,e),this.options.rotate&&this.setBearing(this.options.bearing)},containerPointToLayerPoint:function(t){return this._rotate?L.point(t).subtract(this._getMapPanePos()).rotateFrom(-this._bearing,this._getRotatePanePos()).subtract(this._getRotatePanePos()):c.containerPointToLayerPoint.call(this,t)},getBounds:function(){if(!this._rotate)return c.getBounds.call(this);var t=this.getSize(),e=this.layerPointToLatLng(this.containerPointToLayerPoint([0,0])),i=this.layerPointToLatLng(this.containerPointToLayerPoint([t.x,0])),n=this.layerPointToLatLng(this.containerPointToLayerPoint([t.x,t.y])),o=this.layerPointToLatLng(this.containerPointToLayerPoint([0,t.y]));return new L.LatLngBounds([e,i,n,o])},layerPointToContainerPoint:function(t){return this._rotate?L.point(t).add(this._getRotatePanePos()).rotateFrom(this._bearing,this._getRotatePanePos()).add(this._getMapPanePos()):c.layerPointToContainerPoint.call(this,t)},setBearing:function(t){if(L.Browser.any3d&&this._rotate){var e=this._getRotatePanePos(),i=this.getSize().divideBy(2);this._pivot=this._getMapPanePos().clone().multiplyBy(-1).add(i),e=e.rotateFrom(-this._bearing,this._pivot),this._bearing=t*L.DomUtil.DEG_TO_RAD,this._rotatePanePos=e.rotateFrom(this._bearing,this._pivot),L.DomUtil.setPosition(this._rotatePane,e,this._bearing,this._pivot),this.fire("rotate")}},getBearing:function(){return this._bearing*L.DomUtil.RAD_TO_DEG},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),L.DomUtil.setPosition(this._mapPane,new L.Point(0,0)),this._rotate?(this._rotatePane=this.createPane("rotatePane",this._mapPane),this._norotatePane=this.createPane("norotatePane",this._mapPane),this.createPane("tilePane",this._rotatePane),this.createPane("overlayPane",this._rotatePane),this.createPane("shadowPane",this._norotatePane),this.createPane("markerPane",this._norotatePane),this.createPane("tooltipPane",this._norotatePane),this.createPane("popupPane",this._norotatePane)):(this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane")),this.options.markerZoomAnimation||(L.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),L.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},rotatedPointToMapPanePoint:function(t){return L.point(t).rotate(this._bearing)._add(this._getRotatePanePos())},mapPanePointToRotatedPoint:function(t){return L.point(t)._subtract(this._getRotatePanePos()).rotate(-this._bearing)},_getCenterOffset:function(t){var e=c._getCenterOffset.call(this,t);return this._rotate&&(e=e.rotate(this._bearing)),e},_getRotatePanePos:function(){return this._rotatePanePos||new L.Point(0,0)},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this._rotate||c._getNewPixelOrigin.call(this,t,e),this.project(t,e).rotate(this._bearing)._subtract(i)._add(this._getMapPanePos())._add(this._getRotatePanePos()).rotate(-this._bearing)._round()},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=t.coords.heading,o=new L.LatLng(e,i),s=o.toBounds(t.coords.accuracy),a=this._locateOptions;if(a.setView){var r=this.getBoundsZoom(s);this.setView(o,a.maxZoom?Math.min(r,a.maxZoom):r)}var l={latlng:o,bounds:s,timestamp:t.timestamp,heading:n};for(var c in t.coords)"number"==typeof t.coords[c]&&(l[c]=t.coords[c]);this.fire("locationfound",l)}}),L.Map.CompassBearing=L.Handler.extend({initialize:function(t){window.DeviceOrientationEvent?(this._capable=!0,this._map=t,this._throttled=L.Util.throttle(this._onDeviceOrientation,1e3,this)):this._capable=!1},addHooks:function(){this._capable&&this._map._rotate&&L.DomEvent.on(window,"deviceorientation",this._throttled,this)},removeHooks:function(){this._capable&&this._map._rotate&&L.DomEvent.off(window,"deviceorientation",this._throttled,this)},_onDeviceOrientation:function(t){null!==t.alpha&&this._map.setBearing(t.alpha-window.orientation)}}),L.Map.addInitHook("addHandler","compassBearing",L.Map.CompassBearing),L.Map.mergeOptions({trackContainerMutation:!1}),L.Map.ContainerMutation=L.Handler.extend({addHooks:function(){L.Browser.mutation&&(this._observer||(this._observer=new MutationObserver(L.Util.bind(this._onMutation,this))),this._observer.observe(this._map.getContainer(),{childList:!1,attributes:!0,characterData:!1,subtree:!1,attributeFilter:["style"]}))},removeHooks:function(){L.Browser.mutation&&this._observer.disconnect()},_onMutation:function(){this._map.invalidateSize()}}),L.Map.addInitHook("addHandler","trackContainerMutation",L.Map.ContainerMutation),L.Map.mergeOptions({bounceAtZoomLimits:!0}),L.Map.TouchGestures=L.Handler.extend({initialize:function(t){this._map=t,this.rotate=!!this._map.options.touchRotate,this.zoom=!!this._map.options.touchZoom},addHooks:function(){L.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){L.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming&&!this._rotating){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),o=i.subtract(n);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),this.zoom?("center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._zooming=!0):this._zooming=!1,this.rotate?(this._startTheta=Math.atan(o.x/o.y),this._startBearing=e.getBearing(),o.y<0&&(this._startBearing+=180),this._rotating=!0):this._rotating=!1,this._moved=!1,e.stop(),L.DomEvent.on(document,"touchmove",this._onTouchMove,this).on(document,"touchend",this._onTouchEnd,this),L.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&(this._zooming||this._rotating)){var e,i=this._map,n=i.mouseEventToContainerPoint(t.touches[0]),o=i.mouseEventToContainerPoint(t.touches[1]),s=n.subtract(o),a=n.distanceTo(o)/this._startDist;if(this._rotating){var r=(Math.atan(s.x/s.y)-this._startTheta)*L.DomUtil.RAD_TO_DEG;s.y<0&&(r+=180),r&&i.setBearing(this._startBearing-r)}if(this._zooming)if(this._zoom=i.getScaleZoom(a,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&a<1||this._zoom>i.getMaxZoom()&&a>1)&&(this._zoom=i._limitZoom(this._zoom)),"center"===i.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{if(e=n._add(o)._divideBy(2)._subtract(this._centerPoint),1===a&&0===e.x&&0===e.y)return;var l=-i.getBearing()*L.DomUtil.DEG_TO_RAD;this._center=i.unproject(i.project(this._pinchStartLatLng).subtract(e.rotate(l)))}this._moved||(i._moveStart(!0),this._moved=!0),L.Util.cancelAnimFrame(this._animRequest);var c=L.bind(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=L.Util.requestAnimFrame(c,this,!0),L.DomEvent.preventDefault(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,this._rotating=!1,L.Util.cancelAnimFrame(this._animRequest),L.DomEvent.off(document,"touchmove",this._onTouchMove).off(document,"touchend",this._onTouchEnd),this.zoom&&(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.snapZoom):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):this._zooming=!1}}),L.Map.addInitHook("addHandler","touchGestures",L.Map.TouchGestures),L.Map.mergeOptions({touchRotate:!1}),L.Map.TouchRotate=L.Handler.extend({addHooks:function(){this._map.touchGestures.enable(),this._map.touchGestures.rotate=!0},removeHooks:function(){this._map.touchGestures.rotate=!1}}),L.Map.addInitHook("addHandler","touchRotate",L.Map.TouchRotate),L.Map.mergeOptions({shiftKeyRotate:!0}),L.Map.ShiftKeyRotate=L.Handler.extend({addHooks:function(){L.DomEvent.on(this._map._container,"wheel",this._handleShiftScroll,this),this._map.shiftKeyRotate.rotate=!0},removeHooks:function(){L.DomEvent.off(this._map._container,"wheel",this._handleShiftScroll,this),this._map.shiftKeyRotate.rotate=!1},_handleShiftScroll:function(t){t.shiftKey?(t.preventDefault(),this._map.scrollWheelZoom.disable(),this._map.setBearing(this._map._bearing*L.DomUtil.RAD_TO_DEG+t.deltaY)):this._map.scrollWheelZoom.enable()}}),L.Map.addInitHook("addHandler","shiftKeyRotate",L.Map.ShiftKeyRotate),L.Map.mergeOptions({touchZoom:L.Browser.touch&&!L.Browser.android23,bounceAtZoomLimits:!1}),L.Map.TouchZoom=L.Handler.extend({addHooks:function(){L.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),this._map.touchGestures.enable(),this._map.touchGestures.zoom=!0},removeHooks:function(){L.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),this._map.touchGestures.zoom=!1}}),L.Map.addInitHook("addHandler","touchZoom",L.Map.TouchZoom),L.Control.Rotate=L.Control.extend({options:{position:"topleft",closeOnZeroBearing:!0,hidden:!0},onAdd:function(t){this._onDeviceOrientation=L.Util.throttle(this._unthrottledOnDeviceOrientation,100,this);var e=this._container=L.DomUtil.create("div","leaflet-control-rotate leaflet-bar"),i=this._arrow=L.DomUtil.create("span","leaflet-control-rotate-arrow");i.style.backgroundImage="url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")",i.style.cursor="grab",i.style.display="block",i.style.width="100%",i.style.height="100%",i.style.backgroundRepeat="no-repeat",i.style.backgroundPosition="50%";var n=this._link=L.DomUtil.create("a","leaflet-control-rotate-toggle",e);return n.appendChild(i),n.href="#",n.title="leaflet-control-rotate-toggle",L.DomEvent.on(n,"dblclick",L.DomEvent.stopPropagation).on(n,"mousedown",this._handleMouseDown,this).on(n,"click",L.DomEvent.stop).on(n,"click",this._cycleState,this).on(n,"click",this._refocusOnMap,this),L.Browser.any3d||L.DomUtil.addClass(n,"leaflet-disabled"),this._restyle(),t.on("rotate",this._restyle.bind(this)),this._follow=!1,this._canFollow=!1,(this.options.closeOnZeroBearing&&0===t.getBearing()||this.options.hidden)&&(e.style.display="none"),e},_handleMouseDown:function(t){L.DomEvent.stopPropagation(t),this.dragging=!0,this.dragstartX=t.pageX,this.dragstartY=t.pageY,L.DomEvent.on(document,"mousemove",this._handleMouseDrag,this).on(document,"mouseup",this._handleMouseUp,this)},_handleMouseUp:function(t){L.DomEvent.stopPropagation(t),this.dragging=!1,L.DomEvent.off(document,"mousemove",this._handleMouseDrag,this).off(document,"mouseup",this._handleMouseUp,this)},_handleMouseDrag:function(t){if(this.dragging){var e=t.clientX-this.dragstartX;this._map.setBearing(e)}},_cycleState:function(t){var e=this._map;e&&(e.touchRotate.enabled()||e.compassBearing.enabled()?e.compassBearing.enabled()?(e.compassBearing.disable(),e.setBearing(0),this.options.closeOnZeroBearing&&e.touchRotate.enable()):(e.touchRotate.disable(),e.compassBearing.enable()):e.touchRotate.enable(),this._restyle())},_restyle:function(){if(this._map.options.rotate){var t=this._map,e=t.getBearing();this.options.closeOnZeroBearing&&e&&(this._container.style.display="block");var i="rotate("+e+"deg)";this._arrow.style.transform=i,t.compassBearing.enabled()?this._link.style.backgroundColor="orange":t.touchRotate.enabled()?this._link.style.backgroundColor=null:(this._link.style.backgroundColor="grey",this.options.closeOnZeroBearing&&0===t.getBearing()&&(this._container.style.display="none"))}else L.DomUtil.addClass(link,"leaflet-disabled")}}),L.control.rotate=function(t){return new L.Control.Rotate(t)},L.Map.mergeOptions({rotateControl:!0}),L.Map.addInitHook((function(){if(this.options.rotateControl){var t="object"==typeof this.options.rotateControl?this.options.rotateControl:{};this.rotateControl=L.control.rotate(t),this.addControl(this.rotateControl)}}))})),L.Control.GroupedLayers=L.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,exclusiveGroups:[],groupCheckboxes:!1},initialize:function(t,e,i){var n,o;for(n in L.Util.setOptions(this,i),this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._groupList=[],this._domGroups=[],t)this._addLayer(t[n],n);for(n in e)for(o in e[n])this._addLayer(e[n][o],o,n,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e,i){return this._addLayer(t,e,i,!0),this._update(),this},removeLayer:function(t){var e=L.Util.stamp(t),i=this._getLayer(e);return i&&delete this._layers[this._layers.indexOf(i)],this._update(),this},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&L.stamp(this._layers[e].layer)===t)return this._layers[e]},_initLayout:function(){var t="leaflet-control-layers",e=this._container=L.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),L.Browser.touch?L.DomEvent.on(e,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(e),L.DomEvent.on(e,"wheel",L.DomEvent.stopPropagation));var i=this._form=L.DomUtil.create("form",t+"-list");if(this.options.collapsed){L.Browser.android||L.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var n=this._layersLink=L.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",L.Browser.touch?L.DomEvent.on(n,"click",L.DomEvent.stop).on(n,"click",this._expand,this):L.DomEvent.on(n,"focus",this._expand,this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=L.DomUtil.create("div",t+"-base",i),this._separator=L.DomUtil.create("div",t+"-separator",i),this._overlaysList=L.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_addLayer:function(t,e,i,n){L.Util.stamp(t);var o={layer:t,name:e,overlay:n};this._layers.push(o),i=i||"";var s=this._indexOf(this._groupList,i);-1===s&&(s=this._groupList.push(i)-1);var a=-1!==this._indexOf(this.options.exclusiveGroups,i);o.group={name:i,id:s,exclusive:a},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="",this._domGroups.length=0;for(var t,e=!1,i=!1,n=0;n<this._layers.length;n++)t=this._layers[n],this._addItem(t),i=i||t.overlay,e=e||!t.overlay;this._separator.style.display=i&&e?"":"none"}},_onLayerChange:function(t){var e,i=this._getLayer(L.Util.stamp(t.layer));i&&(this._handlingClick||this._update(),(e=i.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null)&&this._map.fire(e,i))},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(i+=' checked="checked"'),i+="/>";var n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i,n,o=document.createElement("label"),s=this._map.hasLayer(t.layer);t.overlay?t.group.exclusive?(n="leaflet-exclusive-group-layer-"+t.group.id,e=this._createRadioElement(n,s)):((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=s):e=this._createRadioElement("leaflet-base-layers",s),e.layerId=L.Util.stamp(t.layer),e.groupID=t.group.id,L.DomEvent.on(e,"click",this._onInputClick,this);var a=document.createElement("span");if(a.innerHTML=" "+t.name,o.appendChild(e),o.appendChild(a),t.overlay){i=this._overlaysList;var r=this._domGroups[t.group.id];if(!r){(r=document.createElement("div")).className="leaflet-control-layers-group",r.id="leaflet-control-layers-group-"+t.group.id;var l=document.createElement("label");if(l.className="leaflet-control-layers-group-label",""!==t.group.name&&!t.group.exclusive&&this.options.groupCheckboxes){var c=document.createElement("input");c.type="checkbox",c.className="leaflet-control-layers-group-selector",c.groupID=t.group.id,c.legend=this,L.DomEvent.on(c,"click",this._onGroupInputClick,c),l.appendChild(c)}var h=document.createElement("span");h.className="leaflet-control-layers-group-name",h.innerHTML=t.group.name,l.appendChild(h),r.appendChild(l),i.appendChild(r),this._domGroups[t.group.id]=r}i=r}else i=this._baseLayersList;return i.appendChild(o),o},_onGroupInputClick:function(){var t,e,i,n=this.legend;n._handlingClick=!0;var o=n._form.getElementsByTagName("input"),s=o.length;for(t=0;t<s;t++)(e=o[t]).groupID===this.groupID&&"leaflet-control-layers-selector"===e.className&&(e.checked=this.checked,i=n._getLayer(e.layerId),e.checked&&!n._map.hasLayer(i.layer)?n._map.addLayer(i.layer):!e.checked&&n._map.hasLayer(i.layer)&&n._map.removeLayer(i.layer));n._handlingClick=!1},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=n.length;for(this._handlingClick=!0,t=0;t<o;t++)"leaflet-control-layers-selector"===(e=n[t]).className&&(i=this._getLayer(e.layerId),e.checked&&!this._map.hasLayer(i.layer)?this._map.addLayer(i.layer):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer));this._handlingClick=!1},_expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded");var t=this._map._size.y-4*this._container.offsetTop;t<this._form.clientHeight&&(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")},_indexOf:function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}}),L.control.groupedLayers=function(t,e,i){return new L.Control.GroupedLayers(t,e,i)},L.Icon.Pulse=L.DivIcon.extend({options:{className:"",iconSize:[12,12],color:"red"},initialize:function(t){L.setOptions(this,t);var e="lpi-"+(new Date).getTime()+"-"+Math.round(1e5*Math.random());this.options.className=this.options.className+" leaflet-pulsing-icon "+e;var i="."+e;i+="."+e+":after{box-shadow: 0 0 4px 6px "+this.options.color+";}";var n=document.createElement("style");n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i)),document.getElementsByTagName("head")[0].appendChild(n),L.DivIcon.prototype.initialize.call(this,t)}}),L.icon.pulse=function(t){return new L.Icon.Pulse(t)},function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}((function(t){"use strict";function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(i))}function i(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var o=n.closest("[type=submit]");if(0===o.length)return;i=o[0]}var s=this;if(s.clk=i,"image"==i.type)if(void 0!==e.offsetX)s.clk_x=e.offsetX,s.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var a=n.offset();s.clk_x=e.pageX-a.left,s.clk_y=e.pageY-a.top}else s.clk_x=e.pageX-i.offsetLeft,s.clk_y=e.pageY-i.offsetTop;setTimeout((function(){s.clk=s.clk_x=s.clk_y=null}),100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var o={};o.fileapi=void 0!==t("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var s=!!t.fn.prop;t.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function i(i){function o(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){n("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){n("cannot get iframe.contentDocument: "+i),e=t.document}return e}function r(){var e=c.attr2("target"),i=c.attr2("action"),s=c.attr("enctype")||c.attr("encoding")||"multipart/form-data";S.setAttribute("target",m),(!a||/post/i.test(a))&&S.setAttribute("method","POST"),i!=d.url&&S.setAttribute("action",d.url),d.skipEncodingOverride||a&&!/post/i.test(a)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout((function(){w=!0,l(C)}),d.timeout));var r=[];try{if(d.extraData)for(var h in d.extraData)d.extraData.hasOwnProperty(h)&&(t.isPlainObject(d.extraData[h])&&d.extraData[h].hasOwnProperty("name")&&d.extraData[h].hasOwnProperty("value")?r.push(t('<input type="hidden" name="'+d.extraData[h].name+'">').val(d.extraData[h].value).appendTo(S)[0]):r.push(t('<input type="hidden" name="'+h+'">').val(d.extraData[h]).appendTo(S)[0]));d.iframeTarget||_.appendTo("body"),g.attachEvent?g.attachEvent("onload",l):g.addEventListener("load",l,!1),setTimeout((function t(){try{var e=o(g).readyState;n("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(t){n("Server abort: ",t," (",t.name,")"),l(k),x&&clearTimeout(x),x=void 0}}),15);try{S.submit()}catch(t){document.createElement("form").submit.apply(S)}}finally{S.setAttribute("action",i),S.setAttribute("enctype",s),e?S.setAttribute("target",e):c.removeAttr("target"),t(r).remove()}}function l(e){if(!v.aborted&&!E){if((A=o(g))||(n("cannot access response document"),e=k),e===C&&v)return v.abort("timeout"),void T.reject(v,"timeout");if(e==k&&v)return v.abort("server abort"),void T.reject(v,"error","server abort");if(A&&A.location.href!=d.iframeSrc||w){g.detachEvent?g.detachEvent("onload",l):g.removeEventListener("load",l,!1);var i,s="success";try{if(w)throw"timeout";var a="xml"==d.dataType||A.XMLDocument||t.isXMLDoc(A);if(n("isXml="+a),!a&&window.opera&&(null===A.body||!A.body.innerHTML)&&--I)return n("requeing onLoad callback, DOM not available"),void setTimeout(l,250);var r=A.body?A.body:A.documentElement;v.responseText=r?r.innerHTML:null,v.responseXML=A.XMLDocument?A.XMLDocument:A,a&&(d.dataType="xml"),v.getResponseHeader=function(t){return{"content-type":d.dataType}[t.toLowerCase()]},r&&(v.status=Number(r.getAttribute("status"))||v.status,v.statusText=r.getAttribute("statusText")||v.statusText);var c=(d.dataType||"").toLowerCase(),h=/(json|script|text)/.test(c);if(h||d.textarea){var u=A.getElementsByTagName("textarea")[0];if(u)v.responseText=u.value,v.status=Number(u.getAttribute("status"))||v.status,v.statusText=u.getAttribute("statusText")||v.statusText;else if(h){var p=A.getElementsByTagName("pre")[0],m=A.getElementsByTagName("body")[0];p?v.responseText=p.textContent?p.textContent:p.innerText:m&&(v.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!v.responseXML&&v.responseText&&(v.responseXML=M(v.responseText));try{D=O(v,c,d)}catch(t){s="parsererror",v.error=i=t||s}}catch(t){n("error caught: ",t),s="error",v.error=i=t||s}v.aborted&&(n("upload aborted"),s=null),v.status&&(s=v.status>=200&&v.status<300||304===v.status?"success":"error"),"success"===s?(d.success&&d.success.call(d.context,D,"success",v),T.resolve(v.responseText,"success",v),f&&t.event.trigger("ajaxSuccess",[v,d])):s&&(void 0===i&&(i=v.statusText),d.error&&d.error.call(d.context,v,s,i),T.reject(v,"error",i),f&&t.event.trigger("ajaxError",[v,d,i])),f&&t.event.trigger("ajaxComplete",[v,d]),f&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,v,s),E=!0,d.timeout&&clearTimeout(x),setTimeout((function(){d.iframeTarget?_.attr("src",d.iframeSrc):_.remove(),v.responseXML=null}),100)}}}var h,u,d,f,m,_,g,v,y,b,w,x,S=c[0],T=t.Deferred();if(T.abort=function(t){v.abort(t)},i)for(u=0;u<p.length;u++)h=t(p[u]),s?h.prop("disabled",!1):h.removeAttr("disabled");if((d=t.extend(!0,{},t.ajaxSettings,e)).context=d.context||d,m="jqFormIO"+(new Date).getTime(),d.iframeTarget?(b=(_=t(d.iframeTarget)).attr2("name"))?m=b:_.attr2("name",m):(_=t('<iframe name="'+m+'" src="'+d.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),g=_[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(t){}_.attr("src",d.iframeSrc),v.error=i,d.error&&d.error.call(d.context,v,i,e),f&&t.event.trigger("ajaxError",[v,d,i]),d.complete&&d.complete.call(d.context,v,i)}},(f=d.global)&&0==t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[v,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,v,d))return d.global&&t.active--,T.reject(),T;if(v.aborted)return T.reject(),T;(y=S.clk)&&((b=y.name)&&!y.disabled&&(d.extraData=d.extraData||{},d.extraData[b]=y.value,"image"==y.type&&(d.extraData[b+".x"]=S.clk_x,d.extraData[b+".y"]=S.clk_y)));var C=1,k=2,P=t("meta[name=csrf-token]").attr("content"),L=t("meta[name=csrf-param]").attr("content");L&&P&&(d.extraData=d.extraData||{},d.extraData[L]=P),d.forceSync?r():setTimeout(r,10);var D,A,E,I=50,M=t.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},$=t.parseJSON||function(t){return window.eval("("+t+")")},O=function(e,i,n){var o=e.getResponseHeader("content-type")||"",s="xml"===i||!i&&o.indexOf("xml")>=0,a=s?e.responseXML:e.responseText;return s&&"parsererror"===a.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(a=n.dataFilter(a,i)),"string"==typeof a&&("json"===i||!i&&o.indexOf("json")>=0?a=$(a):("script"===i||!i&&o.indexOf("javascript")>=0)&&t.globalEval(a)),a};return T}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var a,r,l,c=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),a=e.type||this.attr2("method"),(l=(l="string"==typeof(r=e.url||this.attr2("action"))?t.trim(r):"")||window.location.href||"")&&(l=(l.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:l,success:t.ajaxSettings.success,type:a||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var h={};if(this.trigger("form-pre-serialize",[this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var u=e.traditional;void 0===u&&(u=t.ajaxSettings.traditional);var d,p=[],f=this.formToArray(e.semantic,p);if(e.data&&(e.extraData=e.data,d=t.param(e.data,u)),e.beforeSubmit&&!1===e.beforeSubmit(f,this,e))return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=t.param(f,u);d&&(m=m?m+"&"+d:d),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+m,e.data=null):e.data=m;var _=[];if(e.resetForm&&_.push((function(){c.resetForm()})),e.clearForm&&_.push((function(){c.clearForm(e.includeHidden)})),!e.dataType&&e.target){var g=e.success||function(){};_.push((function(i){var n=e.replaceTarget?"replaceWith":"html";t(e.target)[n](i).each(g,arguments)}))}else e.success&&_.push(e.success);if(e.success=function(t,i,n){for(var o=e.context||this,s=0,a=_.length;a>s;s++)_[s].apply(o,[t,i,n||c,c])},e.error){var v=e.error;e.error=function(t,i,n){var o=e.context||this;v.apply(o,[t,i,n,c])}}if(e.complete){var y=e.complete;e.complete=function(t,i){var n=e.context||this;y.apply(n,[t,i,c])}}var b=t("input[type=file]:enabled",this).filter((function(){return""!==t(this).val()})).length>0,w="multipart/form-data",x=c.attr("enctype")==w||c.attr("encoding")==w,S=o.fileapi&&o.formdata;n("fileAPI :"+S);var T,C=(b||x)&&!S;!1!==e.iframe&&(e.iframe||C)?e.closeKeepAlive?t.get(e.closeKeepAlive,(function(){T=i(f)})):T=i(f):T=(b||x)&&S?function(i){for(var n=new FormData,o=0;o<i.length;o++)n.append(i[o].name,i[o].value);if(e.extraData){var s=function(i){var n,o,s=t.param(i,e.traditional).split("&"),a=s.length,r=[];for(n=0;a>n;n++)s[n]=s[n].replace(/\+/g," "),o=s[n].split("="),r.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return r}(e.extraData);for(o=0;o<s.length;o++)s[o]&&n.append(s[o][0],s[o][1])}e.data=null;var r=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});e.uploadProgress&&(r.xhr=function(){var i=t.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",(function(t){var i=0,n=t.loaded||t.position,o=t.total;t.lengthComputable&&(i=Math.ceil(n/o*100)),e.uploadProgress(t,n,o,i)}),!1),i}),r.data=null;var l=r.beforeSend;return r.beforeSend=function(t,i){i.data=e.formData?e.formData:n,l&&l.call(this,t,i)},t.ajax(r)}(f):t.ajax(e),c.removeData("jqxhr").data("jqxhr",T);for(var k=0;k<p.length;k++)p[k]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(o){if((o=o||{}).delegation=o.delegation&&t.isFunction(t.fn.on),!o.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!t.isReady&&s.s?(n("DOM not ready, queuing ajaxForm"),t((function(){t(s.s,s.c).ajaxForm(o)})),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return o.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,o,e).on("click.form-plugin",this.selector,o,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,e).bind("click.form-plugin",o,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var n=[];if(0===this.length)return n;var s,a,r,l,c,h,u,d,p=this[0],f=this.attr("id"),m=e?p.getElementsByTagName("*"):p.elements;if(m&&(m=t(m).get()),f&&((s=t(":input[form="+f+"]").get()).length&&(m=(m||[]).concat(s))),!m||!m.length)return n;for(a=0,u=m.length;u>a;a++)if((l=(h=m[a]).name)&&!h.disabled)if(e&&p.clk&&"image"==h.type)p.clk==h&&(n.push({name:l,value:t(h).val(),type:h.type}),n.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}));else if((c=t.fieldValue(h,!0))&&c.constructor==Array)for(i&&i.push(h),r=0,d=c.length;d>r;r++)n.push({name:l,value:c[r]});else if(o.fileapi&&"file"==h.type){i&&i.push(h);var _=h.files;if(_.length)for(r=0;r<_.length;r++)n.push({name:l,value:_[r],type:h.type});else n.push({name:l,value:"",type:h.type})}else null!=c&&(i&&i.push(h),n.push({name:l,value:c,type:h.type,required:h.required}));if(!e&&p.clk){var g=t(p.clk),v=g[0];(l=v.name)&&!v.disabled&&"image"==v.type&&(n.push({name:l,value:g.val()}),n.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each((function(){var n=this.name;if(n){var o=t.fieldValue(this,e);if(o&&o.constructor==Array)for(var s=0,a=o.length;a>s;s++)i.push({name:n,value:o[s]});else null!=o&&i.push({name:this.name,value:o})}})),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,o=this.length;o>n;n++){var s=this[n],a=t.fieldValue(s,e);null==a||a.constructor==Array&&!a.length||(a.constructor==Array?t.merge(i,a):i.push(a))}return i},t.fieldValue=function(e,i){var n=e.name,o=e.type,s=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!e.checked||("submit"==o||"image"==o)&&e.form&&e.form.clk!=e||"select"==s&&-1==e.selectedIndex))return null;if("select"==s){var a=e.selectedIndex;if(0>a)return null;for(var r=[],l=e.options,c="select-one"==o,h=c?a+1:l.length,u=c?a:0;h>u;u++){var d=l[u];if(d.selected){var p=d.value;if(p||(p=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return p;r.push(p)}}return r}return t(e).val()},t.fn.clearForm=function(e){return this.each((function(){t("input,select,textarea",this).clearFields(e)}))},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var n=this.type,o=this.tagName.toLowerCase();i.test(n)||"textarea"==o?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")}))},t.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each((function(){this.disabled=!t}))},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each((function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}}))},t.fn.ajaxSubmit.debug=!1})),
/*!
 * jQuery Upload File Plugin
 * version: 4.0.11
 * @requires jQuery v1.5 or later & form plugin
 * Copyright (c) 2013 Ravishanker Kusuma
 * http://hayageek.com/
 */
function(t){null==t.fn.ajaxForm&&t.getScript(("https:"==document.location.protocol?"https://":"http://")+"malsup.github.io/jquery.form.js");var e={};e.fileapi=void 0!==t("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData,t.fn.uploadFile=function(i){var n=t.extend({url:"",method:"POST",enctype:"multipart/form-data",returnType:null,allowDuplicates:!0,duplicateStrict:!1,allowedTypes:"*",acceptFiles:"*",fileName:"file",formData:!1,dynamicFormData:!1,maxFileSize:-1,maxFileCount:-1,multiple:!0,dragDrop:!0,autoSubmit:!0,showCancel:!0,showAbort:!0,showDone:!1,showDelete:!1,showError:!0,showStatusAfterSuccess:!0,showStatusAfterError:!0,showFileCounter:!0,fileCounterStyle:"). ",showFileSize:!0,showProgress:!1,nestedForms:!0,showDownload:!1,onLoad:function(t){},onSelect:function(t){return!0},onSubmit:function(t,e){},onSuccess:function(t,e,i,n){},onError:function(t,e,i,n){},onCancel:function(t,e){},onAbort:function(t,e){},downloadCallback:!1,deleteCallback:!1,afterUploadAll:!1,serialize:!0,sequential:!1,sequentialCount:2,customProgressBar:!1,abortButtonClass:"ajax-file-upload-abort",cancelButtonClass:"ajax-file-upload-cancel",dragDropContainerClass:"ajax-upload-dragdrop",dragDropHoverClass:"state-hover",errorClass:"ajax-file-upload-error",uploadButtonClass:"ajax-file-upload",dragDropStr:"<span><b>Drag &amp; Drop Files</b></span>",uploadStr:"Upload",abortStr:"Abort",cancelStr:"Cancel",deleteStr:"Delete",doneStr:"Done",multiDragErrorStr:"Multiple File Drag &amp; Drop is not allowed.",extErrorStr:"is not allowed. Allowed extensions: ",duplicateErrorStr:"is not allowed. File already exists.",sizeErrorStr:"is not allowed. Allowed Max size: ",uploadErrorStr:"Upload is not allowed",maxFileCountErrorStr:" is not allowed. Maximum allowed files are:",downloadStr:"Download",customErrorKeyStr:"jquery-upload-file-error",showQueueDiv:!1,statusBarWidth:400,dragdropWidth:400,showPreview:!1,previewHeight:"auto",previewWidth:"100%",extraHTML:!1,uploadQueueOrder:"top",headers:{}},i);this.fileCounter=1,this.selectedFiles=0;var o="ajax-file-upload-"+(new Date).getTime();this.formGroup=o,this.errorLog=t("<div></div>"),this.responses=[],this.existingFileNames=[],e.formdata||(n.dragDrop=!1),e.formdata&&1!==n.maxFileCount||(n.multiple=!1),t(this).html("");var s=this,a=t("<div>"+n.uploadStr+"</div>");t(a).addClass(n.uploadButtonClass),function e(){if(t.fn.ajaxForm){if(n.dragDrop){var i=t('<div class="'+n.dragDropContainerClass+' align-middle" style="vertical-align:top;"></div>').width(n.dragdropWidth);t(s).append(i),t(i).append(a),t(i).append(t(n.dragDropStr)),function(e,i,n){n.on("dragenter",(function(e){e.stopPropagation(),e.preventDefault(),t(this).addClass(i.dragDropHoverClass)})),n.on("dragover",(function(e){e.stopPropagation(),e.preventDefault();var n=t(this);n.hasClass(i.dragDropContainerClass)&&!n.hasClass(i.dragDropHoverClass)&&n.addClass(i.dragDropHoverClass)})),n.on("drop",(function(n){n.preventDefault(),t(this).removeClass(i.dragDropHoverClass),e.errorLog.html("");var o=n.originalEvent.dataTransfer.files;!i.multiple&&o.length>1?i.showError&&t("<div class='"+i.errorClass+"'>"+i.multiDragErrorStr+"</div>").appendTo(e.errorLog):0!=i.onSelect(o)&&p(i,e,o)})),n.on("dragleave",(function(e){t(this).removeClass(i.dragDropHoverClass)})),t(document).on("dragenter",(function(t){t.stopPropagation(),t.preventDefault()})),t(document).on("dragover",(function(e){e.stopPropagation(),e.preventDefault();var n=t(this);n.hasClass(i.dragDropContainerClass)||n.removeClass(i.dragDropHoverClass)})),t(document).on("drop",(function(e){e.stopPropagation(),e.preventDefault(),t(this).removeClass(i.dragDropHoverClass)}))}(s,n,i)}else t(s).append(a);t(s).append(s.errorLog),n.showQueueDiv?s.container=t("#"+n.showQueueDiv):s.container=t("<div class='ajax-file-upload-container'></div>").insertAfter(t(s)),n.onLoad.call(this,s),v(s,o,n,a)}else window.setTimeout(e,10)}(),this.startUpload=function(){t("form").each((function(e,i){t(this).hasClass(s.formGroup)&&r.push(t(this))})),r.length>=1&&h()},this.getFileCount=function(){return s.selectedFiles},this.stopUpload=function(){t("."+n.abortButtonClass).each((function(e,i){t(this).hasClass(s.formGroup)&&t(this).click()})),t("."+n.cancelButtonClass).each((function(e,i){t(this).hasClass(s.formGroup)&&t(this).click()}))},this.cancelAll=function(){t("."+n.cancelButtonClass).each((function(e,i){t(this).hasClass(s.formGroup)&&t(this).click()}))},this.update=function(e){n=t.extend(n,e),e.hasOwnProperty("url")&&t("form").each((function(i,n){t(this).attr("action",e.url)}))},this.enqueueFile=function(t){t instanceof File&&p(n,s,[t])},this.reset=function(t){s.fileCounter=1,s.selectedFiles=0,s.errorLog.html(""),0!=t&&s.container.html("")},this.remove=function(){s.container.html(""),t(s).remove()},this.createProgress=function(t,e,i){var o=new b(this,n);o.progressDiv.show(),o.progressbar.width("100%");var a="";return a=n.showFileCounter?s.fileCounter+n.fileCounterStyle+t:t,n.showFileSize&&(a+=" ("+u(i)+")"),o.filename.html(a),s.fileCounter++,s.selectedFiles++,n.showPreview&&(o.preview.attr("src",e),o.preview.show()),n.showDownload&&(o.download.show(),o.download.click((function(){n.downloadCallback&&n.downloadCallback.call(s,[t],o)}))),n.showDelete&&(o.del.show(),o.del.click((function(){o.statusbar.hide().remove();var e=[t];n.deleteCallback&&n.deleteCallback.call(this,e,o),s.selectedFiles-=1,g(n,s)}))),o},this.getResponses=function(){return this.responses};var r=[],l=[],c=!1;function h(){c||(c=!0,function t(){if(n.sequential||(n.sequentialCount=99999),0==r.length&&0==l.length)n.afterUploadAll&&n.afterUploadAll(s),c=!1;else{if(l.length<n.sequentialCount){var e=r.shift();null!=e&&(l.push(e),e.removeClass(s.formGroup),e.submit())}window.setTimeout(t,100)}}())}function u(t){var e="",i=t/1024;parseInt(i)>1024?e=(i/1024).toFixed(2)+" MB":e=i.toFixed(2)+" KB";return e}function d(e){var i,n,o=[],s=(o="string"==jQuery.type(e)?e.split("&"):t.param(e).split("&")).length,a=[];for(i=0;i<s;i++)o[i]=o[i].replace(/\+/g," "),n=o[i].split("="),a.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return a}function p(e,i,n){for(var o=0;o<n.length;o++)if(f(i,e,n[o].name))if(e.allowDuplicates||!m(i,n[o].name))if(-1!=e.maxFileSize&&n[o].size>e.maxFileSize)e.showError&&t("<div class='"+e.errorClass+"'><b>"+n[o].name+"</b> "+e.sizeErrorStr+u(e.maxFileSize)+"</div>").appendTo(i.errorLog);else if(-1!=e.maxFileCount&&i.selectedFiles>=e.maxFileCount)e.showError&&t("<div class='"+e.errorClass+"'><b>"+n[o].name+"</b> "+e.maxFileCountErrorStr+e.maxFileCount+"</div>").appendTo(i.errorLog);else{i.selectedFiles++,i.existingFileNames.push(n[o].name);var s=t.extend({},e),a=new FormData,r=e.fileName.replace("[]","");a.append(r,n[o]);var l=e.formData;if(l)for(var c=d(l),h=0;h<c.length;h++)c[h]&&a.append(c[h][0],c[h][1]);s.fileData=a;var p=new b(i,e),_="";_=e.showFileCounter?i.fileCounter+e.fileCounterStyle+n[o].name:n[o].name,e.showFileSize&&(_+=" ("+u(n[o].size)+")"),p.filename.html(_);var g=t("<form style='display:block; position:absolute;left: 150px;' class='"+i.formGroup+"' method='"+e.method+"' action='"+e.url+"' enctype='"+e.enctype+"'></form>");g.appendTo("body");var v=[];v.push(n[o].name),w(g,s,p,v,i,n[o]),i.fileCounter++}else e.showError&&t("<div class='"+e.errorClass+"'><b>"+n[o].name+"</b> "+e.duplicateErrorStr+"</div>").appendTo(i.errorLog);else e.showError&&t("<div class='"+e.errorClass+"'><b>"+n[o].name+"</b> "+e.extErrorStr+e.allowedTypes+"</div>").appendTo(i.errorLog)}function f(t,e,i){var n=e.allowedTypes.toLowerCase().split(/[\s,]+/g),o=i.split(".").pop().toLowerCase();return!("*"!=e.allowedTypes&&jQuery.inArray(o,n)<0)}function m(t,e){var i=!1;if(t.existingFileNames.length)for(var o=0;o<t.existingFileNames.length;o++)(t.existingFileNames[o]==e||n.duplicateStrict&&t.existingFileNames[o].toLowerCase()==e.toLowerCase())&&(i=!0);return i}function _(t,e){if(t.existingFileNames.length)for(var i=0;i<e.length;i++){var n=t.existingFileNames.indexOf(e[i]);-1!=n&&t.existingFileNames.splice(n,1)}}function g(e,i){if(e.showFileCounter){var n=t(i.container).find(".ajax-file-upload-filename").length;i.fileCounter=n+1,t(i.container).find(".ajax-file-upload-filename").each((function(i,o){var s=t(this).html().split(e.fileCounterStyle),a=(parseInt(s[0]),n+e.fileCounterStyle+s[1]);t(this).html(a),n--}))}}function v(i,n,o,s){var a="ajax-upload-id-"+(new Date).getTime(),r=t("<form method='"+o.method+"' action='"+o.url+"' enctype='"+o.enctype+"'></form>"),l="<input type='file' id='"+a+"' name='"+o.fileName+"' accept='"+o.acceptFiles+"'/>";o.multiple&&(o.fileName.indexOf("[]")!=o.fileName.length-2&&(o.fileName+="[]"),l="<input type='file' id='"+a+"' name='"+o.fileName+"' accept='"+o.acceptFiles+"' multiple/>");var c=t(l).appendTo(r);c.change((function(){i.errorLog.html("");o.allowedTypes.toLowerCase().split(",");var a=[];if(this.files){for(d=0;d<this.files.length;d++)a.push(this.files[d].name);if(0==o.onSelect(this.files))return}else{var l=t(this).val(),c=[];if(a.push(l),!f(0,o,l))return void(o.showError&&t("<div class='"+o.errorClass+"'><b>"+l+"</b> "+o.extErrorStr+o.allowedTypes+"</div>").appendTo(i.errorLog));if(c.push({name:l,size:"NA"}),0==o.onSelect(c))return}if(g(o,i),s.unbind("click"),r.hide(),v(i,n,o,s),r.addClass(n),o.serialize&&e.fileapi&&e.formdata){r.removeClass(n);var h=this.files;r.remove(),p(o,i,h)}else{for(var u="",d=0;d<a.length;d++)o.showFileCounter?u+=i.fileCounter+o.fileCounterStyle+a[d]+"<br>":u+=a[d]+"<br>",i.fileCounter++;if(-1!=o.maxFileCount&&i.selectedFiles+a.length>o.maxFileCount)return void(o.showError&&t("<div class='"+o.errorClass+"'><b>"+u+"</b> "+o.maxFileCountErrorStr+o.maxFileCount+"</div>").appendTo(i.errorLog));i.selectedFiles+=a.length;var m=new b(i,o);m.filename.html(u),w(r,o,m,a,i,null)}})),o.nestedForms?(r.css({margin:0,padding:0}),s.css({position:"relative",overflow:"hidden",cursor:"default"}),c.css({position:"absolute",cursor:"pointer",top:"0px",width:"100%",height:"100%",left:"0px","z-index":"100",opacity:"0.0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0"}),r.appendTo(s)):(r.appendTo(t("body")),r.css({margin:0,padding:0,display:"block",position:"absolute",left:"-250px"}),-1!=navigator.appVersion.indexOf("MSIE ")?s.attr("for",a):s.click((function(){c.click()})))}function y(e,i){return this.statusbar=t("<div class='ajax-file-upload-statusbar'></div>").width(i.statusBarWidth),this.preview=t("<img class='ajax-file-upload-preview' />").width(i.previewWidth).height(i.previewHeight).appendTo(this.statusbar).hide(),this.filename=t("<div class='ajax-file-upload-filename'></div>").appendTo(this.statusbar),this.progressDiv=t("<div class='ajax-file-upload-progress'>").appendTo(this.statusbar).hide(),this.progressbar=t("<div class='ajax-file-upload-bar'></div>").appendTo(this.progressDiv),this.abort=t("<div>"+i.abortStr+"</div>").appendTo(this.statusbar).hide(),this.cancel=t("<div>"+i.cancelStr+"</div>").appendTo(this.statusbar).hide(),this.done=t("<div>"+i.doneStr+"</div>").appendTo(this.statusbar).hide(),this.download=t("<div>"+i.downloadStr+"</div>").appendTo(this.statusbar).hide(),this.del=t("<div>"+i.deleteStr+"</div>").appendTo(this.statusbar).hide(),this.abort.addClass("ajax-file-upload-red"),this.done.addClass("ajax-file-upload-green"),this.download.addClass("ajax-file-upload-green"),this.cancel.addClass("ajax-file-upload-red"),this.del.addClass("ajax-file-upload-red"),this}function b(e,i){var n=null;return(n=i.customProgressBar?new i.customProgressBar(e,i):new y(e,i)).abort.addClass(e.formGroup),n.abort.addClass(i.abortButtonClass),n.cancel.addClass(e.formGroup),n.cancel.addClass(i.cancelButtonClass),i.extraHTML&&(n.extraHTML=t("<div class='extrahtml'>"+i.extraHTML()+"</div>").insertAfter(n.filename)),"bottom"==i.uploadQueueOrder?t(e.container).append(n.statusbar):t(e.container).prepend(n.statusbar),n}function w(i,n,o,s,a,c){var u={cache:!1,contentType:!1,processData:!1,forceSync:!1,type:n.method,data:n.formData,formData:n.fileData,dataType:n.returnType,headers:n.headers,beforeSubmit:function(e,l,c){if(0!=n.onSubmit.call(this,s)){if(n.dynamicFormData){var h=d(n.dynamicFormData());if(h)for(var u=0;u<h.length;u++)h[u]&&(n.serialize&&null!=n.fileData?c.formData.append(h[u][0],h[u][1]):c.data[h[u][0]]=h[u][1])}return n.extraHTML&&t(o.extraHTML).find("input,select,textarea").each((function(e,i){n.serialize&&null!=n.fileData?c.formData.append(t(this).attr("name"),t(this).val()):c.data[t(this).attr("name")]=t(this).val()})),!0}return o.statusbar.append("<div class='"+n.errorClass+"'>"+n.uploadErrorStr+"</div>"),o.cancel.show(),i.remove(),o.cancel.click((function(){r.splice(r.indexOf(i),1),_(a,s),o.statusbar.remove(),n.onCancel.call(a,s,o),a.selectedFiles-=s.length,g(n,a)})),!1},beforeSend:function(t,i){for(var r in i.headers)t.setRequestHeader(r,i.headers[r]);o.progressDiv.show(),o.cancel.hide(),o.done.hide(),n.showAbort&&(o.abort.show(),o.abort.click((function(){_(a,s),t.abort(),a.selectedFiles-=s.length,n.onAbort.call(a,s,o)}))),e.formdata?o.progressbar.width("1%"):o.progressbar.width("5%")},uploadProgress:function(t,e,i,s){s>98&&(s=98);var a=s+"%";s>1&&o.progressbar.width(a),n.showProgress&&(o.progressbar.html(a),o.progressbar.css("text-align","center"))},success:function(e,r,c){if(o.cancel.remove(),l.pop(),"json"==n.returnType&&"object"==t.type(e)&&e.hasOwnProperty(n.customErrorKeyStr)){o.abort.hide();var h=e[n.customErrorKeyStr];return n.onError.call(this,s,200,h,o),n.showStatusAfterError?(o.progressDiv.hide(),o.statusbar.append("<span class='"+n.errorClass+"'>ERROR: "+h+"</span>")):(o.statusbar.hide(),o.statusbar.remove()),a.selectedFiles-=s.length,void i.remove()}a.responses.push(e),o.progressbar.width("100%"),n.showProgress&&(o.progressbar.html("100%"),o.progressbar.css("text-align","center")),o.abort.hide(),n.onSuccess.call(this,s,e,c,o),n.showStatusAfterSuccess?(n.showDone?(o.done.show(),o.done.click((function(){o.statusbar.hide("slow"),o.statusbar.remove()}))):o.done.hide(),n.showDelete?(o.del.show(),o.del.click((function(){_(a,s),o.statusbar.hide().remove(),n.deleteCallback&&n.deleteCallback.call(this,e,o),a.selectedFiles-=s.length,g(n,a)}))):o.del.hide()):(o.statusbar.hide("slow"),o.statusbar.remove()),n.showDownload&&(o.download.show(),o.download.click((function(){n.downloadCallback&&n.downloadCallback(e,o)}))),i.remove()},error:function(t,e,r){o.cancel.remove(),l.pop(),o.abort.hide(),"abort"==t.statusText?(o.statusbar.hide("slow").remove(),g(n,a)):(n.onError.call(this,s,e,r,o),n.showStatusAfterError?(o.progressDiv.hide(),o.statusbar.append("<span class='"+n.errorClass+"'>ERROR: "+r+"</span>")):(o.statusbar.hide(),o.statusbar.remove()),a.selectedFiles-=s.length),i.remove()}};n.showPreview&&null!=c&&"image"==c.type.toLowerCase().split("/").shift()&&function(t,e){if(t){e.show();var i=new FileReader;i.onload=function(t){e.attr("src",t.target.result)},i.readAsDataURL(t)}}(c,o.preview),n.autoSubmit?(i.ajaxForm(u),r.push(i),h()):(n.showCancel&&(o.cancel.show(),o.cancel.click((function(){r.splice(r.indexOf(i),1),_(a,s),i.remove(),o.statusbar.remove(),n.onCancel.call(a,s,o),a.selectedFiles-=s.length,g(n,a)}))),i.ajaxForm(u))}return this}}(jQuery),function(t,e,i,n,o){"use strict";function s(){}function a(t,e,i){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(i)?1/0:i,t))}function r(t,e){var i={};return Ft?i.transform="translate3d("+(t+(e?.001:0))+"px,0,0)":i.left=t,i}function l(t){return{"transition-duration":t+"ms"}}function c(t,e){return+String(t).replace(e||"px","")||o}function h(t,e){return function(t){return/%$/.test(t)&&c(t,"%")}(t)/100*e||c(t)}function u(t){return(!!c(t)||!!c(t,"%"))&&t}function d(t,e,i,n){return(t-(n||0))*(e+(i||0))}function p(t,e,i,n){var o,s=t.data();s&&(s.onEndFn=function(){o||(o=!0,clearTimeout(s.tT),i())},s.tProp=e,clearTimeout(s.tT),s.tT=setTimeout((function(){s.onEndFn()}),1.5*n),function(t){var e=t.data();e.tEnd||(t[0].addEventListener({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[St.prefixed("transition")],(function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),!1),e.tEnd=!0)}(t))}function f(t,e,i){if(t.length){var n=t.data();Ft?(t.css(l(0)),n.onEndFn=s,clearTimeout(n.tT)):t.stop();var o=m(e,(function(){return function(t){return Ft?+function(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}(t.css("transform")):+t.css("left").replace("px","")}(t)}));return t.css(r(o,i)),o}}function m(){for(var t,e=0,i=arguments.length;i>e&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function _(t,e){return Math.round(t+(e-t)/1.5)}function g(){return g.p=g.p||("https:"===i.protocol?"https://":"http://"),g.p}function v(t){var i=e.createElement("a");return i.href=t,i}function y(t,e){if("string"!=typeof t)return t;var i,n;if((t=v(t)).host.match(/youtube\.com/)&&t.search){if(i=t.search.split("v=")[1]){var o=i.indexOf("&");-1!==o&&(i=i.substring(0,o)),n="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(i=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),n="youtube"):t.host.match(/vimeo\.com/)&&(n="vimeo",i=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return i&&n||!e||(i=t.href,n="custom"),!!i&&{id:i,type:n,s:t.search.replace(/^\?/,"")}}function b(t,e,i){var o,s,a=t.video;return"youtube"===a.type?(o=(s=g()+"img.youtube.com/vi/"+a.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===a.type?n.ajax({url:g()+"vimeo.com/api/v2/video/"+a.id+".json",dataType:"jsonp",success:function(n){t.thumbsReady=!0,w(e,{img:n[0].thumbnail_large,thumb:n[0].thumbnail_small},t.i,i)}}):t.thumbsReady=!0,{img:o,thumb:s}}function w(t,e,i,o){for(var s=0,a=t.length;a>s;s++){var r=t[s];if(r.i===i&&r.thumbsReady){var l={videoReady:!0};l[Jt]=l[te]=l[Qt]=!1,o.splice(s,1,n.extend({},r,l,e));break}}}function x(t){function e(t,e,i){var o=i.thumb&&i.img!==i.thumb,s=c(i.width||t.attr("width")),a=c(i.height||t.attr("height"));n.extend(i,{width:s,height:a,thumbratio:O(i.thumbratio||c(i.thumbwidth||e&&e.attr("width")||o||s)/c(i.thumbheight||e&&e.attr("height")||o||a))})}var i=[];return t.children().each((function(){var t=n(this),o=$(n.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))!function(t,i,o){var s=t.children("img").eq(0),a=t.attr("href"),r=t.attr("src"),l=s.attr("src"),c=i.video,h=!!o&&y(a,!0===c);h?a=!1:h=c,e(t,s,n.extend(i,{video:h,img:i.img||a||r||l,thumb:i.thumb||l||r||a}))}(t,o,!0);else{if(t.is(":empty"))return;e(t,null,n.extend(o,{html:this,_html:t.html()}))}i.push(o)})),i}function S(t){return!n.contains(e.documentElement,t)}function T(t,e,i){t()?e():setTimeout((function(){T(t,e)}),i||100)}function C(t){i.replace(i.protocol+"//"+i.host+i.pathname.replace(/^\/?/,"/")+i.search+"#"+t)}function k(t,e,i){var n=t.data(),o=n.measures;if(o&&(!n.l||n.l.W!==o.width||n.l.H!==o.height||n.l.r!==o.ratio||n.l.w!==e.w||n.l.h!==e.h||n.l.m!==i)){var s=o.width,r=o.height,l=e.w/e.h,c=o.ratio>=l,h="scaledown"===i,u="contain"===i,d="cover"===i;c&&(h||u)||!c&&d?r=(s=a(e.w,0,h?s:1/0))/o.ratio:(c&&d||!c&&(h||u))&&(s=(r=a(e.h,0,h?r:1/0))*o.ratio),t.css({width:Math.ceil(s),height:Math.ceil(r),marginLeft:Math.floor(-s/2),marginTop:Math.floor(-r/2)}),n.l={W:o.width,H:o.height,r:o.ratio,w:e.w,h:e.h,m:i}}return!0}function P(t,e,i){return e!==i&&(e>=t?"left":t>=i?"right":"left right")}function L(t,e,i,n){if(!i)return!1;if(!isNaN(t))return t-(n?0:1);for(var o,s=0,a=e.length;a>s;s++){if(e[s].id===t){o=s;break}}return o}function D(t,e,i){i=i||{},t.each((function(){var t,o=n(this),a=o.data();a.clickOn||(a.clickOn=!0,n.extend(F(o,{onStart:function(e){t=e,(i.onStart||s).call(this,e)},onMove:i.onMove||s,onTouchEnd:i.onTouchEnd||s,onEnd:function(i){i.moved||e.call(this,t)}}),{noMove:!0}))}))}function A(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function E(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),n=t[e];t[e]=t[i],t[i]=n}return t}function I(t){return"[object Array]"==Object.prototype.toString.call(t)&&n.map(t,(function(t){return n.extend({},t)}))}function M(t,e){Bt.scrollLeft(t).scrollTop(e)}function $(t){if(t){var e={};return n.each(t,(function(t,i){e[t.toLowerCase()]=i})),e}}function O(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||o:e}}function N(t,e){t.preventDefault(),e&&t.stopPropagation()}function B(t){return t?">":"<"}function j(t,e){var i=t.data(),o=Math.round(e.pos),a=function(){i.sliding=!1,(e.onEnd||s)()};void 0!==e.overPos&&e.overPos!==e.pos&&(o=e.overPos,a=function(){j(t,n.extend({},e,{overPos:e.pos,time:Math.max(Xt,e.time/2)}))});var c=n.extend(r(o,e._001),e.width&&{width:e.width});i.sliding=!0,Ft?(t.css(n.extend(l(e.time),c)),e.time>10?p(t,"transform",a,e.time):a()):t.stop().animate(c,e.time,ee,a)}function z(t,e,i,o,a,r){var l=void 0!==r;if(l||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){t=t||n(t),e=e||n(e);var c=t[0],h=e[0],u="crossfade"===o.method,d=function(){if(!d.done){d.done=!0;var t=(l||a.shift())&&a.shift();t&&z.apply(this,t),(o.onEnd||s)(!!t)}},p=o.time/(r||1);i.removeClass(ct+" "+lt),t.stop().addClass(ct),e.stop().addClass(lt),u&&h&&t.fadeTo(0,0),t.fadeTo(u?p:0,1,u&&d),e.fadeTo(p,0,d),c&&u||h||d()}}function R(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=n.now()}function F(i,o){function a(t){return d=n(t.target),b.checked=m=_=v=!1,h||b.flow||t.touches&&t.touches.length>1||t.which>1||Mt&&Mt.type!==t.type&&Ot||(m=o.select&&d.is(o.select,y))?m:(f="touchstart"===t.type,_=d.is("a, a *",y),p=b.control,g=b.noMove||b.noSwipe||p?16:b.snap?0:4,R(t),u=Mt=t,$t=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(o.onStart||s).call(y,t,{control:p,$target:d}),h=b.flow=!0,void((!f||b.go)&&N(t)))}function r(t){if(t.touches&&t.touches.length>1||Kt&&!t.isPrimary||$t!==t.type||!h)return h&&l(),void(o.onTouchEnd||s)();R(t);var e=Math.abs(t._x-u._x),i=Math.abs(t._y-u._y),n=e-i,a=(b.go||b.x||n>=0)&&!b.noSwipe,r=0>n;f&&!b.checked?(h=a)&&N(t):(N(t),(o.onMove||s).call(y,t,{touch:f})),!v&&Math.sqrt(Math.pow(e,2)+Math.pow(i,2))>g&&(v=!0),b.checked=b.checked||a||r}function l(t){(o.onTouchEnd||s)();var e=h;b.control=h=!1,e&&(b.flow=!1),!e||_&&!b.checked||(t&&N(t),Ot=!0,clearTimeout(Nt),Nt=setTimeout((function(){Ot=!1}),1e3),(o.onEnd||s).call(y,{moved:v,$target:d,control:p,touch:f,startEvent:u,aborted:!t||"MSPointerCancel"===t.type}))}function c(){b.flow&&setTimeout((function(){b.flow=!1}),Gt)}var h,u,d,p,f,m,_,g,v,y=i[0],b={};return Kt?(y[Ut]("MSPointerDown",a,!1),e[Ut]("MSPointerMove",r,!1),e[Ut]("MSPointerCancel",l,!1),e[Ut]("MSPointerUp",l,!1)):(y[Ut]&&(y[Ut]("touchstart",a,!1),y[Ut]("touchmove",r,!1),y[Ut]("touchend",l,!1),e[Ut]("touchstart",(function(){b.flow||setTimeout((function(){b.flow=!0}),10)}),!1),e[Ut]("touchend",c,!1),e[Ut]("touchcancel",c,!1),t[Ut]("scroll",c,!1)),i.on("mousedown",a),jt.on("mousemove",r).on("mouseup",l)),i.on("click","a",(function(t){b.checked&&N(t)})),b}function H(t,e){function i(i,n){x=!0,o=l=i._x,p=i._now,d=[[p,o]],c=h=C.noMove||n?0:f(t,(e.getPos||s)(),e._001),(e.onStart||s).call(S,i)}var o,l,c,h,u,d,p,m,g,v,y,b,w,x,S=t[0],T=t.data(),C={};return C=n.extend(F(e.$wrap,{onStart:function(t,e){g=C.min,v=C.max,y=C.snap,b=t.altKey,x=w=!1,e.control||T.sliding||i(t)},onMove:function(n,a){C.noSwipe||(x||i(n),l=n._x,d.push([n._now,l]),u=P(h=c-(o-l),g,v),g>=h?h=_(h,g):h>=v&&(h=_(h,v)),C.noMove||(t.css(r(h,e._001)),w||(w=!0,a.touch||Kt||t.addClass(gt)),(e.onMove||s).call(S,n,{pos:h,edge:u})))},onTouchEnd:e.onTouchEnd,onEnd:function(o){if(!C.noSwipe||!o.moved){x||i(o.startEvent,!0),o.touch||Kt||t.removeClass(gt);for(var r,u,p,f,_,w,T,k,P,L=(m=n.now())-Gt,D=null,A=Xt,E=e.friction,I=d.length-1;I>=0;I--){if(r=d[I][0],u=Math.abs(r-L),null===D||p>u)D=r,f=d[I][1];else if(D===L||u>p)break;p=u}T=a(h,g,v);var M=f-l,$=M>=0,O=m-D,N=O>Gt,B=!N&&h!==c&&T===h;y&&(T=a(Math[B?$?"floor":"ceil":"round"](h/y)*y,g,v),g=v=T),B&&(y||T===h)&&(P=-M/O,A*=a(Math.abs(P),e.timeLow,e.timeHigh),_=Math.round(h+P*A/E),y||(T=_),(!$&&_>v||$&&g>_)&&(w=$?g:v,y||(T=w),k=a(T+.03*(k=_-w),w-50,w+50),A=Math.abs((h-k)/(P/E)))),A*=b?10:1,(e.onEnd||s).call(S,n.extend(o,{moved:o.moved||N&&y,pos:h,newPos:T,overPos:k,time:A}))}},select:e.select}),C)}function q(t,e){var i,o,a,r=t[0],l={prevent:{}};return r[Ut]&&r[Ut](Vt,(function(t){var r=t.wheelDeltaY||-1*t.deltaY||0,c=t.wheelDeltaX||-1*t.deltaX||0,h=Math.abs(c)>Math.abs(r),u=B(0>c),d=o===u,p=n.now(),f=Gt>p-a;o=u,a=p,h&&l.ok&&(!l.prevent[u]||i)&&(N(t,!0),i&&d&&f||(e.shift&&(i=!0,clearTimeout(l.t),l.t=setTimeout((function(){i=!1}),Yt)),(e.onEnd||s)(t,e.shift?u:c)))}),!1),l}function W(){n.each(n.Fotorama.instances,(function(t,e){e.index=t}))}function Z(t){n.Fotorama.instances.push(t),W()}function U(t){n.Fotorama.instances.splice(t.index,1),W()}var K="fotorama",V="fullscreen",G=K+"__wrap",X=G+"--video",Y=G+"--only-active",J=K+"__stage",Q=J+"__frame",tt=K+"__grab",et=K+"__arr",it=et+"--disabled",nt=K+"__nav",ot=nt+"--dots",st=nt+"--thumbs",at=nt+"__frame",rt=K+"__fade",lt=rt+"-front",ct=rt+"-rear",ht="fotorama__shadows",ut=K+"__active",dt=K+"__select",pt=K+"--fullscreen",ft=K+"__error",mt=K+"__loading",_t=K+"__loaded",gt=K+"__grabbing",vt=K+"__img",yt=K+"__thumb",bt=K+"__video",wt=bt+"-play",xt=n&&n.fn.jquery.split(".");if(!xt||xt[0]<1||1==xt[0]&&xt[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var St=function(t,e,i){function n(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var n in t){var s=t[n];if(!o(s,"-")&&f[s]!==i)return"pfx"!=e||s}return!1}function a(t,e,o){for(var s in t){var a=e[t[s]];if(a!==i)return!1===o?t[s]:n(a,"function")?a.bind(o||e):a}return!1}function r(t,e,i){var o=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+g.join(o+" ")+o).split(" ");return n(e,"string")||n(e,"undefined")?s(r,e):a(r=(t+" "+v.join(o+" ")+o).split(" "),e,i)}var l,c,h={},u=e.documentElement,d="modernizr",p=e.createElement(d),f=p.style,m=" -webkit- -moz- -o- -ms- ".split(" "),_="Webkit Moz O ms",g=_.split(" "),v=_.toLowerCase().split(" "),y={},b=[],w=b.slice,x={}.hasOwnProperty;for(var S in c=n(x,"undefined")||n(x.call,"undefined")?function(t,e){return e in t&&n(t.constructor.prototype[e],"undefined")}:function(t,e){return x.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=w.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=e.prototype;var s=new o,a=e.apply(s,i.concat(w.call(arguments)));return Object(a)===a?a:s}return e.apply(t,i.concat(w.call(arguments)))};return n}),y.csstransforms3d=function(){return!!r("perspective")},y)c(y,S)&&(l=S.toLowerCase(),h[l]=y[S](),b.push((h[l]?"":"no-")+l));return h.addTest=function(t,e){if("object"==typeof t)for(var n in t)c(t,n)&&h.addTest(n,t[n]);else{if(t=t.toLowerCase(),h[t]!==i)return h;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(u.className+=" "+(e?"":"no-")+t),h[t]=e}return h},function(t){f.cssText=t}(""),p=null,h._version="2.6.2",h._prefixes=m,h._domPrefixes=v,h._cssomPrefixes=g,h.testProp=function(t){return s([t])},h.testAllProps=r,h.testStyles=function(t,i,n,o){var s,a,r,l,c=e.createElement("div"),h=e.body,p=h||e.createElement("body");if(parseInt(n,10))for(;n--;)(r=e.createElement("div")).id=o?o[n]:d+(n+1),c.appendChild(r);return s=["&#173;",'<style id="s',d,'">',t,"</style>"].join(""),c.id=d,(h?c:p).innerHTML+=s,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=u.style.overflow,u.style.overflow="hidden",u.appendChild(p)),a=i(c,t),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),u.style.overflow=l),!!a},h.prefixed=function(t,e,i){return e?r(t,e,i):r(t,"pfx")},h}(0,e),Tt={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},Ct="webkit moz o ms khtml".split(" ");if(void 0!==e.cancelFullScreen)Tt.ok=!0;else for(var kt=0,Pt=Ct.length;Pt>kt;kt++)if(Tt.prefix=Ct[kt],void 0!==e[Tt.prefix+"CancelFullScreen"]){Tt.ok=!0;break}Tt.ok&&(Tt.event=Tt.prefix+"fullscreenchange",Tt.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},Tt.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},Tt.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var Lt,Dt={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},At={top:"auto",left:"auto",className:""};!function(t,e){Lt=e()}(0,(function(){function t(t,i){var n,o=e.createElement(t||"div");for(n in i)o[n]=i[n];return o}function i(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,i,n){var o=["opacity",e,~~(100*t),i,n].join("-"),s=.01+i/n*100,a=Math.max(1-(1-t)/e*(100-s),t),r=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=r&&"-"+r+"-"||"";return p[o]||(f.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+a+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",f.cssRules.length),p[o]=1),o}function s(t,e){var i,n,s=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<d.length;n++)if(s[i=d[n]+e]!==o)return i;return s[e]!==o?e:void 0}function a(t,e){for(var i in e)t.style[s(t,i)||i]=e[i];return t}function r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]===o&&(t[n]=i[n])}return t}function l(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function c(t,e){return"string"==typeof t?t:t[e%t.length]}function h(t){return void 0===this?new h(t):void(this.opts=r(t||{},h.defaults,m))}var u,d=["webkit","Moz","ms","O"],p={},f=function(){var n=t("style",{type:"text/css"});return i(e.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};h.defaults={},r(h.prototype,{spin:function(e){this.stop();var i,n,o=this,s=o.opts,r=o.el=a(t(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),c=s.radius+s.length+s.width;if(e&&(e.insertBefore(r,e.firstChild||null),n=l(e),i=l(r),a(r,{left:("auto"==s.left?n.x-i.x+(e.offsetWidth>>1):parseInt(s.left,10)+c)+"px",top:("auto"==s.top?n.y-i.y+(e.offsetHeight>>1):parseInt(s.top,10)+c)+"px"})),r.setAttribute("role","progressbar"),o.lines(r,o.opts),!u){var h,d=0,p=(s.lines-1)*(1-s.direction)/2,f=s.fps,m=f/s.speed,_=(1-s.opacity)/(m*s.trail/100),g=m/s.lines;!function t(){d++;for(var e=0;e<s.lines;e++)h=Math.max(1-(d+(s.lines-e)*g)%m*_,s.opacity),o.opacity(r,e*s.direction+p,h,s);o.timeout=o.el&&setTimeout(t,~~(1e3/f))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=o),this},lines:function(e,o){function s(e,i){return a(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var r,l=0,h=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)r=a(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:u&&n(o.opacity,o.trail,h+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&i(r,a(s("#000","0 0 4px #000"),{top:"2px"})),i(e,i(r,s(c(o.color,l),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var _=a(t("group"),{behavior:"url(#default#VML)"});return!s(_,"transform")&&_.adj?function(){function e(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}f.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(t,n){function o(){return a(e("group",{coordsize:h+" "+h,coordorigin:-l+" "+-l}),{width:h,height:h})}function s(t,s,r){i(d,i(a(o(),{rotation:360/n.lines*t+"deg",left:~~s}),i(a(e("roundrect",{arcsize:n.corners}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:r}),e("fill",{color:c(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}var r,l=n.length+n.width,h=2*l,u=2*-(n.width+n.length)+"px",d=a(o(),{position:"absolute",top:u,left:u});if(n.shadow)for(r=1;r<=n.lines;r++)s(r,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(r=1;r<=n.lines;r++)s(r);return i(t,d)},h.prototype.opacity=function(t,e,i,n){var o=t.firstChild;n=n.shadow&&n.lines||0,o&&e+n<o.childNodes.length&&((o=(o=(o=o.childNodes[e+n])&&o.firstChild)&&o.firstChild)&&(o.opacity=i))}}():u=s(_,"animation"),h}));var Et,It,Mt,$t,Ot,Nt,Bt=n(t),jt=n(e),zt="quirks"===i.hash.replace("#",""),Rt=St.csstransforms3d,Ft=Rt&&!zt,Ht=Rt||"CSS1Compat"===e.compatMode,qt=Tt.ok,Wt=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Zt=!Ft||Wt,Ut="addEventListener",Kt=navigator.msPointerEnabled,Vt="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==o?"mousewheel":"DOMMouseScroll",Gt=250,Xt=300,Yt=1400,Jt="$stageFrame",Qt="$navDotFrame",te="$navThumbFrame",ee=function(t){var e="bez_"+n.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof n.easing[e]){var i=function(t,e){var i=[null,null],n=[null,null],o=[null,null],s=function(s,a){return o[a]=3*t[a],n[a]=3*(e[a]-t[a])-o[a],i[a]=1-o[a]-n[a],s*(o[a]+s*(n[a]+s*i[a]))},a=function(t){return o[0]+t*(2*n[0]+3*i[0]*t)};return function(t){return s(function(t){for(var e,i=t,n=0;++n<14&&(e=s(i,0)-t,!(Math.abs(e)<.001));)i-=e/a(i);return i}(t),1)}};n.easing[e]=function(e,n,o,s,a){return s*i([t[0],t[1]],[t[2],t[3]])(n/a)+o}}return e}([.1,0,.25,1]),ie={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:64,thumbheight:64,thumbmargin:2,thumbborderwidth:2,allowfullscreen:!1,fit:"contain",transition:"slide",clicktransition:null,transitionduration:Xt,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},ne={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};jQuery.Fotorama=function(t,o){function s(t){return Ke[t]||oi.fullScreen}function p(e){e!==p.f&&(e?(t.html("").addClass(K+" "+ai).append(di).before(hi).before(ui),Z(oi)):(di.detach(),hi.detach(),ui.detach(),t.html(ci.urtext).removeClass(ai),U(oi)),function(t){var e="keydown."+K,i="keydown."+K+si,n="resize."+K+si;t?(jt.on(i,(function(t){var e,i;Ce&&27===t.keyCode?(e=!0,de(Ce,!0,!0)):(oi.fullScreen||o.keyboard&&!oi.index)&&(27===t.keyCode?(e=!0,oi.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&s("space")||37===t.keyCode&&s("left")||38===t.keyCode&&s("up")?i="<":32===t.keyCode&&s("space")||39===t.keyCode&&s("right")||40===t.keyCode&&s("down")?i=">":36===t.keyCode&&s("home")?i="<<":35===t.keyCode&&s("end")&&(i=">>")),(e||i)&&N(t),i&&oi.show({index:i,slow:t.altKey,user:!0})})),oi.index||jt.off(e).on(e,"textarea, input, select",(function(t){!It.hasClass(V)&&t.stopPropagation()})),Bt.on(n,oi.resize)):(jt.off(i),Bt.off(n))}(e),p.f=e)}function _(){we=oi.data=we||I(o.data)||x(t),xe=oi.size=we.length,!be.ok&&o.shuffle&&E(we),n.each(we,(function(t,e){if(!e.i){e.i=li++;var i=y(e.video,!0);if(i){var n={};e.video=i,e.img||e.thumb?e.thumbsReady=!0:n=b(e,we,oi),w(we,{img:n.img,thumb:n.thumb},e.i,oi)}}})),Ai=F(Ai),xe&&p(!0)}function g(){var t=2>xe||Ce;Ii.noMove=t||Re,Ii.noSwipe=t||!o.swipe,!We&&fi.toggleClass(tt,!Ii.noMove&&!Ii.noSwipe),Kt&&di.toggleClass("fotorama__wrap--pan-y",!Ii.noSwipe)}function v(t){!0===t&&(t=""),o.autoplay=Math.max(+t||5e3,1.5*qe)}function R(t){return 0>t?(xe+t%xe)%xe:t>=xe?t%xe:t}function F(t){return a(t,0,xe-1)}function W(t){return $e?R(t):F(t)}function rt(t){return!!(t>0||$e)&&t-1}function lt(t){return!!(xe-1>t||$e)&&t+1}function ct(t,e,i){if("number"==typeof t){t=new Array(t);var o=!0}return n.each(t,(function(t,n){if(o&&(n=t),"number"==typeof n){var s=we[R(n)];if(s){var a="$"+e+"Frame",r=s[a];i.call(this,t,n,s,r,a,r&&r.data())}}}))}function gt(t,e,i,n){(!Ve||"*"===Ve&&n===Me)&&(t=u(o.width)||u(t)||500,e=u(o.height)||u(e)||333,oi.resize({width:t,ratio:o.ratio||i||t/e},0,n===Me||"*"))}function bt(t,e,i,s,a){ct(t,e,(function(t,r,l,c,h,u){function d(t){var e=R(r);se(t,{index:e,src:b,frame:we[e]})}function p(){g.remove(),n.Fotorama.cache[b]="error",l.html&&"stage"===e||!w||w===b?(!b||l.html||m?"stage"===e&&(c.trigger("f:load").removeClass(mt+" "+ft).addClass(_t),d("load"),gt()):(c.trigger("f:error").removeClass(mt).addClass(ft),d("error")),u.state="error",!(xe>1&&we[r]===l)||l.html||l.deleted||l.video||m||(l.deleted=!0,oi.splice(r,1))):(l[y]=b=w,bt([r],e,i,s,!0))}function f(){var t=10;T((function(){return!ei||!t--&&!Zt}),(function(){n.Fotorama.measures[b]=v.measures=n.Fotorama.measures[b]||{width:_.width,height:_.height,ratio:_.width/_.height},gt(v.measures.width,v.measures.height,v.measures.ratio,r),g.off("load error").addClass(vt+(m?" fotorama__img--full":"")).prependTo(c),k(g,i||Ei,s||l.fit||o.fit),n.Fotorama.cache[b]=u.state="loaded",setTimeout((function(){c.trigger("f:load").removeClass(mt+" "+ft).addClass(_t+" "+(m?"fotorama__loaded--full":"fotorama__loaded--img")),"stage"===e&&d("load")}),5)}))}if(c){var m=oi.fullScreen&&l.full&&l.full!==l.img&&!u.$full&&"stage"===e;if(!u.$img||a||m){var _=new Image,g=n(_),v=g.data();u[m?"$full":"$img"]=g;var y="stage"===e?m?"full":"img":"thumb",b=l[y],w=m?null:l["stage"===e?"thumb":"img"];if("navThumb"===e&&(c=u.$wrap),!b)return void p();n.Fotorama.cache[b]?function t(){"error"===n.Fotorama.cache[b]?p():"loaded"===n.Fotorama.cache[b]?setTimeout(f,0):setTimeout(t,100)}():(n.Fotorama.cache[b]="*",g.on("load",f).on("error",p)),u.state="",_.src=b}}}))}function xt(){Di.detach(),Te&&Te.stop()}function St(){var t=oi.activeFrame[Jt];t&&!t.data().state&&(function(t){Di.append(Te.spin().el).appendTo(t)}(t),t.on("f:load f:error",(function(){t.off("f:load f:error"),xt()})))}function Ct(t,e){ct(t,e,(function(t,i,s,a,r,l){a||((l=(a=s[r]=di[r].clone()).data()).data=s,"stage"===e?(s.html&&n('<div class="fotorama__html"></div>').append(s._html?n(s.html).removeAttr("id").html(s._html):s.html).appendTo(a),o.captions&&s.caption&&n(A("fotorama__caption",A("fotorama__caption__wrap",s.caption))).appendTo(a),s.video&&a.addClass("fotorama__stage__frame--video").append(Pi.clone()),mi=mi.add(a)):"navDot"===e?xi=xi.add(a):"navThumb"===e&&(l.$wrap=a.children(":first"),Si=Si.add(a),s.video&&a.append(Pi.clone())))}))}function kt(t,e,i){return t&&t.length&&k(t,e,i)}function Pt(t){ct(t,"stage",(function(t,e,i,s,a,r){if(s){Bi[Jt][R(e)]=s.css(n.extend({left:Re?0:d(e,Ei.w,o.margin,Le)},Re&&l(0))),S(s[0])&&(s.appendTo(fi),de(i.$video));var c=i.fit||o.fit;kt(r.$img,Ei,c),kt(r.$full,Ei,c)}}))}function Mt(t,e){if("thumbs"===Oe&&!isNaN(t)){var i=-t,o=-t+Ei.nw;Si.each((function(){var t=n(this).data(),s=t.eq,a={h:He},r="cover";a.w=t.w,t.l+t.w<i||t.l>o||kt(t.$img,a,r)||e&&bt([s],"navThumb",a,r)}))}}function $t(t,e,i){if(!$t[i]){var s="nav"===i&&Ne,a=0;e.append(t.filter((function(){for(var t,e=n(this),i=e.data(),o=0,s=we.length;s>o;o++)if(i.data===we[o]){t=!0,i.eq=o;break}return t||e.remove()&&!1})).sort((function(t,e){return n(t).data().eq-n(e).data().eq})).each((function(){if(s){var t=n(this),e=t.data(),i=Math.round(He*e.data.thumbratio)||Fe;e.l=a,e.w=i,t.css({width:i}),a+=i+o.thumbmargin}}))),$t[i]=!0}}function Ot(t){return t-ji>Ei.w/3}function Nt(t){return!($e||Ai+t&&Ai-xe+t||Ce)}function zt(){_i.toggleClass(it,Nt(0)),gi.toggleClass(it,Nt(1))}function Rt(){Mi.ok&&(Mi.prevent={"<":Nt(0),">":Nt(1)})}function Wt(t){var e,i,n=t.data();return Ne?(e=n.l,i=n.w):(e=t.position().left,i=t.width()),{c:e+i/2,min:-e+10*o.thumbmargin,max:-e+Ei.w-i-10*o.thumbmargin}}function Ut(t){var e=oi.activeFrame[ni].data();j(Ti,{time:.9*t,pos:e.l,width:e.w-2*o.thumbborderwidth})}function Vt(t){var e=we[t.guessIndex][ni];if(e){var i=$i.min!==$i.max,n=i&&Wt(oi.activeFrame[ni]),o=i&&(t.keep&&Vt.l?Vt.l:a((t.coo||Ei.nw/2)-Wt(e).c,n.min,n.max)),s=i&&a(o,$i.min,$i.max),r=.9*t.time;j(wi,{time:r,pos:s||0,onEnd:function(){Mt(s,!0)}}),ue(bi,P(s,$i.min,$i.max)),Vt.l=o}}function Yt(t){for(var e=Ni[t];e.length;)e.shift().removeClass(ut)}function ee(t){var e=Bi[t];n.each(Pe,(function(t,i){delete e[R(i)]})),n.each(e,(function(t,i){delete e[t],i.detach()}))}function ie(t){Le=De=Ai;var e=oi.activeFrame[Jt];e&&(Yt(Jt),Ni[Jt].push(e.addClass(ut)),t||oi.show.onEnd(!0),f(fi,0,!0),ee(Jt),Pt(Pe),Ii.min=$e?-1/0:-d(xe-1,Ei.w,o.margin,Le),Ii.max=$e?1/0:-d(0,Ei.w,o.margin,Le),Ii.snap=Ei.w+o.margin,$i.min=Math.min(0,Ei.nw-wi.width()),$i.max=0,wi.toggleClass(tt,!($i.noMove=$i.min===$i.max)))}function oe(t,e){t&&n.each(e,(function(e,i){i&&n.extend(i,{width:t.width||i.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:O(t.ratio)})}))}function se(e,i){t.trigger(K+":"+e,[oi,i])}function ae(){clearTimeout(re.t),ei=1,o.stopautoplayontouch?oi.stopAutoplay():Je=!0}function re(){o.stopautoplayontouch||(le(),ce()),re.t=setTimeout((function(){ei=0}),Xt+Gt)}function le(){Je=!(!Ce&&!Qe)}function ce(){if(clearTimeout(ce.t),o.autoplay&&!Je){oi.autoplay||(oi.autoplay=!0,se("startautoplay"));var t=Ai,e=oi.activeFrame[Jt].data();T((function(){return e.state||t!==Ai}),(function(){ce.t=setTimeout((function(){Je||t!==Ai||oi.show($e?B(!Ue):R(Ai+(Ue?-1:1)))}),o.autoplay)}))}else oi.autoplay&&(oi.autoplay=!1,se("stopautoplay"))}function he(){oi.fullScreen&&(oi.fullScreen=!1,qt&&Tt.cancel(ri),It.removeClass(V),Et.removeClass(V),t.removeClass(pt).insertAfter(ui),Ei=n.extend({},ti),de(Ce,!0,!0),_e("x",!1),oi.resize(),bt(Pe,"stage"),M(Xe,Ge),se("fullscreenexit"))}function ue(t,e){Ze&&(t.removeClass("fotorama__shadows--left fotorama__shadows--right"),e&&!Ce&&t.addClass(e.replace(/^|\s/g," "+ht+"--")))}function de(t,e,i){e&&(di.removeClass(X),Ce=!1,g()),t&&t!==Ce&&(t.remove(),se("unloadvideo")),i&&(le(),ce())}function pe(t){di.toggleClass("fotorama__wrap--no-controls",t)}function fe(t){if(!Ii.flow){var e=t?t.pageX:fe.x,i=e&&!Nt(Ot(e))&&o.click;fe.p===i||!Re&&o.swipe||!pi.toggleClass("fotorama__pointer",i)||(fe.p=i,fe.x=e)}}function me(t){clearTimeout(me.t),o.clicktransition&&o.clicktransition!==o.transition?(We=o.transition,oi.setOptions({transition:o.clicktransition}),me.t=setTimeout((function(){oi.show(t)}),10)):oi.show(t)}function _e(t,e){Ii[t]=$i[t]=e}function ge(t,e){me({index:n(this).data().eq,slow:t.altKey,user:!0,coo:t._x-bi.offset().left,time:e})}function ve(){if(_(),function(){function t(t,i){e[t?"add":"remove"].push(i)}oi.options=o=$(o),Re="crossfade"===o.transition||"dissolve"===o.transition,$e=o.loop&&(xe>2||Re)&&(!We||"slide"!==We),qe=+o.transitionduration||Xt,Ue="rtl"===o.direction,Ke=n.extend({},o.keyboard&&ne,o.keyboard);var e={add:[],remove:[]};xe>1?(Oe=o.nav,Be="top"===o.navposition,e.remove.push(dt),vi.toggle(!!o.arrows)):(Oe=!1,vi.hide()),xt(),Te=new Lt(n.extend(Dt,o.spinner,At,{direction:Ue?-1:1})),zt(),Rt(),o.autoplay&&v(o.autoplay),Fe=c(o.thumbwidth)||64,He=c(o.thumbheight)||64,Mi.ok=Oi.ok=o.trackpad&&!Zt,g(),oe(o,[Ei]),(Ne="thumbs"===Oe)?(Ct(xe,"navThumb"),Se=Si,ni=te,function(t,e){var i=t[0];i.styleSheet?i.styleSheet.cssText=e:t.html(e)}(hi,n.Fotorama.jst.style({w:Fe,h:He,b:o.thumbborderwidth,m:o.thumbmargin,s:si,q:!Ht})),bi.addClass(st).removeClass(ot)):"dots"===Oe?(Ct(xe,"navDot"),Se=xi,ni=Qt,bi.addClass(ot).removeClass(st)):(Oe=!1,bi.removeClass(st+" "+ot)),Oe&&(Be?yi.insertBefore(pi):yi.insertAfter(pi),$t.nav=!1,$t(Se,wi,"nav")),(je=o.allowfullscreen)?(Ci.appendTo(pi),ze=qt&&"native"===je):(Ci.detach(),ze=!1),t(Re,"fotorama__wrap--fade"),t(!Re,"fotorama__wrap--slide"),t(!o.captions,"fotorama__wrap--no-captions"),t(Ue,"fotorama__wrap--rtl"),t("always"!==o.arrows,"fotorama__wrap--toggle-arrows"),t(!(Ze=o.shadows&&!Zt),"fotorama__wrap--no-shadows"),di.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),n.extend({},o)}(),!ve.i){ve.i=!0;var t=o.startindex;(t||o.hash&&i.hash)&&(Me=L(t||i.hash.replace(/^#/,""),we,0===oi.index||t,t)),Ai=Le=De=Ae=Me=W(Me)||0}if(xe){if(ye())return;Ce&&de(Ce,!0),Pe=[],ee(Jt),oi.show({index:Ai,time:0,reset:ve.ok}),oi.resize()}else oi.destroy();ve.ok=!0}function ye(){return!ye.f===Ue?(ye.f=Ue,Ai=xe-1-Ai,oi.reverse(),!0):void 0}function be(){be.ok||(be.ok=!0,se("ready"))}Et=Et||n("html"),It=It||n("body");var we,xe,Se,Te,Ce,ke,Pe,Le,De,Ae,Ee,Ie,Me,$e,Oe,Ne,Be,je,ze,Re,Fe,He,qe,We,Ze,Ue,Ke,Ve,Ge,Xe,Ye,Je,Qe,ti,ei,ii,ni,oi=this,si=n.now(),ai=K+si,ri=t[0],li=1,ci=t.data(),hi=n("<style></style>"),ui=n(A("fotorama--hidden")),di=n(A(G)),pi=n(A(J)).appendTo(di),fi=(pi[0],n(A("fotorama__stage__shaft")).appendTo(pi)),mi=n(),_i=n(A(et+" fotorama__arr--prev")),gi=n(A(et+" fotorama__arr--next")),vi=_i.add(gi).appendTo(pi),yi=n(A("fotorama__nav-wrap")),bi=n(A(nt)).appendTo(yi),wi=n(A("fotorama__nav__shaft")).appendTo(bi),xi=n(),Si=n(),Ti=(fi.data(),wi.data(),n(A("fotorama__thumb-border")).appendTo(wi)),Ci=n(A("fotorama__fullscreen-icon")),ki=Ci[0],Pi=n(A(wt)),Li=n(A("fotorama__video-close")).appendTo(pi)[0],Di=n(A("fotorama__spinner")),Ai=!1,Ei={},Ii={},Mi={},$i={},Oi={},Ni={},Bi={},ji=0,zi=[];di[Jt]=n(A(Q)),di[te]=n(A(at+" fotorama__nav__frame--thumb",A(yt))),di[Qt]=n(A(at+" fotorama__nav__frame--dot",A("fotorama__dot"))),Ni[Jt]=[],Ni[te]=[],Ni[Qt]=[],Bi[Jt]={},di.addClass(Ft?"fotorama__wrap--css3":"fotorama__wrap--css2"),ci.fotorama=this,oi.startAutoplay=function(t){return oi.autoplay||(Je=Qe=!1,v(t||o.autoplay),ce()),this},oi.stopAutoplay=function(){return oi.autoplay&&(Je=Qe=!0,ce()),this},oi.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?De+1:"<"===e?De-1:"<<"===e?0:">>"===e?xe-1:e,e=void 0===(e=isNaN(e)?L(e,we,!0):e)?Ai||0:e,oi.activeIndex=Ai=W(e),Ee=rt(Ai),Ie=lt(Ai),Pe=[Ai,Ee,Ie],De=$e?e:Ai;var i=Math.abs(Ae-De),n=m(t.time,(function(){return Math.min(qe*(1+(i-1)/12),2*qe)})),s=t.overPos;t.slow&&(n*=10),oi.activeFrame=ke=we[Ai],de(Ce,ke.i!==we[R(Le)].i),Ct(Pe,"stage"),Pt(Zt?[De]:[De,rt(De),lt(De)]),_e("go",!0),t.reset||se("show",{user:t.user,time:n}),Je=!0;var r=oi.show.onEnd=function(e){if(!r.ok){if(r.ok=!0,e||ie(!0),!t.reset&&(se("showend",{user:t.user}),!e&&We&&We!==o.transition))return oi.setOptions({transition:We}),void(We=!1);St(),bt(Pe,"stage"),_e("go",!1),Rt(),fe(),le(),ce()}};Re?z(ke[Jt],Ai!==Ae?we[Ae][Jt]:null,mi,{time:n,method:o.transition,onEnd:r},zi):j(fi,{pos:-d(De,Ei.w,o.margin,Le),overPos:s,time:n,onEnd:r,_001:!0});if(zt(),Oe){Yt(ni),Ni[ni].push(oi.activeFrame[ni].addClass(ut));var l=F(Ai+a(De-Ae,-1,1));Vt({time:n,coo:l!==Ai&&t.coo,guessIndex:void 0!==t.coo?l:Ai,keep:t.reset}),Ne&&Ut(n)}return Ye=void 0!==Ae&&Ae!==Ai,Ae=Ai,o.hash&&Ye&&!oi.eq&&C(ke.id||Ai+1),this},oi.requestFullScreen=function(){return je&&!oi.fullScreen&&(Ge=Bt.scrollTop(),Xe=Bt.scrollLeft(),M(0,0),_e("x",!0),ti=n.extend({},Ei),t.addClass(pt).appendTo(It.addClass(V)),Et.addClass(V),de(Ce,!0,!0),oi.fullScreen=!0,ze&&Tt.request(ri),oi.resize(),bt(Pe,"stage"),St(),se("fullscreenenter")),this},oi.cancelFullScreen=function(){return ze&&Tt.is()?Tt.cancel(e):he(),this},e.addEventListener&&e.addEventListener(Tt.event,(function(){!we||Tt.is()||Ce||he()}),!1),oi.resize=function(t){if(!we)return this;oe(oi.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:$(t),[Ei,oi.fullScreen||o]);var e=arguments[1]||0,i=arguments[2],n=Ei.width,s=Ei.height,r=Ei.ratio,l=Bt.height()-(Oe?bi.height():0);return u(n)&&(di.addClass(Y).css({width:n,minWidth:Ei.minwidth||0,maxWidth:Ei.maxwidth||99999}),n=Ei.W=Ei.w=di.width(),Ei.nw=Oe&&h(o.navwidth,n)||n,o.glimpse&&(Ei.w-=Math.round(2*(h(o.glimpse,n)||0))),fi.css({width:Ei.w,marginLeft:(Ei.W-Ei.w)/2}),(s=(s=h(s,l))||r&&n/r)&&(n=Math.round(n),s=Ei.h=Math.round(a(s,h(Ei.minheight,l),h(Ei.maxheight,l))),pi.stop().animate({width:n,height:s},e,(function(){di.removeClass(Y)})),ie(),Oe&&(bi.stop().animate({width:Ei.nw},e),Vt({guessIndex:Ai,time:e,keep:!0}),Ne&&$t.nav&&Ut(e)),Ve=i||!0,be())),ji=pi.offset().left,this},oi.setOptions=function(t){return n.extend(o,t),ve(),this},oi.shuffle=function(){return we&&E(we)&&ve(),this},oi.destroy=function(){return oi.cancelFullScreen(),oi.stopAutoplay(),we=oi.data=null,p(),Pe=[],ee(Jt),this},oi.playVideo=function(){var t=oi.activeFrame,e=t.video,i=Ai;return"object"==typeof e&&t.videoReady&&(ze&&oi.fullScreen&&oi.cancelFullScreen(),T((function(){return!Tt.is()||i!==Ai}),(function(){i===Ai&&(t.$video=t.$video||n(n.Fotorama.jst.video(e)),t.$video.appendTo(t[Jt]),di.addClass(X),Ce=t.$video,g(),se("loadvideo"))}))),this},oi.stopVideo=function(){return de(Ce,!0,!0),this},pi.on("mousemove",fe),Ii=H(fi,{onStart:ae,onMove:function(t,e){ue(pi,e.edge)},onTouchEnd:re,onEnd:function(t){ue(pi);var e=(Kt&&!ii||t.touch)&&o.arrows&&"always"!==o.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var i=function(t,e,i,n){return-Math.round(t/(e+(i||0))-(n||0))}(t.newPos,Ei.w,o.margin,Le);oi.show({index:i,time:Re?qe:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||function(t,e){var i=t.target;n(i).hasClass(wt)?oi.playVideo():i===ki?oi[(oi.fullScreen?"cancel":"request")+"FullScreen"]():Ce?i===Li&&de(Ce,!0,!0):e?pe():o.click&&me({index:t.shiftKey||B(Ot(t._x)),slow:t.altKey,user:!0})}(t.startEvent,e)},_001:!0,timeLow:1,timeHigh:1,friction:2,select:"."+dt+", ."+dt+" *",$wrap:pi}),$i=H(wi,{onStart:ae,onMove:function(t,e){ue(bi,e.edge)},onTouchEnd:re,onEnd:function(t){function e(){Vt.l=t.newPos,le(),ce(),Mt(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(Je=!0,j(wi,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),Mt(t.newPos),Ze&&ue(bi,P(t.newPos,$i.min,$i.max))):e();else{var i=t.$target.closest("."+at,wi)[0];i&&ge.call(i,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:bi}),Mi=q(pi,{shift:!0,onEnd:function(t,e){ae(),re(),oi.show({index:e,slow:t.altKey})}}),Oi=q(bi,{onEnd:function(t,e){ae(),re();var i=f(wi)+.25*e;wi.css(r(a(i,$i.min,$i.max))),Ze&&ue(bi,P(i,$i.min,$i.max)),Oi.prevent={"<":i>=$i.max,">":i<=$i.min},clearTimeout(Oi.t),Oi.t=setTimeout((function(){Mt(i,!0)}),Gt),Mt(i)}}),di.hover((function(){setTimeout((function(){ei||pe(!(ii=!0))}),0)}),(function(){ii&&pe(!(ii=!1))})),D(vi,(function(t){N(t),me({index:vi.index(this)?">":"<",slow:t.altKey,user:!0})}),{onStart:function(){ae(),Ii.control=!0},onTouchEnd:re}),n.each("load push pop shift unshift reverse sort splice".split(" "),(function(t,e){oi[e]=function(){return we=we||[],"load"!==e?Array.prototype[e].apply(we,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(we=I(arguments[0])),ve(),oi}})),ve()},n.fn.fotorama=function(e){return this.each((function(){var i=this,o=n(this),s=o.data(),a=s.fotorama;a?a.setOptions(e):T((function(){return!function(t){return 0===t.offsetWidth&&0===t.offsetHeight}(i)}),(function(){s.urtext=o.html(),new n.Fotorama(o,n.extend({},ie,t.fotoramaDefaults,e,s))}))}))},n.Fotorama.instances=[],n.Fotorama.cache={},n.Fotorama.measures={},(n=n||{}).Fotorama=n.Fotorama||{},n.Fotorama.jst=n.Fotorama.jst||{},n.Fotorama.jst.style=function(t){var e;return""+".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},n.Fotorama.jst.video=function(t){var e="",i=Array.prototype.join;return e+='<div class="fotorama__video"><iframe src="',function(){e+=i.call(arguments,"")}(("youtube"==t.type?"http://youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?"http://player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),e+='" frameborder="0" allowfullscreen></iframe></div>'},n((function(){n("."+K+':not([data-auto="false"])').fotorama()}))}(window,document,location,"undefined"!=typeof jQuery&&jQuery),function($){$.fn.markItUp=function(settings,extraSettings){var method,params,options,ctrlKey,shiftKey,altKey;ctrlKey=shiftKey=altKey=!1,"string"==typeof settings&&(method=settings,params=extraSettings),options={id:"",nameSpace:"",root:"",previewHandler:!1,previewInWindow:"",previewInElement:"",previewAutoRefresh:!0,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParser:!1,previewParserPath:"",previewParserVar:"data",resizeHandle:!0,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]},$.extend(options,settings,extraSettings),options.root||$("script").each((function(t,e){miuScript=$(e).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/),null!==miuScript&&(options.root=miuScript[1])}));var uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},matched=uaMatch(navigator.userAgent),browser={};return matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),this.each((function(){var $$,textarea,levels,scrollPosition,caretPosition,caretOffset,clicked,hash,header,footer,previewWindow,template,iFrame,abort;if($$=$(this),textarea=this,levels=[],abort=!1,scrollPosition=caretPosition=0,caretOffset=-1,options.previewParserPath=localize(options.previewParserPath),options.previewTemplatePath=localize(options.previewTemplatePath),method)switch(method){case"remove":remove();break;case"insert":markup(params);break;default:$.error("Method "+method+" does not exist on jQuery.markItUp")}else init();function localize(t,e){return e?t.replace(/("|')~\//g,"$1"+options.root):t.replace(/^~\//,options.root)}function init(){id="",nameSpace="",options.id?id='id="'+options.id+'"':$$.attr("id")&&(id='id="markItUp'+$$.attr("id").substr(0,1).toUpperCase()+$$.attr("id").substr(1)+'"'),options.nameSpace&&(nameSpace='class="'+options.nameSpace+'"'),$$.wrap("<div "+nameSpace+"></div>"),$$.wrap("<div "+id+' class="markItUp"></div>'),$$.wrap('<div class="markItUpContainer"></div>'),$$.addClass("markItUpEditor"),header=$('<div class="markItUpHeader"></div>').insertBefore($$),$(dropMenus(options.markupSet)).appendTo(header),footer=$('<div class="markItUpFooter"></div>').insertAfter($$),!0===options.resizeHandle&&!0!==browser.safari&&(resizeHandle=$('<div class="markItUpResizeHandle"></div>').insertAfter($$).bind("mousedown.markItUp",(function(t){var e,i,n=$$.height(),o=t.clientY;e=function(t){return $$.css("height",Math.max(20,t.clientY+n-o)+"px"),!1},i=function(t){return $("html").unbind("mousemove.markItUp",e).unbind("mouseup.markItUp",i),!1},$("html").bind("mousemove.markItUp",e).bind("mouseup.markItUp",i)})),footer.append(resizeHandle)),$$.bind("keydown.markItUp",keyPressed).bind("keyup",keyPressed),$$.bind("insertion.markItUp",(function(t,e){!1!==e.target&&get(),textarea===$.markItUp.focused&&markup(e)})),$$.bind("focus.markItUp",(function(){$.markItUp.focused=this})),options.previewInElement&&refreshPreview()}function dropMenus(markupSet){var ul=$("<ul></ul>"),i=0;return $("li:hover > ul",ul).css("display","block"),$.each(markupSet,(function(){var button=this,t="",title,li,j;if(title=button.key?(button.name||"")+" [Ctrl+"+button.key+"]":button.name||"",key=button.key?'accesskey="'+button.key+'"':"",button.separator)li=$('<li class="markItUpSeparator">'+(button.separator||"")+"</li>").appendTo(ul);else{for(i++,j=levels.length-1;j>=0;j--)t+=levels[j]+"-";li=$('<li class="markItUpButton markItUpButton'+t+i+" "+(button.className||"")+'"><a href="" '+key+' title="'+title+'">'+(button.name||"")+"</a></li>").bind("contextmenu.markItUp",(function(){return!1})).bind("click.markItUp",(function(t){t.preventDefault()})).bind("focusin.markItUp",(function(){$$.focus()})).bind("mouseup",(function(){return button.call&&eval(button.call)(),setTimeout((function(){markup(button)}),1),!1})).bind("mouseenter.markItUp",(function(){$("> ul",this).show(),$(document).one("click",(function(){$("ul ul",header).hide()}))})).bind("mouseleave.markItUp",(function(){$("> ul",this).hide()})).appendTo(ul),button.dropMenu&&(levels.push(i),$(li).addClass("markItUpDropMenu").append(dropMenus(button.dropMenu)))}})),levels.pop(),ul}function magicMarkups(t){return t?t=(t=(t=t.toString()).replace(/\(\!\(([\s\S]*?)\)\!\)/g,(function(t,e){var i=e.split("|!|");return!0===altKey?void 0!==i[1]?i[1]:i[0]:void 0===i[1]?"":i[0]}))).replace(/\[\!\[([\s\S]*?)\]\!\]/g,(function(t,e){var i=e.split(":!:");return!0!==abort&&(value=prompt(i[0],i[1]?i[1]:""),null===value&&(abort=!0),value)})):""}function prepare(t){return $.isFunction(t)&&(t=t(hash)),magicMarkups(t)}function build(t){var e=prepare(clicked.openWith),i=prepare(clicked.placeHolder),n=prepare(clicked.replaceWith),o=prepare(clicked.closeWith),s=prepare(clicked.openBlockWith),a=prepare(clicked.closeBlockWith),r=clicked.multiline;if(""!==n)block=e+n+o;else if(""===selection&&""!==i)block=e+i+o;else{var l=[t=t||selection],c=[];!0===r&&(l=t.split(/\r?\n/));for(var h=0;h<l.length;h++){var u;line=l[h],(u=line.match(/ *$/))?c.push(e+line.replace(/ *$/g,"")+o+u):c.push(e+line+o)}block=c.join("\n")}return block=s+block+a,{block:block,openBlockWith:s,openWith:e,replaceWith:n,placeHolder:i,closeWith:o,closeBlockWith:a}}function markup(t){var e,i,n,o;if(hash=clicked=t,get(),$.extend(hash,{line:"",root:options.root,textarea:textarea,selection:selection||"",caretPosition:caretPosition,ctrlKey:ctrlKey,shiftKey:shiftKey,altKey:altKey}),prepare(options.beforeInsert),prepare(clicked.beforeInsert),(!0===ctrlKey&&!0===shiftKey||!0===t.multiline)&&prepare(clicked.beforeMultiInsert),$.extend(hash,{line:1}),!0===ctrlKey&&!0===shiftKey){for(lines=selection.split(/\r?\n/),i=0,n=lines.length,o=0;o<n;o++)""!==$.trim(lines[o])?($.extend(hash,{line:++i,selection:lines[o]}),lines[o]=build(lines[o]).block):lines[o]="";string={block:lines.join("\n")},start=caretPosition,e=string.block.length+(browser.opera?n-1:0)}else!0===ctrlKey?(string=build(selection),start=caretPosition+string.openWith.length,e=string.block.length-string.openWith.length-string.closeWith.length,e-=string.block.match(/ $/)?1:0,e-=fixIeBug(string.block)):!0===shiftKey?(string=build(selection),start=caretPosition,e=string.block.length,e-=fixIeBug(string.block)):(string=build(selection),start=caretPosition+string.block.length,e=0,start-=fixIeBug(string.block));""===selection&&""===string.replaceWith&&(caretOffset+=fixOperaBug(string.block),start=caretPosition+string.openBlockWith.length+string.openWith.length,e=string.block.length-string.openBlockWith.length-string.openWith.length-string.closeWith.length-string.closeBlockWith.length,caretOffset=$$.val().substring(caretPosition,$$.val().length).length,caretOffset-=fixOperaBug($$.val().substring(0,caretPosition))),$.extend(hash,{caretPosition:caretPosition,scrollPosition:scrollPosition}),string.block!==selection&&!1===abort?(insert(string.block),set(start,e)):caretOffset=-1,get(),$.extend(hash,{line:"",selection:selection}),(!0===ctrlKey&&!0===shiftKey||!0===t.multiline)&&prepare(clicked.afterMultiInsert),prepare(clicked.afterInsert),prepare(options.afterInsert),previewWindow&&options.previewAutoRefresh&&refreshPreview(),shiftKey=altKey=ctrlKey=abort=!1}function fixOperaBug(t){return browser.opera?t.length-t.replace(/\n*/g,"").length:0}function fixIeBug(t){return browser.msie?t.length-t.replace(/\r*/g,"").length:0}function insert(t){document.selection?document.selection.createRange().text=t:textarea.value=textarea.value.substring(0,caretPosition)+t+textarea.value.substring(caretPosition+selection.length,textarea.value.length)}function set(t,e){if(textarea.createTextRange){if(browser.opera&&browser.version>=9.5&&0==e)return!1;range=textarea.createTextRange(),range.collapse(!0),range.moveStart("character",t),range.moveEnd("character",e),range.select()}else textarea.setSelectionRange&&textarea.setSelectionRange(t,t+e);textarea.scrollTop=scrollPosition,textarea.focus()}function get(){if(textarea.focus(),scrollPosition=textarea.scrollTop,document.selection)if(selection=document.selection.createRange().text,browser.msie){var t=document.selection.createRange(),e=t.duplicate();for(e.moveToElementText(textarea),caretPosition=-1;e.inRange(t);)e.moveStart("character"),caretPosition++}else caretPosition=textarea.selectionStart;else caretPosition=textarea.selectionStart,selection=textarea.value.substring(caretPosition,textarea.selectionEnd);return selection}function preview(){"function"==typeof options.previewHandler?previewWindow=!0:options.previewInElement?previewWindow=$(options.previewInElement):!previewWindow||previewWindow.closed?options.previewInWindow?(previewWindow=window.open("","preview",options.previewInWindow),$(window).unload((function(){previewWindow.close()}))):(iFrame=$('<iframe class="markItUpPreviewFrame"></iframe>'),"after"==options.previewPosition?iFrame.insertAfter(footer):iFrame.insertBefore(header),previewWindow=iFrame[iFrame.length-1].contentWindow||frame[iFrame.length-1]):!0===altKey&&(iFrame?iFrame.remove():previewWindow.close(),previewWindow=iFrame=!1),options.previewAutoRefresh||refreshPreview(),options.previewInWindow&&previewWindow.focus()}function refreshPreview(){renderPreview()}function renderPreview(){if(options.previewHandler&&"function"==typeof options.previewHandler)options.previewHandler($$.val());else if(options.previewParser&&"function"==typeof options.previewParser){writeInPreview(localize(options.previewParser($$.val()),1))}else""!==options.previewParserPath?$.ajax({type:"POST",dataType:"text",global:!1,url:options.previewParserPath,data:options.previewParserVar+"="+encodeURIComponent($$.val()),success:function(t){writeInPreview(localize(t,1))}}):template||$.ajax({url:options.previewTemplatePath,dataType:"text",global:!1,success:function(t){writeInPreview(localize(t,1).replace(/<!-- content -->/g,$$.val()))}});return!1}function writeInPreview(t){if(options.previewInElement)$(options.previewInElement).html(t);else if(previewWindow&&previewWindow.document){try{sp=previewWindow.document.documentElement.scrollTop}catch(t){sp=0}previewWindow.document.open(),previewWindow.document.write(t),previewWindow.document.close(),previewWindow.document.documentElement.scrollTop=sp}}function keyPressed(t){if(shiftKey=t.shiftKey,altKey=t.altKey,ctrlKey=(!t.altKey||!t.ctrlKey)&&(t.ctrlKey||t.metaKey),"keydown"===t.type){if(!0===ctrlKey&&(li=$('a[accesskey="'+(13==t.keyCode?"\\n":String.fromCharCode(t.keyCode))+'"]',header).parent("li"),0!==li.length))return ctrlKey=!1,setTimeout((function(){li.triggerHandler("mouseup")}),1),!1;if(13===t.keyCode||10===t.keyCode)return!0===ctrlKey?(ctrlKey=!1,markup(options.onCtrlEnter),options.onCtrlEnter.keepDefault):!0===shiftKey?(shiftKey=!1,markup(options.onShiftEnter),options.onShiftEnter.keepDefault):(markup(options.onEnter),options.onEnter.keepDefault);if(9===t.keyCode)return 1!=shiftKey&&1!=ctrlKey&&1!=altKey&&(-1!==caretOffset?(get(),set(caretOffset=$$.val().length-caretOffset,0),caretOffset=-1,!1):(markup(options.onTab),options.onTab.keepDefault))}}function remove(){$$.unbind(".markItUp").removeClass("markItUpEditor"),$$.parent("div").parent("div.markItUp").parent("div").replaceWith($$),$$.data("markItUp",null)}}))},$.fn.markItUpRemove=function(){return this.each((function(){$(this).markItUp("remove")}))},$.markItUp=function(t){var e={target:!1};if($.extend(e,t),e.target)return $(e.target).each((function(){$(this).focus(),$(this).trigger("insertion",[e])}));$("textarea").trigger("insertion",[e])}}(jQuery),mySettings={previewParserPath:"/markitup/parsers/markitup.bbcode-parser.php",markupSet:[{name:"Bold",key:"B",openWith:"[b]",closeWith:"[/b]"},{name:"Italic",key:"I",openWith:"[i]",closeWith:"[/i]"},{name:"Underline",key:"U",openWith:"[u]",closeWith:"[/u]"},{separator:"---------------"},{name:"Picture",key:"P",replaceWith:"[img][![Url]!][/img]"},{name:"Link",key:"L",openWith:"[url=[![Url]!]]",closeWith:"[/url]",placeHolder:"Your text to link here..."},{separator:"---------------"},{name:"Size",key:"S",openWith:"[size=[![Text size]!]]",closeWith:"[/size]",dropMenu:[{name:"Big",openWith:"[size=200]",closeWith:"[/size]"},{name:"Normal",openWith:"[size=100]",closeWith:"[/size]"},{name:"Small",openWith:"[size=50]",closeWith:"[/size]"}]},{separator:"---------------"},{name:"Bulleted list",openWith:"[list]\n",closeWith:"\n[/list]"},{name:"Numeric list",openWith:"[list=[![Starting number]!]]\n",closeWith:"\n[/list]"},{name:"List item",openWith:"[*] "},{separator:"---------------"},{name:"Quotes",openWith:"[quote]",closeWith:"[/quote]"},{name:"Code",openWith:"[code]",closeWith:"[/code]"},{separator:"---------------"},{name:"Youtube",key:"Y",replaceWith:"[youtube][![Url]!][/youtube]",placeHolder:"Your text to link here..."},{separator:"---------------"},{name:"Clean",className:"clean",replaceWith:function(t){return t.selection.replace(/\[(.*?)\]/g,"")}},{name:"Preview",className:"preview",call:"preview"}]};var comments_divs=$('.comments .comment_block[data-pid="0"]');function add_comment_handlers(){$(".sort_rating").click((function(){sort_by_rating($(this),"rating"),$(".sort_date").removeClass("comments_sorted"),$(this).addClass("comments_sorted")})),$(".sort_date").click((function(){sort_by_rating($(this),"date"),$(".sort_rating").removeClass("comments_sorted"),$(this).addClass("comments_sorted")}))}function sort_by_rating(t,e){var i=8673,n=t.attr("data-dir"),o=comments_divs.sort((function(t,i){return 1==n?1*$(t).data(e)>1*$(i).data(e)?-1:1*$(t).data(e)<1*$(i).data(e)?1:0:1*$(t).data(e)<1*$(i).data(e)?-1:1*$(t).data(e)>1*$(i).data(e)?1:0}));1==(n^=1)&&(i=8675),t.attr("data-dir",n),t.find(".direction").html("&#"+i+";"),$(".comments").html(o),add_button_handlers()}function add_button_handlers(){add_delete_action(),add_edit_action(),add_reply_action(),add_vote_action()}function filter_comments(t){1==$(t).is(":checked")?$('.comment_block[data-lang!="'+lang+'"]').each((function(){$(this).hide()})):$(".comment_block").each((function(){$(this).show()}))}$(document).ready((function(){add_comment_handlers(),$(".sort_rating").click()}));var tooltipCache={},filter_array=[],effects_filter_array=[],favorites=[],curtaint_pending=!1;function set_mount_data(t){var e=$("#mount_level"),i=e.html(),n=e.data("max_level");"-"==$(t).data("action")?i>1&&i--:i<n&&i++,e.html(i),$("#mount_exp").html(mount_data[i].exp),$("#mount_hp").html(mount_data[i].hp),$("#mount_stamina").html(mount_data[i].stamina),$("#mount_weight").html(mount_data[i].weight),$("#mount_speed").html(mount_data[i].speed),$("#mount_acceleration").html(mount_data[i].acceleration),$("#mount_cornering").html(mount_data[i].cornering),$("#mount_brake").html(mount_data[i].brake)}function set_pet_data(t){var e=$("#pet_level"),i=e.html(),n=e.data("max_level");"-"==$(t).data("action")?i>1&&i--:i<n&&i++,e.html(i),$("#skill_0").html(pet_skill_0[i]),$("#skill_1").html(pet_skill_1[i]),$("#pet_exp").html(pet_exp[i])}function add_price_handler(){$(".material_price").each((function(){$(this).unbind("keyup"),$(this).keyup((function(){var t=$(this).val(),e=$(this).data("item_id"),i=$(this);delay((function(){save_price(e,t),$(i).attr("data-price",t),update_total_price()}),500)}))})),$(".check_rid").each((function(){$(this).unbind("change"),$(this).change((function(){update_total_price()}))}))}function calculate_price(t){var e=$(t).parent().parent().parent().children(".counter_value").text();if(null!=e&&e.length>0){var i=e*$(t).attr("data-price");if(0!=i){var n=$("#total_price"),o=1*n.attr("data-price")+i;n.attr("data-price",o);var s=n.attr("data-price"),a=$("#products_per_craft").val();a>0&&(s=cut_number(s/a,1)),$(n).text(s)}}}function qtip_options(){return{show:{event:"mouseenter"},overwrite:!1,style:{classes:"qtip-transparent"},content:{text:function(t,e){var i=$(this).attr(e.options.content.attr);$(this).data("ct")&&(o="comment_tip",$(this).qtip("api").set("style.classes",o));const n=$(this).attr("data-id");if(n){const t=$(this).attr("data-enchant"),o=n+t+lang;if(tooltipCache[o])return console.log("cached"),tooltipCache[o];$.ajax({url:"/tip.php",type:"GET",data:{id:n,enchant:t,l:lang,nf:"on"}}).then((function(t){tooltipCache[o]=t,e.set("content.text",t)}),(function(t,i,n){e.set("content.text",i+": "+n)})),i=i?i+" (Loading...)":"Loading..."}else{if($(this).hasClass("skill_feature")||$(this).hasClass("builder_skill_feature"))o="qtip-bootstrap wide_tooltip",$(this).qtip("api").set("style.classes",o);else var o="qtip-bootstrap";$(this).qtip("api").set("style.classes",o),$(this).qtip("api").set("position.adjust.x",12),$(this).qtip("api").set("position.adjust.y",12),$(this).qtip("api").set("style.tip.corner",!1)}return i}},position:{target:"mouse",effect:!1,adjust:{method:"shift",x:5,y:5},viewport:$(window)},events:{hide:function(t,e){var i=$(this).find("video").get(0);void 0!==i&&i.pause()},show:function(t,e){var i=$(this).find("video").get(0);void 0!==i&&i.play()}}}}function get_datatable(t,e,i,n,o){var s="simple_numbers";is_mobile()&&(s="simple",!0,responsive=!1);var a=$("#"+t).DataTable({ajax:{url:e,cache:!0},columns:JSON.parse(i),order:JSON.parse(o),deferRender:!0,scrollX:!0,autoWidth:!0,pagingType:s,stateSave:!0,lengthMenu:[10,25,50,100,150,200],pageLength:entries_per_page,dom:'<<"inlinediv"l><"inlinediv ms-2 column_select_button"B><"inlinediv float-end"f>><<"inlinediv"i><"inlinediv float-end"p>>rt<<"inlinediv"l><"inlinediv float-end"f>><<"inlinediv"i><"inlinediv float-end"p>>',buttons:[{text:reset_settings_msg,action:function(t,e,i,n){e.state.clear(),window.location.reload()}}],language:{url:"/lang/datatables_"+lang+".txt"},rowCallback:function(e,i,o){customFnRowCallback(e,i,o,n,a,t)},searchDelay:350}).on("mouseenter",".qtooltip",(function(t){$(this).qtip($.extend(!0,qtip_options(),{show:{ready:!0}}),t)})).on("click","[data-group_id]",(function(t){$("#"+$(this).data("group_id")).toggle(),$(this).children(".plus_minus").toggleClass("toggle-open")})).on("click",".list_checkbox",(function(t){favorite_recipe(this,a)})).on("click",".unsub_button",(function(t){unsubscribe(this)})).on("xhr.dt",(function(t,e,i,n){if(null!=i&&null!=favorites&&i.aaData.length>0)for(var o=0,s=i.aaData.length;o<s;o++)i.aaData[o][0]in favorites&&1==favorites[i.aaData[o][0]].state&&(i.aaData[o][11]=1)}));$.fn.dataTable.util.throttle((function(t){a.draw()}),300);return $(".dt_qfilter").keyup((function(){this.value;delay((function(){a.draw()}),500)})).change((function(){this.value;delay((function(){a.draw()}),250)})),$(".filter_element").click((function(){$(this).siblings().attr("data-state",0).removeClass("filter_element_selected");var t=$(this).attr("data-state");t^=1,$(this).attr("data-state",t).toggleClass("filter_element_selected");this.value;delay((function(){a.draw()}),500)})),$(".material_icon").click((function(){var t=$(this).attr("data-state"),e=$(this).data("item_id");if(t^=1,$(this).attr("data-state",t),$(this).toggleClass("effect_selected"),1==t)filter_array.push(e);else{var i=$.inArray(e,filter_array);i>-1&&filter_array.splice(i,1)}a.draw()})),$(".product_effect").click((function(){var t=$(this).attr("data-state"),e=$(this).data("effect_group_id");if(t^=1,$(this).attr("data-state",t),$(this).toggleClass("effect_selected"),1==t)effects_filter_array.push(e);else{var i=$.inArray(e,effects_filter_array);i>-1&&effects_filter_array.splice(i,1)}a.draw()})),$("#GearTable tbody").off("click","td").on("click","td",(function(){if("undefined"!=typeof gear_table){var t=gear_table.cell(this).index(),e=$(this).parent().closest("tr").index();add_skill_rune(t,e,gear_table)}})),a}function customFnRowCallback(t,e,i,n,o,s){if($.each(JSON.parse(n),(function(i,n){if(""!==e[n]){var o=$("td:eq("+n+")",t).html();null!=o&&(o=(o=o.replace(/\[/g,"<")).replace(/\]/g,">"),$("td:eq("+n+")",t).html(o))}})),$(favorites).length>0&&$("#"+s+"_recipe_type_filters").length>0&&e[0]in favorites&&1==favorites[e[0]].state){o.cell($("td:eq(2)",t).parent().closest("tr"),11).data(1);var a=$("td:eq(2)",t).html();a=a.replace('name="fav_recipe_'+e[0]+'"','name="fav_recipe_'+e[0]+'" checked'),$("td:eq(2)",t).html(a)}return t}function get_sub_materials(t,e,i){$.ajax({url:"/ajax.php",dataType:"json",type:"GET",data:{a:"sub_material",recipe_id:t,recipe_type:e,l:lang}}).then((function(t){1==t.result&&($(i).find(".sub_materials_content").html(t.data),set_toggle_event(),add_price_handler())}),(function(t,e,i){alert("STATUS: "+e+" ERROR: "+i)}))}function set_stats(t){if("undefined"!=typeof item_stats){var e="",i="";if(void 0!==item_stats.stats&&void 0!==item_stats.stats[t]){for(var n in item_stats.stats[t])"attr"!=n&&(10==n?set_stat_value("stat_"+n,item_stats.stats[t][n].value):""==item_stats.stats[t][n].name?e+=i+item_stats.stats[t][n].value:e+=i+item_stats.stats[t][n].name+": +"+item_stats.stats[t][n].value,""==i&&(i="<br>")),1==n&&void 0!==item_stats.stats[t].attr&&(e+='<img src="'+item_stats.stats[t].attr.icon+'" class="damage_element_icon" alt="element">',e+=i+'<span id="stat_attr">'+item_stats.stats[t].attr.value+"</span>");set_stat_value("main_stats",e)}if(void 0!==item_stats.estats&&void 0!==item_stats.estats[t]){for(var n in e="",i="",item_stats.estats[t])e+=i+item_stats.estats[t][n].name+" "+item_stats.estats[t][n].value,""==i&&(i="<br>");set_stat_value("enhance_stats",e)}if(void 0!==item_stats.pm&&void 0!==item_stats.pm[t])set_stat_value("pm",item_stats.pm[t]),$("#pm .qtooltip").qtip(qtip_options());if(void 0!==item_stats.spm&&void 0!==item_stats.spm[t])console.log(item_stats.spm[t]),set_stat_value("spm",item_stats.spm[t]),$("#spm .qtooltip").qtip(qtip_options());if(void 0!==item_stats.tm&&void 0!==item_stats.tm[t])set_stat_value("tm",item_stats.tm[t]),$("#tm .qtooltip").qtip(qtip_options());if(void 0!==item_stats.stm&&void 0!==item_stats.stm[t])set_stat_value("stm",item_stats.stm[t]),$("#stm .qtooltip").qtip(qtip_options());if(void 0!==item_stats.spm&&void 0!==item_stats.spm[t])set_stat_value("spm",item_stats.spm[t]),$("#spm .qtooltip").qtip(qtip_options());if(void 0!==item_stats.sr&&void 0!==item_stats.sr[t])set_stat_value("sr",item_stats.sr[t]),$("#sr .qtooltip").qtip(qtip_options());if(void 0!==item_stats.exp&&void 0!==item_stats.exp[t])set_stat_value("exp",item_stats.exp[t])}if("undefined"!=typeof ship_stats){e="",i="";if(void 0!==ship_stats[t]&&void 0!==ship_stats[t].stats){for(var n in ship_stats[t].stats)set_stat_value("stat-"+n,ship_stats[t].stats[n]);if(void 0!==ship_stats[t].items){var o="";i="";for(var n in ship_stats[t].items)o+=i+ship_stats[t].items[n],""==i&&(i="<br>");set_stat_value("stat-ui",o),$("#stat-ui .qtooltip").qtip(qtip_options())}else set_stat_value("stat-ui","");if(void 0!==ship_stats[t].skills){var s="";i="";for(var n in ship_stats[t].skills)s+=i+ship_stats[t].skills[n],""==i&&(i="<br>");set_stat_value("stat-sk",s),$("#stat-sk .qtooltip").qtip(qtip_options())}}set_stat_value("stat-clv",t);var a=1*t+1;a>ship_stats.maxlevel&&(a=ship_stats.maxlevel),set_stat_value("stat-nlv",a)}if("undefined"!=typeof card_stats){e="";var r="";i="";if(void 0!==card_stats.stats&&void 0!==card_stats.stats[t]){for(var n in card_stats.stats[t])3==n&&set_stat_value("stat_"+n,card_stats.stats[t][n].value),4==n&&set_stat_value("stat_"+n,card_stats.stats[t][n].value),10==n?set_stat_value("stat_"+n,card_stats.stats[t][n].value):void 0!==card_stats.stats[t][n].name&&(e+=i+card_stats.stats[t][n].name+": "+card_stats.stats[t][n].value),""==i&&(i="<br>");if(set_stat_value("main_stats",e),void 0!==card_stats.improvement){for(var n in i="",card_stats.improvement[t])r+=i+card_stats.improvement[t][n],""==i&&(i="<br>");set_stat_value("improvement_data",r);for(var l="",c=0;c<card_stats.maxlevel;c++)l+=c<t?'<div class="card_gem_1"></div>':'<div class="card_gem_0"></div>';$(".card_level").html(l)}}}if("undefined"!=typeof card_skills){s="",i="";if(void 0!==card_skills[t]){for(var h in card_skills[t])s+=i+card_skills[t][h];set_stat_value("card_skills",s),$("#card_skills .qtooltip").qtip(qtip_options())}}}function set_grade_icon(t,e){for(var i="",n=0;n<e;n++)i+=n<t?'<img src="/images/icon_polish_on.webp">':'<img src="/images/icon_polish_off.webp">';$("#polish_level").html(i)}function set_skill_stats(t){"undefined"!=typeof skill_stats&&(set_stat_value("stat-sdesc",skill_stats[t].sdesc),set_stat_value("stat-mp",skill_stats[t].mp),set_stat_value("stat-rlv",skill_stats[t].rlv))}function set_guild_research_stats(t){"undefined"!=typeof research_data&&(set_stat_value("stat-desc",research_data[t].desc),set_stat_value("stat-rlv",research_data[t].rlv),set_stat_value("stat-rt",research_data[t].rt),set_stat_value("stat-rc",research_data[t].rc))}function set_stat_value(t,e){$("#"+t).html(e)}function set_enchant_item(t,e){var i=enchantment_array[e].need_enchant_item_icon;i=i.replace(".dds",".webp").toLowerCase();var n='<div class="iconset_wrapper_medium inlinediv"><a href="/ru/item/'+enchantment_array[e].need_enchant_item_id+'/" class="qtooltip" data-id="item--'+enchantment_array[e].need_enchant_item_id+'" data-enchant="0"><div class="icon_wrapper"><img src="/items/'+i+'" alt="icon" class="list_icon_medium"></div></a></div> - <a href="/ru/item/'+enchantment_array[e].need_enchant_item_id+'/" class="qtooltip item_grade_0" data-id="item--'+enchantment_array[e].need_enchant_item_id+'">'+enchantment_array[e].need_enchant_item_name+"</a>";$("#"+t).html(n),$(".qtooltip").each((function(){$(this).qtip(qtip_options())}))}function set_toggle_event_old(){$(".toggle-image").each((function(){$(this).unbind("click"),$(this).click((function(){$(this).siblings(".content").toggle(),$(this).toggleClass("toggle-open"),$(this).siblings().each((function(){$(this).html().length<5&&get_sub_materials($(this).data("id"),$(this).data("type"),$(this).data("name"),$(this))})),$(this).siblings(".sub_materials").toggle()}))})),$(".qtooltip").each((function(){$(this).qtip(qtip_options())})),$("#craft_counter").keyup()}function set_toggle_event(){$(".toggle-image").each((function(){$(this).unbind("click"),$(this).click((function(){$(this).toggleClass("toggle-open"),$(this).siblings(".sub_materials").each((function(){get_sub_materials($(this).data("id"),$(this).data("type"),this)})),$(this).siblings(".sub_materials").toggle()}))})),$(".toggle .qtooltip").each((function(){$(this).data("qtip")||$(this).qtip(qtip_options())})),$("#craft_counter").keyup()}function fadeout2(){$(".test").hover((function(){$(this).stop().animate({opacity:"0.5"},"fast")}),(function(){$(this).stop().animate({opacity:"1"},"fast")}))}function loading_handler(){var t=$("#loading");$(document).ajaxStart((function(){t.modal("show")})).ajaxStop((function(){t.modal("hide")}))}function linktip(){$('a[href^="http://lostarkcodex.com/"]').each((function(){var t=this.pathname.replace(/(^\/|\/$)/g,"").split("/");$(t).size()>=3&&("item"!=t[1]&&"npc"!=t[1]&&"quest"!=t[1]&&"recipe"!=t[1]&&"design"!=t[1]&&"title"!=t[1]&&"theme"!=t[1]&&"skill"!=t[1]&&"buff"!=t[1]&&"itemset"!=t[1]&&"sskill"!=t[1]&&"guildquest"!=t[1]&&"house"!=t[1]||("quest"==t[1]&&3 in t?($(this).attr("data-id",t[1]+"--"+t[3].replace(/[^0-9]/,"")),$(this).attr("data-quest_group",t[2].replace(/[^0-9]/,""))):$(this).attr("data-id",t[1]+"--"+t[2].replace(/[^0-9]/,"")),$(this).qtip(qtip_options())))}))}function fade_effect(t,e){1==e?$(t).stop().animate({opacity:"1"},"fast"):-1==e?$(t).stop().animate({opacity:"0.1"},"fast"):$(t).stop().animate({opacity:"0.4"},"fast")}function save_price(t,e){$.post("/ajax.php",{a:"save_price",item_id:t,item_price:e,l:lang}).done((function(t){(t=JSON.parse(t)).result}))}$(document).ready((function(){var t=document.location.toString();t.match("#tabs-")&&$('.nav-tabs a[href="#'+t.split("#")[1]+'"]').tab("show"),$("#main-menu").on("beforeshow.smapi",(function(t,e){"DatabaseDropdown"==$(e).attr("aria-labelledby")&&($("#main-menu").hasClass("sm-collapsible")||($("#top_slot").addClass("curtain_new"),curtaint_pending=!1))})).on("hideAll.smapi",(function(t,e){$("#main-menu").hasClass("sm-collapsible")||(curtaint_pending=!0,delay((function(){curtaint_pending&&$("#top_slot").removeClass("curtain_new")}),3e3))})),$("#comment_text").markItUp(mySettings),$("#emoticons a").click((function(){return emoticon=$(this).attr("title"),$.markItUp({replaceWith:emoticon}),!1})),$("#dialoglink").click((function(){$("#loginblock").dialog({dialogClass:"login",height:190,width:270,modal:!0})})),$("#subscribe_button").click((function(){process_subscription(this)})),$("#unsub_all_button").click((function(){unsubscribe_all(this)})),$(".save_settings_button").click((function(){save_user_settings()})),$(".user_filter").click((function(){toggle_filter(this)})),$(".news_archive").on("click",(function(){$(".old_news").toggle("fast")})),$(".selectall").on("click",(function(){$(this).select()})),$(".toggle_text").click((function(){$("#"+$(this).data("target_id")).toggle()})),$(".qtooltip").each((function(){$(this).qtip(qtip_options())})),$(".copy").on("click",(function(){clipboard.copy($("#"+$(this).data("cid")).val())})),$(".skill_feature.copy").on("click",(function(){window.event.ctrlKey&&clipboard.copy($(this).attr("title"))}));var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/ac.php?l="+lang+"&term=%QUERY",wildcard:"%QUERY",rateLimitWait:800},limit:1/0});e.initialize();var i=3;"kr"!=lang&&"jp"!=lang||(i=2),$(".typeahead").typeahead({hint:!0,highlight:!0,minLength:i},{name:"matched-links",displayKey:"name",limit:1/0,source:e.ttAdapter(),templates:{empty:null,suggestion:Handlebars.compile('<div class="qtooltip" data-id="{{link_type}}--{{value}}"{{link_addon}}><a href="{{link}}" target="_blank"><div><div class="search_icon_wrapper icon_grade_{{grade}}"><img src="/{{icon_path}}/{{icon}}" class="image-text" alt="icon" width="40px" height="40px"><div class="{{subicon}}">{{subiconvalue}}</div></div> <span class="item_grade_{{grade}}">{{name}}</span><span class="object_type">{{object_type}}</span></div></a></div>')}}),$(".typeahead").bind("typeahead:render",(function(t,e,i,n){$(".qtooltip.tt-suggestion").each((function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||$(this).qtip(qtip_options())}))})),$(".typeahead").on("typeahead:selected",(function(t,e){})),$(".toggler").click((function(){$("#"+$(this).data("group_id")).toggle(),$(this).children(".plus_minus").toggleClass("toggle-open")})),$(".grade_plus").on("click",(function(){var t=$("#grade_value"),e=t.html(),i=t.data("max_grade");e<i&&(e++,t.html(e),set_stats(e),set_grade_icon(e,i),update_hash(e))})),$(".grade_minus").on("click",(function(){var t=$("#grade_value"),e=t.html(),i=t.data("max_grade");e>0&&(e--,t.html(e),set_grade_icon(e,i),set_stats(e),update_hash(e))})),$(".card_level_plus").on("click",(function(){var t=$("#level_value"),e=t.html();e<t.data("max_level")&&(e++,t.html(e),set_stats(e),update_hash(e))})),$(".card_level_minus").on("click",(function(){var t=$("#level_value"),e=t.html();e>0&&(e--,t.html(e),set_stats(e),update_hash(e))})),$(".ship_level_plus").on("click",(function(){var t=$("#level_value"),e=t.html();e<t.data("max_level")&&(e++,t.html(e),set_stats(e),update_hash(e))})),$(".ship_level_minus").on("click",(function(){var t=$("#level_value"),e=t.html();e>1&&(e--,t.html(e),set_stats(e),update_hash(e))})),add_price_handler(),$("#craft_counter").keyup((function(){var t=$(this).val();$(".counter_value").each((function(){var e=$(this).parent().parent().parent().parent().children(".counter_value").html(),i=$(this).data("material"),n=$(this).data("product");if($(this).text(i*t),null!=e&&e.length>0){var o=Math.ceil(e/n);$(this).text(i*o)}})),update_total_price()})),$("#market_price").keyup((function(){update_total_price()})),$("#products_per_craft").keyup((function(){update_total_price()})),set_toggle_event(),$(".lv_minus,.lv_plus").on("click",(function(){"mount"==$(this).data("type")?set_mount_data(this):set_pet_data(this)})),$(".slv_plus").on("click",(function(){var t=$("#slv_value"),e=t.html();e<t.data("max_level")&&(e++,t.html(e),set_skill_stats(e),update_hash(e))})),$(".slv_minus").on("click",(function(){var t=$("#slv_value"),e=t.html();e>1&&(e--,t.html(e),set_skill_stats(e),update_hash(e))})),$(".grlv_plus").on("click",(function(){var t=$("#grlv_value"),e=t.html();e<t.data("max_level")&&(e++,t.html(e),set_guild_research_stats(e))})),$(".grlv_minus").on("click",(function(){var t=$("#grlv_value"),e=t.html();e>1&&(e--,t.html(e),set_guild_research_stats(e))})),$(".show_all_languages").change((function(){filter_comments(this)}));var n=0;$(".polish_level").each((function(){$(this).click((function(t){t.stopPropagation()})).change((function(){var t=$(this).prop("selectedIndex");if(n!=t){var e=$(this).data("col");gear_table.data().each((function(i){var n,o=JSON.parse(i[e]),s=o.length-1;n=t>o.length-1?o[o.length-1]:o[t];void 0!==n&&("gs"in n&&(i[4].display_value=n.gs,i[4].sort_value=n.gs),"dam"in n&&(i[5].display_value=n.dam,i[5].sort_value=n.dam),"str"in n&&(i[6].display_value=n.str,i[6].sort_value=n.str),"agi"in n&&(i[7].display_value=n.agi,i[7].sort_value=n.agi),"int"in n&&(i[8].display_value=n.int,i[8].sort_value=n.int),"def"in n&&(i[9].display_value=n.def,i[9].sort_value=n.def),"con"in n&&(i[10].display_value=n.con,i[10].sort_value=n.con))})),gear_table.rows().invalidate(),gear_table.order([[4,"desc"],[2,"asc"]]).draw(),n=t}}))})),get_hash()})),$.fn.dataTable.ext.search.push((function(t,e,i){if($("#"+t.sTableId+"_min").length&&$("#"+t.sTableId+"_max").length){var n=$("#"+t.sTableId+"_min").val(),o=$("#"+t.sTableId+"_max").val(),s=$("#"+t.sTableId+"_min").data("col"),a="-"==e[s]?0:1*e[s];return""==n&&""==o||(""==n&&a<=o||(n<=a&&""==o||n<=a&&a<=o))}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i){if($("#"+t.sTableId+"_class_filters").length){var n=[101,102,112,103,104,105,201,202,203,204,205,301,302,303,304,305,311,312,401,402,403,404,405,501,502,503,504,505,511,512,601,602,603,604],o=JSON.parse(e[$("#"+t.sTableId+"_class_102").data("col")]),s=!1,a=!1;if($.inArray(255,o)>-1||0==o.length)s=!0;else for(var r=0;r<n.length;r++){var l=$("#"+t.sTableId+"_class_"+n[r]);if(l.length&&l.is(":checked")){a=!0;var c=l.data("class_id");$.inArray(c,o)>-1&&(s=!0)}}return 0==a&&(s=!0),s}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){var o=$("#"+t.sTableId+"_zone_type_filters");if(o.length){for(var s=[1,2,3,4,5,6,7],a=JSON.parse(n[o.data("col")]),r=!1,l=!1,c=0;c<s.length;c++){var h=$("#"+t.sTableId+"_zone_type_"+s[c]);if(h.length&&h.is(":checked"))l=!0,h.data("zone_type_id")==a&&(r=!0)}return 0==l&&(r=!0),r}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){var o=$("#"+t.sTableId+"_continent_type_filters");if(o.length){for(var s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],a=JSON.parse(n[o.data("col")]),r=!1,l=!1,c=0;c<s.length;c++){var h=$("#"+t.sTableId+"_continent_type_"+s[c]);if(h.length&&h.is(":checked"))l=!0,h.data("continent_type_id")==a&&(r=!0)}return 0==l&&(r=!0),r}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_equip_type_filters").length){for(var o=["_all_gear","_weapon","_subweapon","_helm","_body","_gloves","_boots","_costume"],s=JSON.parse(n[$("#"+t.sTableId+"_weapon").data("col")].sort_value),a=0;a<o.length;a++){var r=$("#"+t.sTableId+o[a]);if(r.length&&r.is(":checked"))if(r.data("slot_id")==s)return!0}return!1}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_skill_type_filters").length){for(var o=[1],s=JSON.parse(n[$("#"+t.sTableId+"_skill_type_1").data("col")]),a=!1,r=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+"_skill_type_"+o[l]);if(c.length&&c.is(":checked"))r=!0,c.data("skill_type")==s&&(a=!0)}return 0==r&&(a=!0),a}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_search_filters").length){var o=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];console.log(n[$("#"+t.sTableId+"_object_1").data("col")]);for(var s=JSON.parse(n[$("#"+t.sTableId+"_object_1").data("col")].sort_value),a=!1,r=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+"_object_"+o[l]);if(c.length&&c.is(":checked"))r=!0,c.data("object_id")==s&&(a=!0)}return 0==r&&(a=!0),a}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_quest_rewards_filters").length){for(var o=["_exp","_inventory","_intimacy","_skill_exp","_life_exp","_enchantment","_cp","_gold"],s=JSON.parse(e[$("#"+t.sTableId+"_exp").data("col")]),a=!1,r=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+o[l]);if(c.length&&c.is(":checked")){r=!0;var h=c.data("reward_type");-1!=$.inArray(h,s)&&(a=!0)}}return 0==r&&(a=!0),a}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_quests_skill_exp_filters").length){if($("#"+t.sTableId+"_quests_skill_exp_min").length&&$("#"+t.sTableId+"_quests_skill_exp_max").length){var o=$("#"+t.sTableId+"_quests_skill_exp_min").val(),s=$("#"+t.sTableId+"_quests_skill_exp_max").val(),a=($("#"+t.sTableId+"_quests_skill_exp_min").data("col"),JSON.parse(n[$("#"+t.sTableId+"_quests_skill_exp_min").data("col")].sort_value)),r="-"==a?0:1*a;return""==o&&""==s||(""==o&&r<=s||(o<=r&&""==s||o<=r&&r<=s))}return!0}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_quests_exp_filters").length){if($("#"+t.sTableId+"_quests_exp_min").length&&$("#"+t.sTableId+"_quests_exp_max").length){var o=$("#"+t.sTableId+"_quests_exp_min").val(),s=$("#"+t.sTableId+"_quests_exp_max").val(),a=($("#"+t.sTableId+"_quests_exp_min").data("col"),JSON.parse(n[$("#"+t.sTableId+"_quests_exp_min").data("col")].sort_value)),r="-"==a?0:1*a;return""==o&&""==s||(""==o&&r<=s||(o<=r&&""==s||o<=r&&r<=s))}return!0}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_quest_type_filters").length){for(var o=["_type_0","_type_1","_type_2","_type_3","_type_4","_type_5"],s=JSON.parse(n[$("#"+t.sTableId+"_type_0").data("col")]),a=!1,r=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+o[l]);if(c.length&&c.is(":checked"))r=!0,c.data("type")==s&&(a=!0)}return 0==r&&(a=!0),a}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_gatherable_type_filters").length){for(var o=["_gatherable_type_2","_gatherable_type_4","_gatherable_type_6","_gatherable_type_7"],s=JSON.parse(n[$("#"+t.sTableId+"_gatherable_type_2").data("col")].sort_value),a=!0,r=0;r<o.length;r++){var l=$("#"+t.sTableId+o[r]);if(l.length&&l.is(":checked"))l.data("gatherable_type")!=s&&(a=!1)}return a}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){var o=$("#"+t.sTableId+"_element_filters");if(o.length){for(var s=[1,2,3,4,5,6],a=JSON.parse(n[o.data("col")].sort_value),r=!0,l=0;l<s.length;l++){var c=$("#"+t.sTableId+"_element_"+s[l]);if(c.length&&1==c.attr("data-state"))c.data("id")!=a&&(r=!1)}return r}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){var o=$("#"+t.sTableId+"_species_filters");if(o.length){for(var s=[1,2,3,4,5,6,7,8,9,10,11],a=JSON.parse(n[o.data("col")].sort_value),r=!0,l=0;l<s.length;l++){var c=$("#"+t.sTableId+"_species_"+s[l]);if(c.length&&1==c.attr("data-state"))c.data("id")!=a&&(r=!1)}return r}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i){if($("#"+t.sTableId+"_grade_filters").length){for(var n=[0,1,2,3,4,5,6,7,8,9],o=JSON.parse(e[$("#"+t.sTableId+"_grade_0").data("col")]),s=!1,a=!0,r=0;r<n.length;r++){var l=$("#"+t.sTableId+"_grade_"+n[r]);if(l.length&&l.is(":checked"))a=!1,l.data("grade_id")==o&&(s=!0)}return a&&(s=!0),s}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){var o=$("#"+t.sTableId+"_ship_type_filters");if(o.length){for(var s=[0,1,2,3,4,5,6,7,8,9,10],a=JSON.parse(n[o.data("col")].sort_value),r=!0,l=!0,c=0;c<s.length;c++){var h=$("#"+t.sTableId+"_ship_type_"+s[c]);if(h.length&&h.is(":checked"))l=!1,h.data("ship_type")!=a&&(r=!1)}return l&&(r=!0),r}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i){if($("#"+t.sTableId+"_pet_types_filters").length){for(var n=[0,1],o=JSON.parse(e[$("#"+t.sTableId+"_type_0").data("col")]),s=!1,a=!0,r=0;r<n.length;r++){var l=$("#"+t.sTableId+"_type_"+n[r]);if(l.length&&l.is(":checked"))a=!1,l.data("type_id")==o&&(s=!0)}return a&&(s=!0),s}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i){if($("#"+t.sTableId+"_reward_type_filters").length){for(var n=[1,2,3,4],o=JSON.parse(e[$("#"+t.sTableId+"_reward_type_filters").data("col")]),s=!1,a=!0,r=0;r<n.length;r++){var l=$("#"+t.sTableId+"_reward_type_"+n[r]);if(l.length&&l.is(":checked"))a=!1,l.data("reward_type")==o&&(s=!0)}return a&&(s=!0),s}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i){if($("#"+t.sTableId+"_material_filters").length){var n=JSON.parse(e[8]),o=!0;if("undefined"!=filter_array.length)for(var s=0;s<filter_array.length;s++)-1==$.inArray(filter_array[s],n)&&(o=!1);return o}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i){if($("#"+t.sTableId+"_product_effect_filters").length){var n=JSON.parse(e[9]),o=!0;if("undefined"!=effects_filter_array.length)for(var s=0;s<effects_filter_array.length;s++)-1==$.inArray(effects_filter_array[s],n)&&(o=!1);return o}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_craft_level_filters").length){for(var o=[0,1,2,3,4,5,6],s=JSON.parse(n[$("#"+t.sTableId+"_craft_level_0").data("col")].sort_value),a=0;a<o.length;a++){var r=$("#"+t.sTableId+"_craft_level_"+o[a]);if(r.length&&!r.is(":checked")){var l=r.data("level");if(s>l-10&&s<=l)return!1}}return!0}return!0})),$.fn.dataTable.ext.search.push((function(t,e,i,n){if($("#"+t.sTableId+"_recipe_type_filters").length>0){for(var o=[0,1,2,3,"fav"],s=e[$("#"+t.sTableId+"_recipe_type_0").data("col")],a=e[$("#"+t.sTableId+"_recipe_type_fav").data("col")],r=!1,l=!0,c=0;c<o.length;c++){var h=$("#"+t.sTableId+"_recipe_type_"+o[c]);if(h.length&&h.is(":checked")){l=!1;var u=h.data("type");"fav"==o[c]?a==u&&(r=!0):s==u&&(r=!0)}}return l&&(r=!0),r}return!0}));var delay=function(){var t=0;return function(e,i){clearTimeout(t),t=setTimeout(e,i)}}();function process_subscription(t){var e=$(t).attr("data-action");$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"subscription",sub_a:e,object_type_id:$(t).data("object_type_id"),object_id:$(t).data("object_id"),title:$(t).data("title")}}).then((function(t){1==t.result&&(0==(e^=1)?$("#subscribe_button").html(subscribe_msg).removeClass("btn-default").addClass("btn-success"):$("#subscribe_button").html(unsubscribe_msg).removeClass("btn-success").addClass("btn-default"),$("#subscribe_button").attr("data-action",e))}),(function(t,e,i){alert("STATUS: "+e+" ERROR: "+i)}))}function favorite_recipe(t,e){var i=$(t).data("recipe_id"),n=0;$(t).children("input").is(":checked")&&(n=1),e.cell($(t).parent().closest("tr"),11).data(n),$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"favorite",recipe_id:i,state:n}}).then((function(t){t.result}),(function(t,e,i){alert("STATUS: "+e+" ERROR: "+i)}))}function unsubscribe(t){var e=$(t).attr("data-id");$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"unsubscribe",sub_id:e}}).then((function(e){1==e.result&&$(t).closest("tr").remove()}),(function(t,e,i){alert("STATUS: "+e+" ERROR: "+i)}))}function unsubscribe_all(t){$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"unsubscribe_all"}}).then((function(e){1==e.result&&$("#"+$(t).data("name")).empty()}),(function(t,e,i){alert("STATUS: "+e+" ERROR: "+i)}))}function save_user_settings(){var t=$("#enable_email_notification"),e=0;t.length&&t.is(":checked")&&(e=1);var i=$("#subscribe_by_default"),n=0;i.length&&i.is(":checked")&&(n=1);var o=$("#entries_per_page").val();$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"save_user_settings",enable_notification:e,subscribe_by_default:n,entries_per_page:o}}).then((function(t){1==t.result&&$("#popup_message").show("clip").delay(3e3).hide("clip")}),(function(t,e,i){alert("STATUS: "+e+" ERROR: "+i)}))}function get_hash(){if("undefined"!=typeof skill_stats){var t=/[^0-9]/gm,e="",i=1*(c=window.location.hash.replace("#","").split("|"))[0].replace(t,e),n=(h=$("#slv_value")).data("max_level");if(i>0&&i<=n){h.html(i),set_skill_stats(i);var o="#"+i;c.length>1&&(o+="|"+c[1]),window.history.replaceState({},"",o);var s=$("#item_name").text();$("#bbcode").val("[url="+window.location.href+"]"+s+"[/url]"),$("#htmllink").val('<a href="'+window.location.href+'">'+s+"</a>")}}else if("undefined"!=typeof item_stats){t=/[^0-9]/gm,e="";var a=1*(c=window.location.hash.replace("#","").split("|"))[0].replace(t,e),r=$("#grade_value"),l=r.data("max_grade");if(a>0&&a<=l){r.html(a),set_grade_icon(a,l),set_stats(a);o="#"+a;c.length>1&&(o+="|"+c[1]),window.history.replaceState({},"",o);s=$("#item_name").text();$("#bbcode").val("[url="+window.location.href+"]"+s+"[/url]"),$("#htmllink").val('<a href="'+window.location.href+'">'+s+"</a>")}}else if("undefined"!=typeof ship_stats){t=/[^0-9]/gm,e="",i=1*(c=window.location.hash.replace("#","").split("|"))[0].replace(t,e),n=(h=$("#level_value")).data("max_level");if(i>0&&i<=n){h.html(i),set_stats(i);o="#"+i;c.length>1&&(o+="|"+c[1]),window.history.replaceState({},"",o);s=$("#ship_name").text();$("#bbcode").val("[url="+window.location.href+"]"+s+"[/url]"),$("#htmllink").val('<a href="'+window.location.href+'">'+s+"</a>")}}else if("undefined"!=typeof research_data){var c,h;t=/[^0-9]/gm,e="",i=1*(c=window.location.hash.replace("#","").split("|"))[0].replace(t,e),n=(h=$("#grlv_value")).data("max_level");if(i>0&&i<=n){h.html(i),set_guild_research_stats(i);o="#"+i;c.length>1&&(o+="|"+c[1]),window.history.replaceState({},"",o);s=$("#ship_name").text();$("#bbcode").val("[url="+window.location.href+"]"+s+"[/url]"),$("#htmllink").val('<a href="'+window.location.href+'">'+s+"</a>")}}}function get_enchant_items(t){$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"enchant_items",data:t}}).then((function(t){1==t.result&&set_enchant_slots(t.data)}),(function(t,e,i){alert("STATUS: "+e+" ERROR: "+i)}))}function set_enchant_slots(t){for(var e in t=JSON.parse(t)){var i='- <a href="/'+lang+"/item/"+t[e].item_id+'/" class="qtooltip item_grade_'+t[e].item_grade+'" data-id="item--'+t[e].item_id+'">'+t[e].item_name+"</a>",n=$('.stone_socket[data-state="0"]').first();n.length&&(n.attr("data-state",1),n.html(i))}$('.stone_socket[data-state="1"] .qtooltip').each((function(){$(this).qtip(qtip_options())}))}function update_hash(t){var e=window.location.hash.replace("#","").split("|");void 0!==e[1]?window.history.replaceState({},"","#"+t+"|"+e[1]):window.history.replaceState({},"","#"+t);var i=$("#item_name").text();$("#bbcode").val("[url="+window.location.href+"]"+i+"[/url]"),$("#htmllink").val('<a href="'+window.location.href+'">'+i+"</a>")}function save_ui_settings(t){var e=$(t).data("target"),i=$(t).attr("data-state");i^=1,$(t).attr("data-state",i),$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"update_ui_settings",name:e,state:i}}).then((function(t){t.result}),(function(t,e,i){alert("STATUS: "+e+" ERROR: "+i)}))}function toggle_filter(t){$(t).data("bs-target");var e=$(t).attr("data-state"),i=(e^=1)?"up":"down";$(t).find(".collapse_marker").html('<svg class="bi vote_arrow" width="24" height="24" fill="currentColor"><use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#caret-'+i+'-fill"/></svg>'),$(t).attr("data-state",e)}function load_favorites(){$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"load_favorites"}}).then((function(t){1==t.result&&(favorites=JSON.parse(t.data))}),(function(t,e,i){alert("STATUS: "+e+" ERROR: "+i)}))}function update_total_price(){$("#total_price").text(0).attr("data-price",0);var t=!1;$(".set_container").length&&(t=!0),$(".material_price").each((function(){var e=$(this).parents(".set_container").data("set_id"),i=$('.check_set_id[data-set_id="'+e+'"]').prop("checked");if(!t||t&&i){var n=$(this).data("item_id"),o=!1,s=$('.check_rid[data-pid="'+n+'"]');if(s.each((function(){s.prop("checked")&&(o=!0)})),!o){var a=$(this).data("rid"),r=$('.check_rid[data-rid="'+a+'"]');r.length>0?r.prop("checked")&&calculate_price(this):calculate_price(this)}}}));var e=1*$("#total_price").text(),i=1*$("#market_price").val();i>0&&$("#profit").text(cut_number(i*$("#craft_counter").val()-e,2))}function cut_number(t,e){var i=String(t).indexOf(".");return i>0&&(t=e>0?String(t).substr(0,i+e+1):String(t).substr(0,i)),t}function number_format(t,e){return null==e&&(e=","),t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}var getUrlParameter=function(t){var e,i,n=window.location.search.substring(1).split("&");for(i=0;i<n.length;i++)if((e=n[i].split("="))[0]===t)return void 0===e[1]||decodeURIComponent(e[1])};function is_mobile(){return isMobile=/android|ipad|iphone|ipod|samsung|webos|iemobile|opera mini|blackberry/i.test(navigator.userAgent)}var filter_pending=!1,selected_events=[],calendar_filter_query="";function init_calendar(){var t=new Date,e=t.getDate(),i=t.getMonth()+1;print_events_new(i,e),$(".calendar_day").each((function(){$(this).on("click",(function(){e=1*$(this).data("day"),print_events_new(i=1*$(this).data("month"),e),$(".calendar_day").each((function(){$(this).removeClass("calendar_selected_day")})),$(this).addClass("calendar_selected_day")}))})),$("#calendar_search").keyup((function(){var t,e=$(this).val();e!==calendar_filter_query&&(calendar_filter_query=e,clear_filter(),filter_pending=!0,e.length>2?(t=e,delay((function(){filter_pending&&filter_events(t)}),500)):filter_pending=!1)})),$("#calendar_clear_search").click((function(){$("#calendar_search").val(""),clear_filter(),refresh_selected_day()}))}function print_events_old(t,e){var i="";for(var n in calendar_msgs[0]){if(i+='<div class="fw-bold"><img src="/images/'+calendar_msgs[0][n][1]+'" alt="icon"> '+calendar_msgs[0][n][0]+"</div>",i+="<div>",void 0!==calendar_data[n]&&void 0!==calendar_data[n][t]&&void 0!==calendar_data[n][t][e])for(var o in calendar_data[n][t][e])for(var s in calendar_data[n][t][e][o]){var a="";for(var r in calendar_data[n][t][e][o][s])a+=calendar_data[n][t][e][o][s][r]+" ";i+='<div><img src="/icons/'+calendar_events[s][1]+'" width="25px" height="25px" alt="icon"> ['+calendar_events[s][2]+"] "+calendar_events[s][0]+" - "+a+"</div>"}i+="</div>",i+="</div>"}document.querySelector(".calendar_events").innerHTML=i}function refresh_selected_day(){$(".calendar_selected_day").each((function(){var t=1*$(this).data("day");print_events_new(1*$(this).data("month"),t)}))}function print_events_new(t,e){var i="",n=new Date,o=(n.getHours(),n.getMinutes(),n.getFullYear());n.getMonth(),n.getDay();for(var s in i+='<div class="accordion">',calendar_msgs[0]){var a="",r="",l=!1,c="",h="",u=0;if(void 0!==calendar_data[s]&&void 0!==calendar_data[s][t]&&void 0!==calendar_data[s][t][e])for(var d in calendar_data[s][t][e])for(var p in calendar_data[s][t][e][d]){var f=!1;$.inArray(p,selected_events)>-1&&(l=!0,f=!0);var m="";for(var _ in calendar_data[s][t][e][d][p]){var g,v="";if(calendar_data[s][t][e][d][p][_].includes("-"))g=calendar_data[s][t][e][d][p][_].split("-")[1];else g=calendar_data[s][t][e][d][p][_];Date.parse(o+" "+t+" "+e+" "+g)<n.getTime()?m+=v+'<span class="calendar_expired">'+calendar_data[s][t][e][d][p][_]+"</span> ":m+=v+calendar_data[s][t][e][d][p][_]+" ",""===v&&(v=", ")}var y="";y=f?'<span class="light_green_text">'+calendar_events[p][0]+"</span>":calendar_events[p][0],r+='<div><img src="/icons/'+calendar_events[p][1]+'" width="25px" height="25px" alt="icon"> ['+calendar_events[p][2]+"] "+y+" - "+m+"</div>",u++}l?(c="",h=" show"):(c=" collapsed",h=""),a+='<div class="accordion-item">',a+='<h2 class="accordion-header" id="category-header-'+s+'"><button class="accordion-button calendar_accordion'+c+'" type="button" data-bs-toggle="collapse" data-bs-target="#category-content-'+s+'" aria-expanded="false" aria-controls="category-content-'+s+'"><img src="/images/'+calendar_msgs[0][s][1]+'" alt="icon"> '+calendar_msgs[0][s][0]+" ("+u+")</button></h2>",i+=(a+='<div id="category-content-'+s+'" class="accordion-collapse collapse'+h+'" aria-labelledby="category-header-'+s+'"><div class="accordion-body">')+r,i+="</div>",i+="</div>",i+="</div>"}i+="</div>",$(".calendar_events").html(i)}function clear_filter(){selected_events=[],$(".calendar_day").each((function(){$(this).removeClass("calendar_filtered")}))}function filter_events(t){for(var e in calendar_events)calendar_events[e][0].toLowerCase().search(t.toLowerCase())>-1&&selected_events.push(e);for(var i in calendar_data)for(var n in calendar_data[i])for(var o in calendar_data[i][n])for(var s in calendar_data[i][n][o])for(var a in calendar_data[i][n][o][s]){$.inArray(a,selected_events)>-1&&$('.calendar_day[data-month="'+n+'"][data-day="'+o+'"]').addClass("calendar_filtered")}}$(document).ready((function(){"undefined"!=typeof calendar_msgs&&init_calendar()}));
//# sourceMappingURL=bundle-1674475108829.min.js.map